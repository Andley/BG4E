/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var ft=Object.defineProperty;var oo=Object.getOwnPropertyDescriptor;var ao=Object.getOwnPropertyNames;var so=Object.prototype.hasOwnProperty;var no=(o,e,t)=>e in o?ft(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var Mt=(o,e)=>{for(var t in e)ft(o,t,{get:e[t],enumerable:!0})},io=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ao(e))!so.call(o,a)&&a!==t&&ft(o,a,{get:()=>e[a],enumerable:!(r=oo(e,a))||r.enumerable});return o};var lo=o=>io(ft({},"__esModule",{value:!0}),o);var Z=(o,e,t)=>(no(o,typeof e!="symbol"?e+"":e,t),t);var Va={};Mt(Va,{default:()=>kt});module.exports=lo(Va);var ye=require("obsidian");var fo={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,e){console&&console[o]&&console[o].apply(console,e)}},Lt=class o{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||fo,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new o(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new o(this.logger,e)}},Me=new Lt,je=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let a=this.observers[r].get(t)||0;this.observers[r].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(n=>{let[l,i]=n;for(let u=0;u<i;u++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(n=>{let[l,i]=n;for(let u=0;u<i;u++)l.apply(l,[e,...r])})}},Ze=()=>{let o,e,t=new Promise((r,a)=>{o=r,e=a});return t.resolve=o,t.reject=e,t},vr=o=>o==null?"":""+o,uo=(o,e,t)=>{o.forEach(r=>{e[r]&&(t[r]=e[r])})},po=/###/g,wr=o=>o&&o.indexOf("###")>-1?o.replace(po,"."):o,kr=o=>!o||typeof o=="string",Ye=(o,e,t)=>{let r=typeof e!="string"?e:e.split("."),a=0;for(;a<r.length-1;){if(kr(o))return{};let s=wr(r[a]);!o[s]&&t&&(o[s]=new t),Object.prototype.hasOwnProperty.call(o,s)?o=o[s]:o={},++a}return kr(o)?{}:{obj:o,k:wr(r[a])}},$r=(o,e,t)=>{let{obj:r,k:a}=Ye(o,e,Object);if(r!==void 0||e.length===1){r[a]=t;return}let s=e[e.length-1],n=e.slice(0,e.length-1),l=Ye(o,n,Object);for(;l.obj===void 0&&n.length;)s=`${n[n.length-1]}.${s}`,n=n.slice(0,n.length-1),l=Ye(o,n,Object),l&&l.obj&&typeof l.obj[`${l.k}.${s}`]!="undefined"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=t},co=(o,e,t,r)=>{let{obj:a,k:s}=Ye(o,e,Object);a[s]=a[s]||[],a[s].push(t)},dt=(o,e)=>{let{obj:t,k:r}=Ye(o,e);if(t)return t[r]},mo=(o,e,t)=>{let r=dt(o,t);return r!==void 0?r:dt(e,t)},Lr=(o,e,t)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in o?typeof o[r]=="string"||o[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?t&&(o[r]=e[r]):Lr(o[r],e[r],t):o[r]=e[r]);return o},Ue=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},xo=o=>typeof o=="string"?o.replace(/[&<>"'\/]/g,e=>ho[e]):o,At=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(t!==void 0)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},go=[" ",",","?","!",";"],_o=new At(20),bo=(o,e,t)=>{e=e||"",t=t||"";let r=go.filter(n=>e.indexOf(n)<0&&t.indexOf(n)<0);if(r.length===0)return!0;let a=_o.getRegExp(`(${r.map(n=>n==="?"?"\\?":n).join("|")})`),s=!a.test(o);if(!s){let n=o.indexOf(t);n>0&&!a.test(o.substring(0,n))&&(s=!0)}return s},Tt=function(o,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!o)return;if(o[e])return o[e];let r=e.split(t),a=o;for(let s=0;s<r.length;){if(!a||typeof a!="object")return;let n,l="";for(let i=s;i<r.length;++i)if(i!==s&&(l+=t),l+=r[i],n=a[l],n!==void 0){if(["string","number","boolean"].indexOf(typeof n)>-1&&i<r.length-1)continue;s+=i-s+1;break}a=n}return a},pt=o=>o&&o.indexOf("_")>0?o.replace("_","-"):o,ct=class extends je{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,n=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):typeof r=="string"&&s?l.push(...r.split(s)):l.push(r)));let i=dt(this.data,l);return!i&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),i||!n||typeof r!="string"?i:Tt(this.data&&this.data[e]&&this.data[e][t],r,s)}addResource(e,t,r,a){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=[e,t];r&&(l=l.concat(n?r.split(n):r)),e.indexOf(".")>-1&&(l=e.split("."),a=t,t=l[1]),this.addNamespaces(t),$r(this.data,l,a),s.silent||this.emit("added",e,t,r,a)}addResources(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in r)(typeof r[s]=="string"||Array.isArray(r[s]))&&this.addResource(e,t,s,r[s],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,s){let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),a=r,r=t,t=l[1]),this.addNamespaces(t);let i=dt(this.data,l)||{};n.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Lr(i,r,s):i={...i,...r},$r(this.data,l,i),n.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}},Ar={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,e,t,r,a){return o.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,t,r,a))}),e}},Fr={},mt=class o extends je{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),uo(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Me.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],n=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!bo(e,r,a);if(n&&!l){let i=e.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:e,namespaces:s};let u=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(a)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:n,namespaces:l}=this.extractFromKey(e[e.length-1],t),i=l[l.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){let F=t.nsSeparator||this.options.nsSeparator;return a?{res:`${i}${F}${n}`,usedKey:n,exactUsedKey:n,usedLng:u,usedNS:i,usedParams:this.getUsedParamsDetails(t)}:`${i}${F}${n}`}return a?{res:n,usedKey:n,exactUsedKey:n,usedLng:u,usedNS:i,usedParams:this.getUsedParamsDetails(t)}:n}let p=this.resolve(e,t),f=p&&p.res,c=p&&p.usedKey||n,h=p&&p.exactUsedKey||n,w=Object.prototype.toString.apply(f),k=["[object Number]","[object Function]","[object RegExp]"],q=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject;if(P&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&k.indexOf(w)<0&&!(typeof q=="string"&&Array.isArray(f))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(c,f,{...t,ns:l}):`key '${n} (${this.language})' returned an object instead of string.`;return a?(p.res=F,p.usedParams=this.getUsedParamsDetails(t),p):F}if(s){let F=Array.isArray(f),re=F?[]:{},ue=F?h:c;for(let z in f)if(Object.prototype.hasOwnProperty.call(f,z)){let E=`${ue}${s}${z}`;re[z]=this.translate(E,{...t,joinArrays:!1,ns:l}),re[z]===E&&(re[z]=f[z])}f=re}}else if(P&&typeof q=="string"&&Array.isArray(f))f=f.join(q),f&&(f=this.extendTranslation(f,e,t,r));else{let F=!1,re=!1,ue=t.count!==void 0&&typeof t.count!="string",z=o.hasDefaultValue(t),E=ue?this.pluralResolver.getSuffix(u,t.count,t):"",de=t.ordinal&&ue?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",me=ue&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),Se=me&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${E}`]||t[`defaultValue${de}`]||t.defaultValue;!this.isValidLookup(f)&&z&&(F=!0,f=Se),this.isValidLookup(f)||(re=!0,f=n);let oe=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:f,ae=z&&Se!==f&&this.options.updateMissing;if(re||F||ae){if(this.logger.log(ae?"updateKey":"missingKey",u,i,n,ae?Se:f),s){let H=this.resolve(n,{...t,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ke=[],$e=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$e&&$e[0])for(let H=0;H<$e.length;H++)ke.push($e[H]);else this.options.saveMissingTo==="all"?ke=this.languageUtils.toResolveHierarchy(t.lng||this.language):ke.push(t.lng||this.language);let ie=(H,Ce,Fe)=>{let Ee=z&&Fe!==f?Fe:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(H,i,Ce,Ee,ae,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(H,i,Ce,Ee,ae,t),this.emit("missingKey",H,i,Ce,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?ke.forEach(H=>{let Ce=this.pluralResolver.getSuffixes(H,t);me&&t[`defaultValue${this.options.pluralSeparator}zero`]&&Ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ce.push(`${this.options.pluralSeparator}zero`),Ce.forEach(Fe=>{ie([H],n+Fe,t[`defaultValue${Fe}`]||Se)})}):ie(ke,n,Se))}f=this.extendTranslation(f,e,t,p,r),re&&f===n&&this.options.appendNamespaceToMissingKey&&(f=`${i}:${n}`),(re||F)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${i}:${n}`:n,F?f:void 0):f=this.options.parseMissingKeyHandler(f))}return a?(p.res=f,p.usedParams=this.getUsedParamsDetails(t),p):f}extendTranslation(e,t,r,a,s){var n=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(u){let f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||a.usedLng,r),u){let f=e.match(this.interpolator.nestingRegexp),c=f&&f.length;d<c&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,c=new Array(f),h=0;h<f;h++)c[h]=arguments[h];return s&&s[0]===c[0]&&!r.context?(n.logger.warn(`It seems you are nesting recursively key: ${c[0]} in key: ${t[0]}`),null):n.translate(...c,t)},r)),r.interpolation&&this.interpolator.reset()}let l=r.postProcess||this.options.postProcess,i=typeof l=="string"?[l]:l;return e!=null&&i&&i.length&&r.applyPostProcessor!==!1&&(e=Ar.handle(i,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,s,n,l;return typeof e=="string"&&(e=[e]),e.forEach(i=>{if(this.isValidLookup(r))return;let u=this.extractFromKey(i,t),d=u.key;a=d;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));let f=t.count!==void 0&&typeof t.count!="string",c=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),h=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",w=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(k=>{this.isValidLookup(r)||(l=k,!Fr[`${w[0]}-${k}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Fr[`${w[0]}-${k}`]=!0,this.logger.warn(`key "${a}" for languages "${w.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(q=>{if(this.isValidLookup(r))return;n=q;let P=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(P,d,q,k,t);else{let F;f&&(F=this.pluralResolver.getSuffix(q,t.count,t));let re=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(P.push(d+F),t.ordinal&&F.indexOf(ue)===0&&P.push(d+F.replace(ue,this.options.pluralSeparator)),c&&P.push(d+re)),h){let z=`${d}${this.options.contextSeparator}${t.context}`;P.push(z),f&&(P.push(z+F),t.ordinal&&F.indexOf(ue)===0&&P.push(z+F.replace(ue,this.options.pluralSeparator)),c&&P.push(z+re))}}let X;for(;X=P.pop();)this.isValidLookup(r)||(s=X,r=this.getResource(q,k,X,t))}))})}),{res:r,usedKey:a,exactUsedKey:s,usedLng:n,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string",a=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(let s of t)delete a[s]}return a}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}},Rt=o=>o.charAt(0).toUpperCase()+o.slice(1),ht=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Me.create("languageUtils")}getScriptPartFromCode(e){if(e=pt(e),!e||e.indexOf("-")<0)return null;let t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=pt(e),!e||e.indexOf("-")<0)return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=Rt(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=Rt(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=Rt(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;let a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;let a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],s=n=>{n&&(this.isSupportedCode(n)?a.push(n):this.logger.warn(`rejecting language code not found in supportedLngs: ${n}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(n=>{a.indexOf(n)<0&&s(this.formatLanguageCode(n))}),a}},yo=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],So={1:o=>+(o>1),2:o=>+(o!=1),3:o=>0,4:o=>o%10==1&&o%100!=11?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2,5:o=>o==0?0:o==1?1:o==2?2:o%100>=3&&o%100<=10?3:o%100>=11?4:5,6:o=>o==1?0:o>=2&&o<=4?1:2,7:o=>o==1?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2,8:o=>o==1?0:o==2?1:o!=8&&o!=11?2:3,9:o=>+(o>=2),10:o=>o==1?0:o==2?1:o<7?2:o<11?3:4,11:o=>o==1||o==11?0:o==2||o==12?1:o>2&&o<20?2:3,12:o=>+(o%10!=1||o%100==11),13:o=>+(o!==0),14:o=>o==1?0:o==2?1:o==3?2:3,15:o=>o%10==1&&o%100!=11?0:o%10>=2&&(o%100<10||o%100>=20)?1:2,16:o=>o%10==1&&o%100!=11?0:o!==0?1:2,17:o=>o==1||o%10==1&&o%100!=11?0:1,18:o=>o==0?0:o==1?1:2,19:o=>o==1?0:o==0||o%100>1&&o%100<11?1:o%100>10&&o%100<20?2:3,20:o=>o==1?0:o==0||o%100>0&&o%100<20?1:2,21:o=>o%100==1?1:o%100==2?2:o%100==3||o%100==4?3:0,22:o=>o==1?0:o==2?1:(o<0||o>10)&&o%10==0?2:3},Co=["v1","v2","v3"],vo=["v4"],Pr={zero:0,one:1,two:2,few:3,many:4,other:5},wo=()=>{let o={};return yo.forEach(e=>{e.lngs.forEach(t=>{o[t]={numbers:e.nr,plurals:So[e.fc]}})}),o},Et=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Me.create("pluralResolver"),(!this.options.compatibilityJSON||vo.includes(this.options.compatibilityJSON))&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=wo(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{let r=pt(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let n=new Intl.PluralRules(r,{type:a});return this.pluralRulesCache[s]=n,n}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,s)=>Pr[a]-Pr[s]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(e,a,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(e,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:this.getSuffixRetroCompatible(a,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));let s=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Co.includes(this.options.compatibilityJSON)}},Mr=function(o,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=mo(o,e,t);return!s&&a&&typeof t=="string"&&(s=Tt(o,t,r),s===void 0&&(s=Tt(e,t,r))),s},Ot=o=>o.replace(/\$/g,"$$$$"),Dt=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Me.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:s,prefixEscaped:n,suffix:l,suffixEscaped:i,formatSeparator:u,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:f,nestingPrefixEscaped:c,nestingSuffix:h,nestingSuffixEscaped:w,nestingOptionsSeparator:k,maxReplaces:q,alwaysFormat:P}=e.interpolation;this.escape=t!==void 0?t:xo,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Ue(s):n||"{{",this.suffix=l?Ue(l):i||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?Ue(f):c||Ue("$t("),this.nestingSuffix=h?Ue(h):w||Ue(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=q||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,a){let s,n,l,i=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=c=>{if(c.indexOf(this.formatSeparator)<0){let q=Mr(t,i,c,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(q,void 0,r,{...a,...t,interpolationkey:c}):q}let h=c.split(this.formatSeparator),w=h.shift().trim(),k=h.join(this.formatSeparator).trim();return this.format(Mr(t,i,w,this.options.keySeparator,this.options.ignoreJSONStructure),k,r,{...a,...t,interpolationkey:w})};this.resetRegExp();let d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:c=>Ot(c)},{regex:this.regexp,safeValue:c=>this.escapeValue?Ot(this.escape(c)):Ot(c)}].forEach(c=>{for(l=0;s=c.regex.exec(e);){let h=s[1].trim();if(n=u(h),n===void 0)if(typeof d=="function"){let k=d(e,s,a);n=typeof k=="string"?k:""}else if(a&&Object.prototype.hasOwnProperty.call(a,h))n="";else if(p){n=s[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${e}`),n="";else typeof n!="string"&&!this.useRawValueToEscape&&(n=vr(n));let w=c.safeValue(n);if(e=e.replace(s[0],w),p?(c.regex.lastIndex+=n.length,c.regex.lastIndex-=s[0].length):c.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,n,l=(i,u)=>{let d=this.nestingOptionsSeparator;if(i.indexOf(d)<0)return i;let p=i.split(new RegExp(`${d}[ ]*{`)),f=`{${p[1]}`;i=p[0],f=this.interpolate(f,n);let c=f.match(/'/g),h=f.match(/"/g);(c&&c.length%2===0&&!h||h.length%2!==0)&&(f=f.replace(/'/g,'"'));try{n=JSON.parse(f),u&&(n={...u,...n})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${i}`,w),`${i}${d}${f}`}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,i};for(;a=this.nestingRegexp.exec(e);){let i=[];n={...r},n=n.replace&&typeof n.replace!="string"?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){let d=a[1].split(this.formatSeparator).map(p=>p.trim());a[1]=d.shift(),i=d,u=!0}if(s=t(l.call(this,a[1].trim(),n),n),s&&a[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=vr(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),s=""),u&&(s=i.reduce((d,p)=>this.format(d,p,r.lng,{...r,interpolationkey:a[1].trim()}),s.trim())),e=e.replace(a[0],s),this.regexp.lastIndex=0}return e}},ko=o=>{let e=o.toLowerCase().trim(),t={};if(o.indexOf("(")>-1){let r=o.split("(");e=r[0].toLowerCase().trim();let a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(n=>{if(n){let[l,...i]=n.split(":"),u=i.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Ve=o=>{let e={};return(t,r,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});let n=r+JSON.stringify(s),l=e[n];return l||(l=o(pt(r),a),e[n]=l),l(t)}},Nt=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Me.create("formatter"),this.options=e,this.formats={number:Ve((t,r)=>{let a=new Intl.NumberFormat(t,{...r});return s=>a.format(s)}),currency:Ve((t,r)=>{let a=new Intl.NumberFormat(t,{...r,style:"currency"});return s=>a.format(s)}),datetime:Ve((t,r)=>{let a=new Intl.DateTimeFormat(t,{...r});return s=>a.format(s)}),relativetime:Ve((t,r)=>{let a=new Intl.RelativeTimeFormat(t,{...r});return s=>a.format(s,r.range||"day")}),list:Ve((t,r)=>{let a=new Intl.ListFormat(t,{...r});return s=>a.format(s)})},this.init(e)}init(e){let r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ve(t)}format(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){let l=s.findIndex(i=>i.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,i)=>{let{formatName:u,formatOptions:d}=ko(i);if(this.formats[u]){let p=l;try{let f=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},c=f.locale||f.lng||a.locale||a.lng||r;p=this.formats[u](l,c,{...d,...a,...f})}catch(f){this.logger.warn(f)}return p}else this.logger.warn(`there was no format function for ${u}`);return l},e)}},$o=(o,e)=>{o.pending[e]!==void 0&&(delete o.pending[e],o.pendingCount--)},Bt=class extends je{constructor(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Me.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(e,t,r,a){let s={},n={},l={},i={};return e.forEach(u=>{let d=!0;t.forEach(p=>{let f=`${u}|${p}`;!r.reload&&this.store.hasResourceBundle(u,p)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?n[f]===void 0&&(n[f]=!0):(this.state[f]=1,d=!1,n[f]===void 0&&(n[f]=!0),s[f]===void 0&&(s[f]=!0),i[p]===void 0&&(i[p]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(n),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(i)}}loaded(e,t,r){let a=e.split("|"),s=a[0],n=a[1];t&&this.emit("failedLoading",s,n,t),!t&&r&&this.store.addResourceBundle(s,n,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let l={};this.queue.forEach(i=>{co(i.loaded,[s],n),$o(i,e),t&&i.errors.push(t),i.pendingCount===0&&!i.done&&(Object.keys(i.loaded).forEach(u=>{l[u]||(l[u]={});let d=i.loaded[u];d.length&&d.forEach(p=>{l[u][p]===void 0&&(l[u][p]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(i=>!i.done)}read(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,n=arguments.length>5?arguments[5]:void 0;if(!e.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:s,callback:n});return}this.readingCalls++;let l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){let p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,a+1,s*2,n)},s);return}n(u,d)},i=this.backend[r].bind(this.backend);if(i.length===2){try{let u=i(e,t);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return i(e,t,l)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);let s=this.queueLoad(e,t,r,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(n=>{this.loadOne(n)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=e.split("|"),a=r[0],s=r[1];this.read(a,s,"read",void 0,void 0,(n,l)=>{n&&this.logger.warn(`${t}loading namespace ${s} for language ${a} failed`,n),!n&&l&&this.logger.log(`${t}loaded namespace ${s} for language ${a}`,l),this.loaded(e,n,l)})}saveMissing(e,t,r,a,s){let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){let i={...n,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,a,i):d=u(e,t,r,a),d&&typeof d.then=="function"?d.then(p=>l(null,p)).catch(l):l(null,d)}catch(d){l(d)}else u(e,t,r,a,l,i)}!e||!e[0]||this.store.addResource(e[0],t,r,a)}}},Rr=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let e={};if(typeof o[1]=="object"&&(e=o[1]),typeof o[1]=="string"&&(e.defaultValue=o[1]),typeof o[2]=="string"&&(e.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){let t=o[3]||o[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Or=o=>(typeof o.ns=="string"&&(o.ns=[o.ns]),typeof o.fallbackLng=="string"&&(o.fallbackLng=[o.fallbackLng]),typeof o.fallbackNS=="string"&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs&&o.supportedLngs.indexOf("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),o),ut=()=>{},Fo=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(t=>{typeof o[t]=="function"&&(o[t]=o[t].bind(o))})},xt=class o extends je{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Or(e),this.services={},this.logger=Me,this.modules={external:[]},Fo(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));let a=Rr();this.options={...a,...this.options,...Or(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);let s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Me.init(s(this.modules.logger),this.options):Me.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl!="undefined"&&(d=Nt);let p=new ht(this.options);this.store=new ct(this.options.resources,this.options);let f=this.services;f.logger=Me,f.resourceStore=this.store,f.languageUtils=p,f.pluralResolver=new Et(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(f.formatter=s(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Dt(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Bt(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(c){for(var h=arguments.length,w=new Array(h>1?h-1:0),k=1;k<h;k++)w[k-1]=arguments[k];e.emit(c,...w)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new mt(this.services,this.options),this.translator.on("*",function(c){for(var h=arguments.length,w=new Array(h>1?h-1:0),k=1;k<h;k++)w[k-1]=arguments[k];e.emit(c,...w)}),this.modules.external.forEach(c=>{c.init&&c.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ut),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});let i=Ze(),u=()=>{let d=(p,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(f),r(p,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),i}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut,a=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let s=[],n=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};a?n(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>n(i)),this.options.preload&&this.options.preload.forEach(l=>n(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,t,r){let a=Ze();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ut),this.services.backendConnector.reload(e,t,s=>{a.resolve(),r(s)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ar.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){let r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;let a=Ze();this.emit("languageChanging",e);let s=i=>{this.language=i,this.languages=this.services.languageUtils.toResolveHierarchy(i),this.resolvedLanguage=void 0,this.setResolvedLanguage(i)},n=(i,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),t&&t(i,function(){return r.t(...arguments)})},l=i=>{!e&&!i&&this.services.languageDetector&&(i=[]);let u=typeof i=="string"?i:this.services.languageUtils.getBestMatchFromCodes(i);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{n(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),a}getFixedT(e,t,r){var a=this;let s=function(n,l){let i;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),p=2;p<u;p++)d[p-2]=arguments[p];i=a.options.overloadTranslationOptionHandler([n,l].concat(d))}else i={...l};i.lng=i.lng||s.lng,i.lngs=i.lngs||s.lngs,i.ns=i.ns||s.ns,i.keyPrefix!==""&&(i.keyPrefix=i.keyPrefix||r||s.keyPrefix);let f=a.options.keySeparator||".",c;return i.keyPrefix&&Array.isArray(n)?c=n.map(h=>`${i.keyPrefix}${f}${h}`):c=i.keyPrefix?`${i.keyPrefix}${f}${n}`:n,a.t(c,i)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let n=(l,i)=>{let u=this.services.backendConnector.state[`${l}|${i}`];return u===-1||u===0||u===2};if(t.precheck){let l=t.precheck(this,n);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||n(r,e)&&(!a||n(s,e)))}loadNamespaces(e,t){let r=Ze();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=Ze();typeof e=="string"&&(e=[e]);let a=this.options.preload||[],s=e.filter(n=>a.indexOf(n)<0&&this.services.languageUtils.isSupportedCode(n));return s.length?(this.options.preload=a.concat(s),this.loadResources(n=>{r.resolve(),t&&t(n)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new ht(Rr());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new o(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut,r=e.forkResourceStore;r&&delete e.forkResourceStore;let a={...this.options,...e,isClone:!0},s=new o(a);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new ct(this.store.data,a),s.services.resourceStore=s.store),s.translator=new mt(s.services,a),s.translator.on("*",function(l){for(var i=arguments.length,u=new Array(i>1?i-1:0),d=1;d<i;d++)u[d-1]=arguments[d];s.emit(l,...u)}),s.init(a,t),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Q=xt.createInstance();Q.createInstance=xt.createInstance;var qa=Q.createInstance,za=Q.dir,Wa=Q.init,Ga=Q.loadResources,Ka=Q.reloadResources,Ja=Q.use,Xa=Q.changeLanguage,Qa=Q.getFixedT,Za=Q.t,Ya=Q.exists,es=Q.setDefaultNamespace,ts=Q.hasLoadedNamespace,rs=Q.loadNamespaces,os=Q.loadLanguages;var Er=require("obsidian");var It={};Mt(It,{commands:()=>Ro,default:()=>Lo,plugin:()=>Po,search:()=>Mo,settings:()=>Oo});var Po={name:"Text Finder"},Mo={tip:{NoResults:"No results",HasResults:"{{current}} of {{total}}",ToggleReplace:"Toggle replace",MatchCase:"Match case",UseRegularExpression:"Use regular expression",PreviousMatch:"Previous match",NextMatch:"Next match",Close:"Close (Escape)",Replace:"Replace",ReplaceAll:"Replace all",FindPlaceholder:"Find",ReplacePlaceholder:"Replace"}},Ro={ShowFind:{name:"Open search in current file"},ShowFindAndReplace:{name:"Open search & replace in current file"},HideFind:{name:"Hide finder"},ToggleReplace:{name:"Toggle replacer"},ToggleFind:{name:"Toggle finder"},PreviousMatch:{name:"Previous match"},NextMatch:{name:"Next match"},Replace:{name:"Replace in current file"},ReplaceAll:{name:"Replace all in current file"}},Oo={ClearAfterHidden:{name:"Clear search text",desc:"When closing the search box, the search text will be cleared."},EnableInputHotkeys:{name:"Enable input box hotkey",desc:"Add a hotkey (Enter) to the input box. Search: Go to the next matching item.Replace: Replace once."},SourceModeWhenSearch:{name:"Force source code mode during search",desc:"Force the use of source code mode during the search process (some search results cannot be directly displayed in live preview, such as images and hyperlinks)."},MoveCursorToMatch:{name:"Move the cursor to the matching item",desc:"Move the cursor and select the current match when searching."},UseSelectionAsSearch:{name:"Use selection as search text",desc:"Use the selected text as the search text."},UseObsidianSearchInRead:{name:"Using Obsidian's native search in reading",desc:`In reading mode, using the command  "{{name}}"  will invoke Obsidian's native search function(The search and replace provided by the plugin are only applicable to editing mode)`},UseEscapeCharInReplace:{name:"Support escape characters in replacement input box",desc:"In regular expression mode, escape characters for line feed (LF) and horizontal tab (HT) can be used in the replacement input box."}},Lo={plugin:Po,search:Mo,commands:Ro,settings:Oo};var Ht={};Mt(Ht,{commands:()=>Eo,default:()=>No,plugin:()=>Ao,search:()=>To,settings:()=>Do});var Ao={name:"Text Finder"},To={tip:{NoResults:"\u65E0\u7ED3\u679C",HasResults:"\u7B2C{{current}}\u9879\uFF0C\u5171{{total}}\u9879",ToggleReplace:"\u5207\u6362\u66FF\u6362",MatchCase:"\u533A\u5206\u5927\u5C0F\u5199",UseRegularExpression:"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F",PreviousMatch:"\u4E0A\u4E00\u4E2A\u5339\u914D\u9879",NextMatch:"\u4E0B\u4E00\u4E2A\u5339\u914D\u9879",Close:"\u5173\u95ED (Escape)",Replace:"\u66FF\u6362",ReplaceAll:"\u5168\u90E8\u66FF\u6362",FindPlaceholder:"\u67E5\u627E",ReplacePlaceholder:"\u66FF\u6362"}},Eo={ShowFind:{name:"\u5728\u5F53\u524D\u6587\u4EF6\u4E2D\uFF1A\u6253\u5F00\u67E5\u627E"},ShowFindAndReplace:{name:"\u5728\u5F53\u524D\u6587\u4EF6\u4E2D\uFF1A\u6253\u5F00\u67E5\u627E\u4E0E\u66FF\u6362"},HideFind:{name:"\u5173\u95ED\u67E5\u627E\u7A97\u53E3"},ToggleReplace:{name:"\u5207\u6362\u66FF\u6362\u7A97\u53E3"},ToggleFind:{name:"\u5207\u6362\u67E5\u627E\u7A97\u53E3"},PreviousMatch:{name:"\u4E0A\u4E00\u4E2A\u5339\u914D"},NextMatch:{name:"\u4E0B\u4E00\u4E2A\u5339\u914D"},Replace:{name:"\u5728\u5F53\u524D\u6587\u4EF6\u4E2D\uFF1A\u66FF\u6362"},ReplaceAll:{name:"\u5728\u5F53\u524D\u6587\u4EF6\u4E2D\uFF1A\u66FF\u6362\u6240\u6709"}},Do={ClearAfterHidden:{name:"\u6E05\u7A7A\u641C\u7D22\u6587\u672C",desc:"\u5728\u5173\u95ED\u641C\u7D22\u7A97\u53E3\u540E\u6E05\u7A7A\u641C\u7D22\u6587\u672C"},EnableInputHotkeys:{name:"\u542F\u7528\u8F93\u5165\u6846\u7684\u5FEB\u6377\u952E",desc:"\u4E3A\u8F93\u5165\u6846\u6DFB\u52A0\u5FEB\u6377\u952E\uFF08Enter\uFF09\u3002\u641C\u7D22\uFF1A\u5230\u4E0B\u4E00\u4E2A\u5339\u914D\u9879\uFF0C\u66FF\u6362\uFF1A\u66FF\u6362\u4E00\u6B21"},SourceModeWhenSearch:{name:"\u641C\u7D22\u65F6\u5F3A\u5236\u6E90\u4EE3\u7801\u6A21\u5F0F",desc:"\u5728\u641C\u7D22\u8FC7\u7A0B\u4E2D\u5F3A\u5236\u4F7F\u7528\u6E90\u4EE3\u7801\u6A21\u5F0F\uFF08\u67D0\u4E9B\u641C\u7D22\u7ED3\u679C\u65E0\u6CD5\u76F4\u63A5\u663E\u793A\u5728\u5B9E\u65F6\u9884\u89C8\u4E2D\uFF0C\u5982\u56FE\u50CF\u548C\u8D85\u94FE\u63A5\uFF09"},MoveCursorToMatch:{name:"\u5C06\u5149\u6807\u79FB\u52A8\u81F3\u5339\u914D\u9879",desc:"\u641C\u7D22\u65F6\u79FB\u52A8\u5149\u6807\u5E76\u9009\u62E9\u5F53\u524D\u5339\u914D\u9879"},UseSelectionAsSearch:{name:"\u5C06\u6240\u9009\u5185\u5BB9\u7528\u4F5C\u641C\u7D22\u6587\u672C",desc:"\u5C06\u6240\u9009\u6587\u672C\u7528\u4F5C\u641C\u7D22\u6587\u672C"},UseObsidianSearchInRead:{name:"\u9605\u8BFB\u6A21\u5F0F\u4E0B\u4F7F\u7528Obsidian\u641C\u7D22",desc:'\u5728\u9605\u8BFB\u6A21\u5F0F\u4E0B\uFF0C\u4F7F\u7528\u547D\u4EE4 "{{name}}" \u5C06\u4F1A\u8C03\u7528Obsidian\u539F\u751F\u7684\u641C\u7D22\u529F\u80FD(\u63D2\u4EF6\u63D0\u4F9B\u7684\u641C\u7D22\u4E0E\u66FF\u6362\u4EC5\u9002\u7528\u4E8E\u7F16\u8F91\u6A21\u5F0F)'},UseEscapeCharInReplace:{name:"\u652F\u6301\u66FF\u6362\u8F93\u5165\u6846\u4E2D\u4F7F\u7528\u8F6C\u4E49\u5B57\u7B26",desc:"\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u6A21\u5F0F\u4E0B\uFF0C\u66FF\u6362\u8F93\u5165\u6846\u4E2D\u53EF\u4EE5\u4F7F\u7528\u6362\u884C(LF)\u548C\u6C34\u5E73\u5236\u8868\u7B26(HT)\u7684\u8F6C\u4E49\u5B57\u7B26"}},No={plugin:Ao,search:To,commands:Eo,settings:Do};Q.init({lng:"en",fallbackLng:"en",debug:!1,resources:{en:{translation:It},zh_cn:{translation:Ht}}});var Tr=Er.moment.locale();if(Tr){let o=Tr.replace("-","_");Q.changeLanguage(o)}var S=Q;var Ke=require("@codemirror/state"),nt=require("@codemirror/view"),it=require("obsidian");function be(){}function C(o,e){for(let t in e)o[t]=e[t];return o}function Ut(o){return o()}function gt(){return Object.create(null)}function ce(o){o.forEach(Ut)}function _t(o){return typeof o=="function"}function I(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}function Dr(o){return Object.keys(o).length===0}function W(o,e,t,r){if(o){let a=Nr(o,e,t,r);return o[0](a)}}function Nr(o,e,t,r){return o[1]&&r?C(t.ctx.slice(),o[1](r(e))):t.ctx}function G(o,e,t,r){if(o[2]&&r){let a=o[2](r(t));if(e.dirty===void 0)return a;if(typeof a=="object"){let s=[],n=Math.max(e.dirty.length,a.length);for(let l=0;l<n;l+=1)s[l]=e.dirty[l]|a[l];return s}return e.dirty|a}return e.dirty}function K(o,e,t,r,a,s){if(a){let n=Nr(e,t,r,s);o.p(n,a)}}function J(o){if(o.ctx.length>32){let e=[],t=o.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function M(o){let e={};for(let t in o)t[0]!=="$"&&(e[t]=o[t]);return e}function Vt(o,e){let t={};e=new Set(e);for(let r in o)!e.has(r)&&r[0]!=="$"&&(t[r]=o[r]);return t}function qe(o){return o==null?"":o}var jt=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var bt=class o{constructor(e){Z(this,"_listeners","WeakMap"in jt?new WeakMap:void 0);Z(this,"_observer");Z(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var r;for(let a of t)o.entries.set(a.target,a),(r=this._listeners.get(a.target))==null||r(a)})}};bt.entries="WeakMap"in jt?new WeakMap:void 0;var Br=!1;function Ir(){Br=!0}function Hr(){Br=!1}function v(o,e){o.appendChild(e)}function Ur(o,e,t){let r=Vr(o);if(!r.getElementById(e)){let a=L("style");a.id=e,a.textContent=t,Ho(r,a)}}function Vr(o){if(!o)return document;let e=o.getRootNode?o.getRootNode():o.ownerDocument;return e&&e.host?e:o.ownerDocument}function Ho(o,e){return v(o.head||o,e),e.sheet}function fe(o,e,t){o.insertBefore(e,t||null)}function Y(o){o.parentNode&&o.parentNode.removeChild(o)}function jr(o,e){for(let t=0;t<o.length;t+=1)o[t]&&o[t].d(e)}function L(o){return document.createElement(o)}function qt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Be(o){return document.createTextNode(o)}function xe(){return Be(" ")}function zt(){return Be("")}function N(o,e,t,r){return o.addEventListener(e,t,r),()=>o.removeEventListener(e,t,r)}function m(o,e,t){t==null?o.removeAttribute(e):o.getAttribute(e)!==t&&o.setAttribute(e,t)}function rt(o,e){for(let t in e)m(o,t,e[t])}function qr(o){return Array.from(o.childNodes)}function Wt(o,e){e=""+e,o.data!==e&&(o.data=e)}function ot(o,e){o.value=e==null?"":e}function Le(o,e,t){o.classList.toggle(e,!!t)}function zr(o){let e={};return o.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var ze;function Ae(o){ze=o}var Ie=[];var yt=[],Ge=[],Gr=[],Wo=Promise.resolve(),Kt=!1;function Kr(){Kt||(Kt=!0,Wo.then(St))}function at(o){Ge.push(o)}var Gt=new Set,We=0;function St(){if(We!==0)return;let o=ze;do{try{for(;We<Ie.length;){let e=Ie[We];We++,Ae(e),Go(e.$$)}}catch(e){throw Ie.length=0,We=0,e}for(Ae(null),Ie.length=0,We=0;yt.length;)yt.pop()();for(let e=0;e<Ge.length;e+=1){let t=Ge[e];Gt.has(t)||(Gt.add(t),t())}Ge.length=0}while(Ie.length);for(;Gr.length;)Gr.pop()();Kt=!1,Gt.clear(),Ae(o)}function Go(o){if(o.fragment!==null){o.update(),ce(o.before_update);let e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(at)}}function Jr(o){let e=[],t=[];Ge.forEach(r=>o.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Ge=e}var Ct=new Set,He;function Jt(){He={r:0,c:[],p:He}}function Xt(){He.r||ce(He.c),He=He.p}function _(o,e){o&&o.i&&(Ct.delete(o),o.i(e))}function b(o,e,t,r){if(o&&o.o){if(Ct.has(o))return;Ct.add(o),He.c.push(()=>{Ct.delete(o),r&&(t&&o.d(1),r())}),o.o(e)}else r&&r()}function st(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function j(o,e){let t={},r={},a={$$scope:1},s=o.length;for(;s--;){let n=o[s],l=e[s];if(l){for(let i in n)i in l||(r[i]=1);for(let i in l)a[i]||(t[i]=l[i],a[i]=1);o[s]=l}else for(let i in n)a[i]=1}for(let n in r)n in t||(t[n]=void 0);return t}function ee(o){return typeof o=="object"&&o!==null?o:{}}var Ko=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Jo=new Set([...Ko]);function A(o){o&&o.c()}function R(o,e,t){let{fragment:r,after_update:a}=o.$$;r&&r.m(e,t),at(()=>{let s=o.$$.on_mount.map(Ut).filter(_t);o.$$.on_destroy?o.$$.on_destroy.push(...s):ce(s),o.$$.on_mount=[]}),a.forEach(at)}function O(o,e){let t=o.$$;t.fragment!==null&&(Jr(t.after_update),ce(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Qo(o,e){o.$$.dirty[0]===-1&&(Ie.push(o),Kr(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function V(o,e,t,r,a,s,n=null,l=[-1]){let i=ze;Ae(o);let u=o.$$={fragment:null,ctx:[],props:s,update:be,not_equal:a,bound:gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:gt(),dirty:l,skip_bound:!1,root:e.target||i.$$.root};n&&n(u.root);let d=!1;if(u.ctx=t?t(o,e.props||{},(p,f,...c)=>{let h=c.length?c[0]:f;return u.ctx&&a(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),d&&Qo(o,p)),f}):[],u.update(),d=!0,ce(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){Ir();let p=qr(e.target);u.fragment&&u.fragment.l(p),p.forEach(Y)}else u.fragment&&u.fragment.c();e.intro&&_(o.$$.fragment),R(o,e.target,e.anchor),Hr(),St()}Ae(i)}var Zo;typeof HTMLElement=="function"&&(Zo=class extends HTMLElement{constructor(e,t,r){super();Z(this,"$$ctor");Z(this,"$$s");Z(this,"$$c");Z(this,"$$cn",!1);Z(this,"$$d",{});Z(this,"$$r",!1);Z(this,"$$p_d",{});Z(this,"$$l",{});Z(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let a=this.$$c.$on(e,t);this.$$l_u.set(t,a)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){let a=this.$$l_u.get(t);a&&(a(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(s){return()=>{let n;return{c:function(){n=L("slot"),s!=="default"&&m(n,"name",s)},m:function(u,d){fe(u,n,d)},d:function(u){u&&Y(n)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let t={},r=zr(this);for(let s of this.$$s)s in r&&(t[s]=[e(s)]);for(let s of this.attributes){let n=this.$$g_p(s.name);n in this.$$d||(this.$$d[n]=Qt(n,s.value,this.$$p_d,"toProp"))}for(let s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let a=()=>{this.$$r=!0;for(let s in this.$$p_d)if(this.$$d[s]=this.$$c.$$.ctx[this.$$c.$$.props[s]],this.$$p_d[s].reflect){let n=Qt(s,this.$$d[s],this.$$p_d,"toAttribute");n==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,n)}this.$$r=!1};this.$$c.$$.after_update.push(a),a();for(let s in this.$$l)for(let n of this.$$l[s]){let l=this.$$c.$on(s,n);this.$$l_u.set(n,l)}this.$$l={}}}attributeChangedCallback(e,t,r){var a;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Qt(e,r,this.$$p_d,"toProp"),(a=this.$$c)==null||a.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Qt(o,e,t,r){var s;let a=(s=t[o])==null?void 0:s.type;if(e=a==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!t[o])return e;if(r==="toAttribute")switch(a){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(a){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var B=class{constructor(){Z(this,"$$");Z(this,"$$set")}$destroy(){O(this,1),this.$destroy=be}$on(e,t){if(!_t(t))return be;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let a=r.indexOf(t);a!==-1&&r.splice(a,1)}}$set(e){this.$$set&&!Dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Xr="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xr);var Yo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Zt=Yo;function Qr(o,e,t){let r=o.slice();return r[11]=e[t][0],r[12]=e[t][1],r}function Yt(o){let e,t=[o[12]],r={};for(let a=0;a<t.length;a+=1)r=C(r,t[a]);return{c(){e=qt(o[11]),rt(e,r)},m(a,s){fe(a,e,s)},p(a,s){rt(e,r=j(t,[s&32&&a[12]]))},d(a){a&&Y(e)}}}function Zr(o){let e=o[11],t,r=o[11]&&Yt(o);return{c(){r&&r.c(),t=zt()},m(a,s){r&&r.m(a,s),fe(a,t,s)},p(a,s){a[11]?e?I(e,a[11])?(r.d(1),r=Yt(a),e=a[11],r.c(),r.m(t.parentNode,t)):r.p(a,s):(r=Yt(a),e=a[11],r.c(),r.m(t.parentNode,t)):e&&(r.d(1),r=null,e=a[11])},d(a){a&&Y(t),r&&r.d(a)}}}function ea(o){let e,t,r,a,s,n=st(o[5]),l=[];for(let f=0;f<n.length;f+=1)l[f]=Zr(Qr(o,n,f));let i=o[10].default,u=W(i,o,o[9],null),d=[Zt,o[7],{width:o[2]},{height:o[2]},{stroke:o[1]},{"stroke-width":r=o[4]?Number(o[3])*24/Number(o[2]):o[3]},{class:a=o[6]("lucide-icon","lucide",o[0]?`lucide-${o[0]}`:"",o[8].class)}],p={};for(let f=0;f<d.length;f+=1)p=C(p,d[f]);return{c(){e=qt("svg");for(let f=0;f<l.length;f+=1)l[f].c();t=zt(),u&&u.c(),rt(e,p)},m(f,c){fe(f,e,c);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);v(e,t),u&&u.m(e,null),s=!0},p(f,[c]){if(c&32){n=st(f[5]);let h;for(h=0;h<n.length;h+=1){let w=Qr(f,n,h);l[h]?l[h].p(w,c):(l[h]=Zr(w),l[h].c(),l[h].m(e,t))}for(;h<l.length;h+=1)l[h].d(1);l.length=n.length}u&&u.p&&(!s||c&512)&&K(u,i,f,f[9],s?G(i,f[9],c,null):J(f[9]),null),rt(e,p=j(d,[Zt,c&128&&f[7],(!s||c&4)&&{width:f[2]},(!s||c&4)&&{height:f[2]},(!s||c&2)&&{stroke:f[1]},(!s||c&28&&r!==(r=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":r},(!s||c&257&&a!==(a=f[6]("lucide-icon","lucide",f[0]?`lucide-${f[0]}`:"",f[8].class)))&&{class:a}]))},i(f){s||(_(u,f),s=!0)},o(f){b(u,f),s=!1},d(f){f&&Y(e),jr(l,f),u&&u.d(f)}}}function ta(o,e,t){let r=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"],a=Vt(e,r),{$$slots:s={},$$scope:n}=e,{name:l=void 0}=e,{color:i="currentColor"}=e,{size:u=24}=e,{strokeWidth:d=2}=e,{absoluteStrokeWidth:p=!1}=e,{iconNode:f=[]}=e,c=(...h)=>h.filter((w,k,q)=>!!w&&q.indexOf(w)===k).join(" ");return o.$$set=h=>{t(8,e=C(C({},e),M(h))),t(7,a=Vt(e,r)),"name"in h&&t(0,l=h.name),"color"in h&&t(1,i=h.color),"size"in h&&t(2,u=h.size),"strokeWidth"in h&&t(3,d=h.strokeWidth),"absoluteStrokeWidth"in h&&t(4,p=h.absoluteStrokeWidth),"iconNode"in h&&t(5,f=h.iconNode),"$$scope"in h&&t(9,n=h.$$scope)},e=M(e),[l,i,u,d,p,f,c,a,e,n,s]}var er=class extends B{constructor(e){super(),V(this,e,ta,ea,I,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}},te=er;function ra(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function oa(o){let e,t,r=[{name:"arrow-down"},o[1],{iconNode:o[0]}],a={$$slots:{default:[ra]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function aa(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var tr=class extends B{constructor(e){super(),V(this,e,aa,oa,I,{})}},rr=tr;function sa(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function na(o){let e,t,r=[{name:"arrow-up"},o[1],{iconNode:o[0]}],a={$$slots:{default:[sa]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ia(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var or=class extends B{constructor(e){super(),V(this,e,ia,na,I,{})}},ar=or;function la(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function fa(o){let e,t,r=[{name:"case-sensitive"},o[1],{iconNode:o[0]}],a={$$slots:{default:[la]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ua(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"m3 15 4-8 4 8"}],["path",{d:"M4 13h6"}],["circle",{cx:"18",cy:"12",r:"3"}],["path",{d:"M21 9v6"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var sr=class extends B{constructor(e){super(),V(this,e,ua,fa,I,{})}},nr=sr;function da(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function pa(o){let e,t,r=[{name:"chevron-down"},o[1],{iconNode:o[0]}],a={$$slots:{default:[da]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ca(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"m6 9 6 6 6-6"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var ir=class extends B{constructor(e){super(),V(this,e,ca,pa,I,{})}},lr=ir;function ma(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function ha(o){let e,t,r=[{name:"chevron-right"},o[1],{iconNode:o[0]}],a={$$slots:{default:[ma]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function xa(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"m9 18 6-6-6-6"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var fr=class extends B{constructor(e){super(),V(this,e,xa,ha,I,{})}},ur=fr;function ga(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function _a(o){let e,t,r=[{name:"regex"},o[1],{iconNode:o[0]}],a={$$slots:{default:[ga]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ba(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"M17 3v10"}],["path",{d:"m12.67 5.5 8.66 5"}],["path",{d:"m12.67 10.5 8.66-5"}],["path",{d:"M9 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2z"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var dr=class extends B{constructor(e){super(),V(this,e,ba,_a,I,{})}},pr=dr;function ya(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function Sa(o){let e,t,r=[{name:"replace-all"},o[1],{iconNode:o[0]}],a={$$slots:{default:[ya]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Ca(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"M14 14a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2"}],["path",{d:"M14 4a2 2 0 0 1 2-2"}],["path",{d:"M16 10a2 2 0 0 1-2-2"}],["path",{d:"M20 14a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2"}],["path",{d:"M20 2a2 2 0 0 1 2 2"}],["path",{d:"M22 8a2 2 0 0 1-2 2"}],["path",{d:"m3 7 3 3 3-3"}],["path",{d:"M6 10V5a 3 3 0 0 1 3-3h1"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var cr=class extends B{constructor(e){super(),V(this,e,Ca,Sa,I,{})}},mr=cr;function va(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function wa(o){let e,t,r=[{name:"replace"},o[1],{iconNode:o[0]}],a={$$slots:{default:[va]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ka(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"M14 4a2 2 0 0 1 2-2"}],["path",{d:"M16 10a2 2 0 0 1-2-2"}],["path",{d:"M20 2a2 2 0 0 1 2 2"}],["path",{d:"M22 8a2 2 0 0 1-2 2"}],["path",{d:"m3 7 3 3 3-3"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var hr=class extends B{constructor(e){super(),V(this,e,ka,wa,I,{})}},xr=hr;function $a(o){let e,t=o[2].default,r=W(t,o,o[3],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s&8)&&K(r,t,a,a[3],e?G(t,a[3],s,null):J(a[3]),null)},i(a){e||(_(r,a),e=!0)},o(a){b(r,a),e=!1},d(a){r&&r.d(a)}}}function Fa(o){let e,t,r=[{name:"x"},o[1],{iconNode:o[0]}],a={$$slots:{default:[$a]},$$scope:{ctx:o}};for(let s=0;s<r.length;s+=1)a=C(a,r[s]);return e=new te({props:a}),{c(){A(e.$$.fragment)},m(s,n){R(e,s,n),t=!0},p(s,[n]){let l=n&3?j(r,[r[0],n&2&&ee(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Pa(o,e,t){let{$$slots:r={},$$scope:a}=e,s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return o.$$set=n=>{t(1,e=C(C({},e),M(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=M(e),[s,e,r,a]}var gr=class extends B{constructor(e){super(),V(this,e,Pa,Fa,I,{})}},vt=gr;var wt=require("obsidian");function Yr(o,e,t,r){let a=[];if(o!=""&&e!=""){let s=0;if(t)try{let n="gm"+(r?"":"i"),l=new RegExp(e,n),i;for(;(i=l.exec(o))!==null;)i[0]==""?l.lastIndex++:a.push({from:i.index,to:i.index+i[0].length,index:s++})}catch(n){return console.log("Finder match error!",n),[]}else{let n=r?e:e.toLowerCase(),l=r?o:o.toLowerCase(),i=0;for(;(i=l.indexOf(n,i))!==-1;){let u=i+n.length;a.push({from:i,to:u,index:s++}),i+=n.length}}}return a}function Ma(o){Ur(o,"svelte-392okr",".nya-finder.svelte-392okr.svelte-392okr{position:absolute;background-color:var(--background-primary);transition:transform 0.2s linear, opacity 0.2s linear, right 0.3s cubic-bezier(0.45, 0.05, 0.55, 0.95);height:72px;min-width:var(--nya-default-width);top:88px;right:48px;box-shadow:0 0 6px 1px rgba(0, 0, 0, 0.36);border:1px solid var(--modal-border-color);z-index:20;display:flex;flex-direction:row;border-radius:4px;justify-content:center;align-items:center}.nya-finder--collapsed.svelte-392okr.svelte-392okr{height:38px}.nya-finder--hidden.svelte-392okr.svelte-392okr{transform:translateY(-100%);opacity:0;user-select:none;pointer-events:none}.nya-finder--active.svelte-392okr.svelte-392okr{transform:translateY(0)}.nya-finder.svelte-392okr .nya-toggle.svelte-392okr{width:16px;height:calc(100% - 4px);margin-right:2px;margin-left:2px;display:flex;justify-content:center;align-items:center}.nya-finder.svelte-392okr .nya-dragger.svelte-392okr{width:1px;height:100%;border-left:3px solid var(--nya-dragger-color);border-radius:4px 0 0 4px}.nya-finder.svelte-392okr .nya-dragger.svelte-392okr:active{filter:brightness(1.3)}.nya-finder.svelte-392okr .main-part.svelte-392okr{padding:4px 0px;flex:1;flex-direction:column;height:100%;display:flex}.nya-finder.svelte-392okr .main-part .finder.svelte-392okr{display:flex;margin-bottom:6px}.nya-finder.svelte-392okr .main-part .replacer.svelte-392okr{display:flex}.nya-finder.svelte-392okr .main-part .finder-act.svelte-392okr{display:flex;justify-content:flex-end;align-items:center;height:28px;min-width:140px;margin-left:4px}.nya-finder.svelte-392okr .main-part .replacer-act.svelte-392okr{display:flex;justify-content:flex-end;align-items:center;height:28px;min-width:140px;padding-right:184px;margin-left:4px}.nya-tip.svelte-392okr.svelte-392okr{display:flex;align-items:center;font-size:12px;text-align:left;font-family:auto;min-width:100px;text-wrap:nowrap;padding:0 4px 0px 8px}.nya-btn.svelte-392okr.svelte-392okr{width:24px;height:24px;margin:2px;padding:4px;display:flex;justify-content:center;align-items:center;border-radius:2px}.nya-btn--active.svelte-392okr.svelte-392okr{border:1px solid var(--nya-focus-border-color);background-color:rgba(36, 137, 219, 0.51);color:#fff}.nya-input.svelte-392okr.svelte-392okr{box-shadow:none;flex:1;min-width:177px;resize:none;height:28px;scrollbar-width:none}.nya-input.svelte-392okr.svelte-392okr:focus{border:1px solid var(--nya-focus-border-color)}.nya-focus.svelte-392okr.svelte-392okr:hover{background-color:rgba(90, 93, 94, 0.31)}.nya-focus.svelte-392okr.svelte-392okr:focus{box-shadow:0 0 0 1px var(--nya-focus-border-color)}.is-right-sidedock-open .nya-finder.svelte-392okr.svelte-392okr{right:352px}body .mod-root:has(.mod-active > .workspace-leaf-content[data-mode=preview])~.nya-finder.svelte-392okr.svelte-392okr{visibility:hidden;user-select:none;pointer-events:none}.is-mobile .nya-finder.nya-mobile.svelte-392okr.svelte-392okr{min-width:auto;max-width:416px;width:100%;right:50%;transform:translateX(50%)}.is-mobile .nya-finder.nya-mobile.svelte-392okr .nya-tip.svelte-392okr{background-color:var(--background-primary);top:-22px;position:absolute;right:0px;padding:2px 4px;text-align:center;border-radius:2px;border:1px solid var(--modal-border-color)}.is-mobile .nya-finder.nya-mobile.svelte-392okr .nya-float-act.svelte-392okr{font-size:12px;background-color:var(--background-primary);top:-38px;position:absolute;right:0px;border-radius:4px;border:1px solid var(--modal-border-color);height:36px;display:flex;flex-direction:row;justify-content:center;align-items:center}.is-mobile .nya-finder.nya-mobile.svelte-392okr .nya-float-act .nya-float-tip.svelte-392okr{display:flex;align-items:center;font-size:12px;text-align:left;font-family:auto;min-width:88px;text-wrap:nowrap;padding:0 4px}.is-mobile .nya-finder.nya-mobile.svelte-392okr .nya-input.svelte-392okr{min-width:100px}.is-mobile .nya-finder.nya-mobile.svelte-392okr .nya-input.svelte-392okr::-webkit-scrollbar{display:none}.is-mobile .nya-finder.nya-mobile.svelte-392okr .finder-act.svelte-392okr{min-width:unset;width:112px}.is-mobile .nya-finder.nya-mobile.svelte-392okr .replacer-act.svelte-392okr{min-width:unset;width:112px;justify-content:flex-start;padding-right:unset}")}function Ra(o){let e,t;return e=new lr({props:{size:Re}}),{c(){A(e.$$.fragment)},m(r,a){R(e,r,a),t=!0},p:be,i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Oa(o){let e,t;return e=new ur({props:{size:Re}}),{c(){A(e.$$.fragment)},m(r,a){R(e,r,a),t=!0},p:be,i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function La(o){let e;function t(s,n){return s[6].matches.length>0?Ea:Ta}let r=t(o,[-1,-1]),a=r(o);return{c(){e=L("div"),a.c(),m(e,"class","nya-tip svelte-392okr")},m(s,n){fe(s,e,n),a.m(e,null)},p(s,n){r===(r=t(s,n))&&a?a.p(s,n):(a.d(1),a=r(s),a&&(a.c(),a.m(e,null)))},i:be,o:be,d(s){s&&Y(e),a.d()}}}function Aa(o){let e,t,r,a,s,n,l,i,u;function d(c,h){return c[6].matches.length>0?Na:Da}let p=d(o,[-1,-1]),f=p(o);return s=new vt({props:{size:Re}}),{c(){e=L("div"),t=L("div"),f.c(),r=xe(),a=L("div"),A(s.$$.fragment),m(t,"class","nya-float-tip svelte-392okr"),m(a,"class","nya-btn nya-focus svelte-392okr"),m(a,"role","button"),m(a,"tabindex",o[9]),m(a,"aria-label",n=S.t("search.tip.Close")),m(e,"class","nya-float-act svelte-392okr")},m(c,h){fe(c,e,h),v(e,t),f.m(t,null),v(e,r),v(e,a),R(s,a,null),l=!0,i||(u=[N(a,"click",o[1]),N(a,"keydown",o[18])],i=!0)},p(c,h){p===(p=d(c,h))&&f?f.p(c,h):(f.d(1),f=p(c),f&&(f.c(),f.m(t,null))),(!l||h[0]&512)&&m(a,"tabindex",c[9])},i(c){l||(_(s.$$.fragment,c),l=!0)},o(c){b(s.$$.fragment,c),l=!1},d(c){c&&Y(e),f.d(),O(s),i=!1,ce(u)}}}function Ta(o){let e,t=S.t("search.tip.NoResults")+"",r,a;return{c(){e=L("div"),r=Be(t),m(e,"style",a=o[6].search?"color:red":"")},m(s,n){fe(s,e,n),v(e,r)},p(s,n){n[0]&64&&a!==(a=s[6].search?"color:red":"")&&m(e,"style",a)},d(s){s&&Y(e)}}}function Ea(o){let e,t=S.t("search.tip.HasResults",{current:o[6].index+1,total:o[6].matches.length})+"",r;return{c(){e=L("div"),r=Be(t)},m(a,s){fe(a,e,s),v(e,r)},p(a,s){s[0]&64&&t!==(t=S.t("search.tip.HasResults",{current:a[6].index+1,total:a[6].matches.length})+"")&&Wt(r,t)},d(a){a&&Y(e)}}}function Da(o){let e,t=S.t("search.tip.NoResults")+"",r,a;return{c(){e=L("div"),r=Be(t),m(e,"style",a=o[6].search?"color:red":"")},m(s,n){fe(s,e,n),v(e,r)},p(s,n){n[0]&64&&a!==(a=s[6].search?"color:red":"")&&m(e,"style",a)},d(s){s&&Y(e)}}}function Na(o){let e,t=S.t("search.tip.HasResults",{current:o[6].index+1,total:o[6].matches.length})+"",r;return{c(){e=L("div"),r=Be(t)},m(a,s){fe(a,e,s),v(e,r)},p(a,s){s[0]&64&&t!==(t=S.t("search.tip.HasResults",{current:a[6].index+1,total:a[6].matches.length})+"")&&Wt(r,t)},d(a){a&&Y(e)}}}function Ba(o){let e,t,r,a,s,n;return t=new vt({props:{size:Re}}),{c(){e=L("div"),A(t.$$.fragment),m(e,"class","nya-btn nya-focus svelte-392okr"),m(e,"role","button"),m(e,"tabindex",o[9]),m(e,"aria-label",r=S.t("search.tip.Close"))},m(l,i){fe(l,e,i),R(t,e,null),a=!0,s||(n=[N(e,"click",o[1]),N(e,"keydown",o[18])],s=!0)},p(l,i){(!a||i[0]&512)&&m(e,"tabindex",l[9])},i(l){a||(_(t.$$.fragment,l),a=!0)},o(l){b(t.$$.fragment,l),a=!1},d(l){l&&Y(e),O(t),s=!1,ce(n)}}}function Ia(o){let e,t,r,a,s,n,l,i,u,d,p,f,c,h,w,k,q,P,X,F,re,ue,z,E,de,me,Se,Je,oe,ae,ke,$e,ie,H,Ce,Fe,Ee,Pe,se,$t,lt,x,g,$,ve,le,U,ne,we,ge,he,T,De,_e,Ne=[Oa,Ra],pe=[];function Xe(y,D){return y[11]?0:1}s=Xe(o,[-1,-1]),n=pe[s]=Ne[s](o);let Qe=[Aa,La],Ft=[];function ro(y,D){return y[12]?0:1}w=ro(o,[-1,-1]),k=Ft[w]=Qe[w](o),F=new pr({props:{size:Re}}),de=new nr({props:{size:Re}}),ae=new ar({props:{size:Re}}),H=new rr({props:{size:Re}});let Oe=!o[12]&&Ba(o);return $=new xr({props:{size:Re}}),ne=new mr({props:{"xlink:title":"Replace All",size:Re}}),{c(){e=L("div"),t=L("div"),r=xe(),a=L("div"),n.c(),u=xe(),d=L("div"),p=L("div"),f=L("textarea"),h=xe(),k.c(),q=xe(),P=L("div"),X=L("div"),A(F.$$.fragment),z=xe(),E=L("div"),A(de.$$.fragment),Je=xe(),oe=L("div"),A(ae.$$.fragment),$e=xe(),ie=L("div"),A(H.$$.fragment),Fe=xe(),Oe&&Oe.c(),Ee=xe(),Pe=L("div"),se=L("textarea"),lt=xe(),x=L("div"),g=L("div"),A($.$$.fragment),le=xe(),U=L("div"),A(ne.$$.fragment),m(t,"class","nya-dragger svelte-392okr"),m(a,"class",l=qe("nya-toggle nya-focus")+" svelte-392okr"),m(a,"role","button"),m(a,"tabindex","0"),m(a,"aria-label",i=S.t("search.tip.ToggleReplace")),m(f,"wrap","off"),m(f,"autocorrect","off"),m(f,"autocapitalize","off"),m(f,"spellcheck","false"),m(f,"rows","1"),m(f,"class","nya-input svelte-392okr"),m(f,"placeholder",c=S.t("search.tip.FindPlaceholder")),m(f,"tabindex",o[10]),m(X,"class",re=qe("nya-btn nya-focus")+" svelte-392okr"),m(X,"role","button"),m(X,"tabindex",o[9]),m(X,"aria-label",ue=S.t("search.tip.UseRegularExpression")),Le(X,"nya-btn--active",o[6].options.regexMode),m(E,"class",me=qe("nya-btn nya-focus")+" svelte-392okr"),m(E,"role","button"),m(E,"tabindex",o[9]),m(E,"aria-label",Se=S.t("search.tip.MatchCase")),Le(E,"nya-btn--active",o[6].options.caseSensitive),m(oe,"class","nya-btn nya-focus svelte-392okr"),m(oe,"role","button"),m(oe,"tabindex",o[9]),m(oe,"aria-label",ke=S.t("search.tip.PreviousMatch")),m(ie,"class","nya-btn nya-focus svelte-392okr"),m(ie,"role","button"),m(ie,"tabindex",o[9]),m(ie,"aria-label",Ce=S.t("search.tip.NextMatch")),m(P,"class","finder-act svelte-392okr"),m(p,"class","finder svelte-392okr"),m(se,"wrap","off"),m(se,"autocorrect","off"),m(se,"autocapitalize","off"),m(se,"spellcheck","false"),m(se,"rows","1"),m(se,"class","nya-input svelte-392okr"),m(se,"placeholder",$t=S.t("search.tip.ReplacePlaceholder")),m(se,"tabindex",o[8]),m(g,"class","nya-btn nya-focus svelte-392okr"),m(g,"tabindex",o[9]),m(g,"role","button"),m(g,"aria-label",ve=S.t("search.tip.Replace")),m(U,"class","nya-btn nya-focus svelte-392okr"),m(U,"tabindex",o[9]),m(U,"role","button"),m(U,"aria-label",we=S.t("search.tip.ReplaceAll")),m(x,"class","replacer-act svelte-392okr"),m(Pe,"class","replacer svelte-392okr"),m(Pe,"style",ge=o[11]?"display: none":""),m(d,"class","main-part svelte-392okr"),m(e,"class",he=qe(`nya-finder ${o[6].visible?"nya-finder--active":"nya-finder--hidden"}`)+" svelte-392okr"),Le(e,"nya-finder--collapsed",o[11]),Le(e,"nya-mobile",o[12])},m(y,D){fe(y,e,D),v(e,t),v(e,r),v(e,a),pe[s].m(a,null),v(e,u),v(e,d),v(d,p),v(p,f),o[34](f),ot(f,o[6].search),v(p,h),Ft[w].m(p,null),v(p,q),v(p,P),v(P,X),R(F,X,null),v(P,z),v(P,E),R(de,E,null),v(P,Je),v(P,oe),R(ae,oe,null),v(P,$e),v(P,ie),R(H,ie,null),v(P,Fe),Oe&&Oe.m(P,null),v(d,Ee),v(d,Pe),v(Pe,se),ot(se,o[6].replace),v(Pe,lt),v(Pe,x),v(x,g),R($,g,null),v(x,le),v(x,U),R(ne,U,null),T=!0,De||(_e=[N(a,"click",o[0]),N(a,"keydown",o[18]),N(f,"input",o[13]),N(f,"keydown",o[16]),N(f,"input",o[35]),N(X,"click",o[2]),N(X,"keydown",o[18]),N(E,"click",o[3]),N(E,"keydown",o[18]),N(oe,"click",o[5]),N(oe,"keydown",o[18]),N(ie,"click",o[4]),N(ie,"keydown",o[18]),N(se,"input",o[36]),N(se,"keydown",o[17]),N(g,"click",o[15]),N(g,"keydown",o[18]),N(U,"click",o[14]),N(U,"keydown",o[18])],De=!0)},p(y,D){let Pt=s;s=Xe(y,D),s===Pt?pe[s].p(y,D):(Jt(),b(pe[Pt],1,1,()=>{pe[Pt]=null}),Xt(),n=pe[s],n?n.p(y,D):(n=pe[s]=Ne[s](y),n.c()),_(n,1),n.m(a,null)),(!T||D[0]&1024)&&m(f,"tabindex",y[10]),D[0]&64&&ot(f,y[6].search),k.p(y,D),(!T||D[0]&512)&&m(X,"tabindex",y[9]),(!T||D[0]&64)&&Le(X,"nya-btn--active",y[6].options.regexMode),(!T||D[0]&512)&&m(E,"tabindex",y[9]),(!T||D[0]&64)&&Le(E,"nya-btn--active",y[6].options.caseSensitive),(!T||D[0]&512)&&m(oe,"tabindex",y[9]),(!T||D[0]&512)&&m(ie,"tabindex",y[9]),y[12]||Oe.p(y,D),(!T||D[0]&256)&&m(se,"tabindex",y[8]),D[0]&64&&ot(se,y[6].replace),(!T||D[0]&512)&&m(g,"tabindex",y[9]),(!T||D[0]&512)&&m(U,"tabindex",y[9]),(!T||D[0]&2048&&ge!==(ge=y[11]?"display: none":""))&&m(Pe,"style",ge),(!T||D[0]&64&&he!==(he=qe(`nya-finder ${y[6].visible?"nya-finder--active":"nya-finder--hidden"}`)+" svelte-392okr"))&&m(e,"class",he),(!T||D[0]&2112)&&Le(e,"nya-finder--collapsed",y[11]),(!T||D[0]&4160)&&Le(e,"nya-mobile",y[12])},i(y){T||(_(n),_(k),_(F.$$.fragment,y),_(de.$$.fragment,y),_(ae.$$.fragment,y),_(H.$$.fragment,y),_(Oe),_($.$$.fragment,y),_(ne.$$.fragment,y),T=!0)},o(y){b(n),b(k),b(F.$$.fragment,y),b(de.$$.fragment,y),b(ae.$$.fragment,y),b(H.$$.fragment,y),b(Oe),b($.$$.fragment,y),b(ne.$$.fragment,y),T=!1},d(y){y&&Y(e),pe[s].d(),o[34](null),Ft[w].d(),O(F),O(de),O(ae),O(H),Oe&&Oe.d(),O($),O(ne),De=!1,ce(_e)}}}var Re=18;function Ha(o,e,t){let r,a,s,n,{editorSearch:l}=e,i={search:"",replace:"",index:0,matches:[],visible:!1,collapse:!0,options:{regexMode:!1,caseSensitive:!1}},u=wt.Platform.isMobile,d;function p(){return i}function f(x,g){t(6,i.visible=x,i);let $=l.plugin.settings;i.visible?(g&&t(6,i.search=g,i),me(i.search),d.select()):(t(6,i.collapse=!0,i),$.clearAfterHidden?ae(!0,!0):de())}function c(x){t(6,i.collapse=x,i)}function h(){t(6,i.search="",i),t(6,i.replace="",i),t(6,i.index=0,i),t(6,i.matches=[],i),t(6,i.visible=!1,i),t(6,i.collapse=!0,i),t(6,i.options={regexMode:!1,caseSensitive:!1},i),de()}function w(){f(!i.visible)}function k(){c(!i.collapse)}function q(){return i.visible}let P=x=>{let g=x.target;me(g.value)},X=()=>{ie(i.replace)},F=()=>{let{beforeCount:x,afterCount:g}=$e(i.replace);x===g&&Se()},re=()=>{let x=E();if(x){let g=x.view.getState(),{sourceModeWhenSearch:$}=l.plugin.settings;g.mode==="source"&&$&&(g.source=!Fe(),x.view.setState(g,{history:!1}))}f(!1)},ue=x=>{t(6,i.options.regexMode=!i.options.regexMode,i),d.focus(),me(i.search)},z=x=>{t(6,i.options.caseSensitive=!i.options.caseSensitive,i),d.focus(),me(i.search)},E=()=>{let x=l.plugin.app.workspace.getActiveViewOfType(wt.MarkdownView);if(x){let g=x.editor;return{view:x,editor:g,editorView:g.cm}}return null},de=(x=!0,g)=>{let $=E();if($){let{editorView:ve}=$,le={effects:x?[br.of(i)]:[]};g&&(le=Object.assign(le,g)),ve.dispatch(le)}},me=(x,g=!0)=>{let $=E();if($){let{editor:ve}=$;if(t(6,i.search=x,i),x){let le=ve.getValue();t(6,i.matches=Yr(le,x,i.options.regexMode,i.options.caseSensitive),i),i.index>i.matches.length-1&&t(6,i.index=0,i),i.matches.length>0?g?oe():de():ae()}else ae(!0)}},Se=()=>{let x=i.matches.length;x==0?t(6,i.index=0,i):t(6,i.index=(i.index+1)%x,i),oe()},Je=()=>{let x=i.matches.length;x==0?t(6,i.index=0,i):t(6,i.index=(i.index-1+x)%x,i),oe()},oe=()=>{let x=E();if(x){let{editor:g}=x,{matches:$,index:ve}=i;if($.length>0){let le=$[ve],{from:U,to:ne}=le;g.scrollIntoView({from:g.offsetToPos(U),to:g.offsetToPos(ne)},!0);let we=x.view,ge=we.getState(),{sourceModeWhenSearch:he,moveCursorToMatch:T}=l.plugin.settings;he&&ge.mode==="source"&&(ge.source=!0),we.setState(ge,{history:!1}),de(!0,{selection:T?{anchor:U,head:ne}:void 0})}}},ae=(x=!1,g=!1)=>{t(6,i.matches=[],i),t(6,i.index=0,i),x&&t(6,i.search="",i),de()},ke=x=>l.plugin.settings.useEscapeCharInReplace?x.replace(/\\\\/g,"\0").replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\0/g,"\\"):x,$e=x=>{let{matches:g,search:$,replace:ve,index:le}=i,U=g.length,ne={changeCount:0,changed:!1,search:$,replace:ve,beforeCount:U,afterCount:U},we=E();if(we&&U>0){let{regexMode:ge,caseSensitive:he}=i.options,{editor:T,editorView:De}=we,_e=g[le],Ne=x;if(ge){let pe=new RegExp($,"g"+he?"i":""),Xe=T.getRange(T.offsetToPos(_e.from),T.offsetToPos(_e.to)),Qe=ke(x);Ne=Xe.replace(pe,Qe)}De.dispatch({changes:{from:_e.from,to:_e.to,insert:Ne}}),me($),ne.changeCount=1,ne.changed=!0,ne.afterCount=i.matches.length}return ne},ie=x=>{let{matches:g,search:$,replace:ve}=i,le=g.length,U={changeCount:0,changed:!1,search:$,replace:ve,beforeCount:le,afterCount:le},ne=E();if(ne){let{editor:we,editorView:ge}=ne;if(le>0){let he=[],{regexMode:T,caseSensitive:De}=i.options;if(T){let _e=new RegExp($,"g"+De?"i":""),Ne=ke(x);he=g.map(pe=>{let Qe=we.getRange(we.offsetToPos(pe.from),we.offsetToPos(pe.to)).replace(_e,Ne);return{from:pe.from,to:pe.to,insert:Qe}})}else he=g.map(_e=>({from:_e.from,to:_e.to,insert:x}));ge.dispatch({changes:he}),me($),U.changed=!0,U.changeCount=he.length,U.afterCount=i.matches.length}}return U},H=x=>{let g=l.plugin.settings.enableInputHotkeys,$=["Enter","NumpadEnter"].includes(x.code);g&&$&&!x.altKey&&!x.ctrlKey&&!x.shiftKey&&(x.preventDefault(),Se())},Ce=x=>{let g=l.plugin.settings.enableInputHotkeys,$=["Enter","NumpadEnter"].includes(x.code);g&&$&&!x.altKey&&!x.ctrlKey&&!x.shiftKey&&(x.preventDefault(),F())},Fe=()=>l.plugin.app.vault.getConfig("livePreview"),Ee=x=>{["Enter","NumpadEnter"].includes(x.code)&&(x.preventDefault(),x.target.click())},Pe=(x=!0)=>{let{search:g}=i;i.visible&&g!=""&&me(g,x)};function se(x){yt[x?"unshift":"push"](()=>{d=x,t(7,d)})}function $t(){i.search=this.value,t(6,i)}function lt(){i.replace=this.value,t(6,i)}return o.$$set=x=>{"editorSearch"in x&&t(19,l=x.editorSearch)},o.$$.update=()=>{o.$$.dirty[0]&64&&t(11,r=i.collapse),o.$$.dirty[0]&64&&t(10,a=i.collapse?0:1),o.$$.dirty[0]&64&&t(9,s=i.collapse?0:2),o.$$.dirty[0]&64&&t(8,n=i.collapse?-1:1)},[k,re,ue,z,Se,Je,i,d,n,s,a,r,u,P,X,F,H,Ce,Ee,l,p,f,c,h,w,q,E,de,me,oe,ae,$e,ie,Pe,se,$t,lt]}var _r=class extends B{constructor(e){super(),V(this,e,Ha,Ia,I,{editorSearch:19,getSearchCache:20,setVisible:21,setCollapse:22,resetAll:23,toggleVisible:24,toggleCollapse:0,isVisible:25,closeFinder:1,toggleRegexMode:2,toggleMatchCaseMode:3,getActiveEditor:26,emitChange:27,setFindText:28,toNextMatch:4,toPreviousMatch:5,scrollToMatch:29,resetMatches:30,replaceMatchedText:31,replaceAllMatchedText:32,matchAgain:33},Ma,[-1,-1])}get getSearchCache(){return this.$$.ctx[20]}get setVisible(){return this.$$.ctx[21]}get setCollapse(){return this.$$.ctx[22]}get resetAll(){return this.$$.ctx[23]}get toggleVisible(){return this.$$.ctx[24]}get toggleCollapse(){return this.$$.ctx[0]}get isVisible(){return this.$$.ctx[25]}get closeFinder(){return this.$$.ctx[1]}get toggleRegexMode(){return this.$$.ctx[2]}get toggleMatchCaseMode(){return this.$$.ctx[3]}get getActiveEditor(){return this.$$.ctx[26]}get emitChange(){return this.$$.ctx[27]}get setFindText(){return this.$$.ctx[28]}get toNextMatch(){return this.$$.ctx[4]}get toPreviousMatch(){return this.$$.ctx[5]}get scrollToMatch(){return this.$$.ctx[29]}get resetMatches(){return this.$$.ctx[30]}get replaceMatchedText(){return this.$$.ctx[31]}get replaceAllMatchedText(){return this.$$.ctx[32]}get matchAgain(){return this.$$.ctx[33]}},eo=_r;var yr={FINDER:"nya-finder",MATCH:"nya-text-finder-match",MATCH_CURRENT:"nya-text-finder-match-current"},Te={SHOW_FIND:"text-finder-show-find",SHOW_FIND_AND_REPLACE:"text-finder-show-find-and-replace",HIDE_FIND:"text-finder-hide-find",TOGGLE_REPLACE:"text-finder-toggle-replace",TOGGLE_FIND:"text-finder-toggle-find",PREVIOUS_MATCH:"text-finder-previous-match",NEXT_MATCH:"text-finder-next-match",REPLACE:"text-finder-replace",REPLACE_ALL:"text-finder-replace-all"},Sr=class{constructor(e){this.plugin=e,this.mountEl=e.app.workspace.containerEl,this.finder=this.getFinder(),this.registerEvent(),this.registerCommand()}getFinder(){return(!this.finder||!this.mountEl.querySelector(`.${yr.FINDER}`))&&(this.destoryFinder(),this.finder=new eo({target:this.mountEl,props:{editorSearch:this}})),this.finder}destoryFinder(){this.finder&&this.finder.$destroy()}registerEvent(){let e=this.plugin.app.workspace;this.plugin.registerEvent(e.on("active-leaf-change",(0,it.debounce)(t=>{(t==null?void 0:t.view)instanceof it.MarkdownView&&this.getFinder().matchAgain()},250,!0))),this.plugin.registerEvent(e.on("editor-change",(t,r)=>{this.getFinder().matchAgain(!1)})),this.plugin.registerDomEvent(this.mountEl,"keydown",t=>{t.key=="Escape"&&this.getFinder().closeFinder()})}openObsidianSearch(){this.plugin.app.commands.commands["editor:open-search"].checkCallback()}registerCommand(){let{plugin:e}=this;e.addCommand({id:Te.SHOW_FIND,name:S.t("commands.ShowFind.name"),checkCallback:t=>{let r=e.app.workspace.getActiveViewOfType(it.MarkdownView);if(r){let a=r.getMode(),{useObsidianSearchInRead:s,useSelectionAsSearch:n}=e.settings;if(s&&a==="preview"||a==="source"){if(!t){if(a==="preview")this.openObsidianSearch();else if(a==="source"){let u=n?r.editor.getSelection():"";this.getFinder().setVisible(!0,u)}}return!0}}return!1}}),e.addCommand({id:Te.SHOW_FIND_AND_REPLACE,name:S.t("commands.ShowFindAndReplace.name"),editorCallback:(t,r)=>{let a=this.getFinder();a.setCollapse(!1);let{useSelectionAsSearch:s}=e.settings,n=s?t.getSelection():"";a.setVisible(!0,n)}}),e.addCommand({id:Te.HIDE_FIND,name:S.t("commands.HideFind.name"),editorCallback:(t,r)=>{this.getFinder().setVisible(!1)}}),e.addCommand({id:Te.TOGGLE_FIND,name:S.t("commands.ToggleFind.name"),editorCallback:(t,r)=>{this.getFinder().toggleVisible()}}),e.addCommand({id:Te.TOGGLE_REPLACE,name:S.t("commands.ToggleReplace.name"),editorCallback:(t,r)=>{this.getFinder().toggleCollapse()}}),e.addCommand({id:Te.PREVIOUS_MATCH,name:S.t("commands.PreviousMatch.name"),editorCallback:(t,r)=>{this.getFinder().toPreviousMatch()}}),e.addCommand({id:Te.NEXT_MATCH,name:S.t("commands.NextMatch.name"),editorCallback:(t,r)=>{this.getFinder().toNextMatch()}}),e.addCommand({id:Te.REPLACE,name:S.t("commands.Replace.name"),editorCallback:(t,r)=>{let a=this.getFinder();a.replaceMatchedText(a.getSearchCache().replace)}}),e.addCommand({id:Te.REPLACE_ALL,name:S.t("commands.ReplaceAll.name"),editorCallback:(t,r)=>{let a=this.getFinder();a.replaceAllMatchedText(a.getSearchCache().replace)}})}},br=Ke.StateEffect.define();function to(o){o.app.workspace.onLayoutReady(()=>{o.editorSearch=new Sr(o);let t=Ke.StateField.define({create(r){return nt.Decoration.none},update(r,a){for(let s of a.effects)if(s.is(br)){let n=s.value,l=new Ke.RangeSetBuilder;if(n.visible){let i=a.state.doc.length;n.matches.forEach((u,d)=>{let p=u.from,f=u.to;if(f<=i){let c=`
										${yr.MATCH} 
										${n.index==d?yr.MATCH_CURRENT:""} 
										`;l.add(p,f,nt.Decoration.mark({class:c}))}})}return l.finish()}return r},provide(r){return nt.EditorView.decorations.from(r)}});o.registerEditorExtension([t])})}var Ua={clearAfterHidden:!1,enableInputHotkeys:!0,sourceModeWhenSearch:!0,moveCursorToMatch:!0,useSelectionAsSearch:!0,useObsidianSearchInRead:!0,useEscapeCharInReplace:!0},kt=class extends ye.Plugin{constructor(){super(...arguments);this.editorSearch=null}async onload(){await this.loadSettings(),this.addSettingTab(new Cr(this.app,this)),to(this)}onunload(){var t;(t=this.editorSearch)==null||t.destoryFinder()}async loadSettings(){this.settings=Object.assign({},Ua,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}},Cr=class extends ye.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;e.empty();let t=this.plugin.settings;new ye.Setting(e).setName(S.t("settings.ClearAfterHidden.name")).setDesc(S.t("settings.ClearAfterHidden.desc")).addToggle(r=>{r.setValue(t.clearAfterHidden).onChange(async a=>{t.clearAfterHidden=a,await this.plugin.saveSettings()})}),new ye.Setting(e).setName(S.t("settings.EnableInputHotkeys.name")).setDesc(S.t("settings.EnableInputHotkeys.desc")).addToggle(r=>{r.setValue(t.enableInputHotkeys).onChange(async a=>{t.enableInputHotkeys=a,await this.plugin.saveSettings()})}),new ye.Setting(e).setName(S.t("settings.SourceModeWhenSearch.name")).setDesc(S.t("settings.SourceModeWhenSearch.desc")).addToggle(r=>{r.setValue(t.sourceModeWhenSearch).onChange(async a=>{t.sourceModeWhenSearch=a,await this.plugin.saveSettings()})}),new ye.Setting(e).setName(S.t("settings.MoveCursorToMatch.name")).setDesc(S.t("settings.MoveCursorToMatch.desc")).addToggle(r=>{r.setValue(t.moveCursorToMatch).onChange(async a=>{t.moveCursorToMatch=a,await this.plugin.saveSettings()})}),new ye.Setting(e).setName(S.t("settings.UseSelectionAsSearch.name")).setDesc(S.t("settings.UseSelectionAsSearch.desc")).addToggle(r=>{r.setValue(t.useSelectionAsSearch).onChange(async a=>{t.useSelectionAsSearch=a,await this.plugin.saveSettings()})}),new ye.Setting(e).setName(S.t("settings.UseObsidianSearchInRead.name")).setDesc(S.t("settings.UseObsidianSearchInRead.desc",{name:S.t("plugin.name")+": "+S.t("commands.ShowFind.name")})).addToggle(r=>{r.setValue(t.useObsidianSearchInRead).onChange(async a=>{t.useObsidianSearchInRead=a,await this.plugin.saveSettings()})}),new ye.Setting(e).setName(S.t("settings.UseEscapeCharInReplace.name")).setDesc(S.t("settings.UseEscapeCharInReplace.desc")).addToggle(r=>{r.setValue(t.useEscapeCharInReplace).onChange(async a=>{t.useEscapeCharInReplace=a,await this.plugin.saveSettings()})})}};
/*! Bundled license information:

lucide-svelte/dist/defaultAttributes.js:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/arrow-down.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/arrow-up.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/case-sensitive.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/chevron-down.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/chevron-right.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/regex.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/replace-all.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/replace.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/x.svelte:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/icons/index.js:
  (**
   * @license lucide-svelte v0.446.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/

/* nosourcemap */