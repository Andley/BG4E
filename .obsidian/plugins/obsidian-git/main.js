/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository (https://github.com/denolehov/obsidian-git)
*/

var xC=Object.create;var Xa=Object.defineProperty;var _C=Object.getOwnPropertyDescriptor;var SC=Object.getOwnPropertyNames;var EC=Object.getPrototypeOf,kC=Object.prototype.hasOwnProperty;var AC=(e,t,n)=>t in e?Xa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var CC=(e,t)=>()=>(e&&(t=e(e=0)),t);var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),TC=(e,t)=>{for(var n in t)Xa(e,n,{get:t[n],enumerable:!0})},Jm=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of SC(t))!kC.call(e,i)&&i!==n&&Xa(e,i,{get:()=>t[i],enumerable:!(r=_C(t,i))||r.enumerable});return e};var Ze=(e,t,n)=>(n=e!=null?xC(EC(e)):{},Jm(t||!e||!e.__esModule?Xa(n,"default",{value:e,enumerable:!0}):n,e)),FC=e=>Jm(Xa({},"__esModule",{value:!0}),e);var dt=(e,t,n)=>AC(e,typeof t!="symbol"?t+"":t,n);var tg=I(Oo=>{"use strict";w();Oo.byteLength=PC;Oo.toByteArray=RC;Oo.fromByteArray=jC;var xn=[],Jt=[],MC=typeof Uint8Array!="undefined"?Uint8Array:Array,qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Lr=0,Qm=qu.length;Lr<Qm;++Lr)xn[Lr]=qu[Lr],Jt[qu.charCodeAt(Lr)]=Lr;var Lr,Qm;Jt[45]=62;Jt[95]=63;function eg(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function PC(e){var t=eg(e),n=t[0],r=t[1];return(n+r)*3/4-r}function OC(e,t,n){return(t+n)*3/4-n}function RC(e){var t,n=eg(e),r=n[0],i=n[1],a=new MC(OC(e,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)t=Jt[e.charCodeAt(l)]<<18|Jt[e.charCodeAt(l+1)]<<12|Jt[e.charCodeAt(l+2)]<<6|Jt[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Jt[e.charCodeAt(l)]<<2|Jt[e.charCodeAt(l+1)]>>4,a[s++]=t&255),i===1&&(t=Jt[e.charCodeAt(l)]<<10|Jt[e.charCodeAt(l+1)]<<4|Jt[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function IC(e){return xn[e>>18&63]+xn[e>>12&63]+xn[e>>6&63]+xn[e&63]}function LC(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(IC(r));return i.join("")}function jC(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(LC(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(xn[t>>2]+xn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(xn[t>>10]+xn[t>>4&63]+xn[t<<2&63]+"=")),i.join("")}});var ng=I(Xu=>{w();Xu.read=function(e,t,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,a=d&(1<<-u)-1,d>>=-u,u+=o;u>0;a=a*256+e[t+f],f+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=s*256+e[t+f],f+=h,u-=8);if(a===0)a=1-c;else{if(a===l)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-c}return(d?-1:1)*s*Math.pow(2,a-r)};Xu.write=function(e,t,n,r,i,a){var s,o,l,c=a*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=h/l:t+=h*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=u?(o=0,s=u):s+f>=1?(o=(t*l-1)*Math.pow(2,i),s=s+f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=o&255,d+=p,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;e[n+d]=s&255,d+=p,s/=256,c-=8);e[n+d-p]|=m*128}});var rf=I(xi=>{"use strict";w();var Yu=tg(),wi=ng(),rg=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;xi.Buffer=O;xi.SlowBuffer=UC;xi.INSPECT_MAX_BYTES=50;var Ro=2147483647;xi.kMaxLength=Ro;O.TYPED_ARRAY_SUPPORT=DC();!O.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function DC(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(e){return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}});Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}});function Nn(e){if(e>Ro)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,O.prototype),t}function O(e,t,n){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Qu(e)}return og(e,t,n)}O.poolSize=8192;function og(e,t,n){if(typeof e=="string")return NC(e,t);if(ArrayBuffer.isView(e))return $C(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(_n(e,ArrayBuffer)||e&&_n(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(_n(e,SharedArrayBuffer)||e&&_n(e.buffer,SharedArrayBuffer)))return Ku(e,t,n);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(r!=null&&r!==e)return O.from(r,t,n);let i=HC(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return O.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}O.from=function(e,t,n){return og(e,t,n)};Object.setPrototypeOf(O.prototype,Uint8Array.prototype);Object.setPrototypeOf(O,Uint8Array);function lg(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function BC(e,t,n){return lg(e),e<=0?Nn(e):t!==void 0?typeof n=="string"?Nn(e).fill(t,n):Nn(e).fill(t):Nn(e)}O.alloc=function(e,t,n){return BC(e,t,n)};function Qu(e){return lg(e),Nn(e<0?0:ef(e)|0)}O.allocUnsafe=function(e){return Qu(e)};O.allocUnsafeSlow=function(e){return Qu(e)};function NC(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!O.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let n=cg(e,t)|0,r=Nn(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function Zu(e){let t=e.length<0?0:ef(e.length)|0,n=Nn(t);for(let r=0;r<t;r+=1)n[r]=e[r]&255;return n}function $C(e){if(_n(e,Uint8Array)){let t=new Uint8Array(e);return Ku(t.buffer,t.byteOffset,t.byteLength)}return Zu(e)}function Ku(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return t===void 0&&n===void 0?r=new Uint8Array(e):n===void 0?r=new Uint8Array(e,t):r=new Uint8Array(e,t,n),Object.setPrototypeOf(r,O.prototype),r}function HC(e){if(O.isBuffer(e)){let t=ef(e.length)|0,n=Nn(t);return n.length===0||e.copy(n,0,0,t),n}if(e.length!==void 0)return typeof e.length!="number"||nf(e.length)?Nn(0):Zu(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Zu(e.data)}function ef(e){if(e>=Ro)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ro.toString(16)+" bytes");return e|0}function UC(e){return+e!=e&&(e=0),O.alloc(+e)}O.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==O.prototype};O.compare=function(t,n){if(_n(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),_n(n,Uint8Array)&&(n=O.from(n,n.offset,n.byteLength)),!O.isBuffer(t)||!O.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;let r=t.length,i=n.length;for(let a=0,s=Math.min(r,i);a<s;++a)if(t[a]!==n[a]){r=t[a],i=n[a];break}return r<i?-1:i<r?1:0};O.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};O.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return O.alloc(0);let r;if(n===void 0)for(n=0,r=0;r<t.length;++r)n+=t[r].length;let i=O.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){let s=t[r];if(_n(s,Uint8Array))a+s.length>i.length?(O.isBuffer(s)||(s=O.from(s)),s.copy(i,a)):Uint8Array.prototype.set.call(i,s,a);else if(O.isBuffer(s))s.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return i};function cg(e,t){if(O.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||_n(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Ju(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return vg(e).length;default:if(i)return r?-1:Ju(e).length;t=(""+t).toLowerCase(),i=!0}}O.byteLength=cg;function GC(e,t,n){let r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return QC(this,t,n);case"utf8":case"utf-8":return fg(this,t,n);case"ascii":return KC(this,t,n);case"latin1":case"binary":return JC(this,t,n);case"base64":return YC(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eT(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}O.prototype._isBuffer=!0;function jr(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}O.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)jr(this,n,n+1);return this};O.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)jr(this,n,n+3),jr(this,n+1,n+2);return this};O.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)jr(this,n,n+7),jr(this,n+1,n+6),jr(this,n+2,n+5),jr(this,n+3,n+4);return this};O.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?fg(this,0,t):GC.apply(this,arguments)};O.prototype.toLocaleString=O.prototype.toString;O.prototype.equals=function(t){if(!O.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:O.compare(this,t)===0};O.prototype.inspect=function(){let t="",n=xi.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"};rg&&(O.prototype[rg]=O.prototype.inspect);O.prototype.compare=function(t,n,r,i,a){if(_n(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),!O.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),n<0||r>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===t)return 0;let s=a-i,o=r-n,l=Math.min(s,o),c=this.slice(i,a),u=t.slice(n,r);for(let f=0;f<l;++f)if(c[f]!==u[f]){s=c[f],o=u[f];break}return s<o?-1:o<s?1:0};function ug(e,t,n,r,i){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,nf(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof t=="string"&&(t=O.from(t,r)),O.isBuffer(t))return t.length===0?-1:ig(e,t,n,r,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):ig(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function ig(e,t,n,r,i){let a=1,s=e.length,o=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,s/=2,o/=2,n/=2}function l(u,f){return a===1?u[f]:u.readUInt16BE(f*a)}let c;if(i){let u=-1;for(c=n;c<s;c++)if(l(e,c)===l(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===o)return u*a}else u!==-1&&(c-=c-u),u=-1}else for(n+o>s&&(n=s-o),c=n;c>=0;c--){let u=!0;for(let f=0;f<o;f++)if(l(e,c+f)!==l(t,f)){u=!1;break}if(u)return c}return-1}O.prototype.includes=function(t,n,r){return this.indexOf(t,n,r)!==-1};O.prototype.indexOf=function(t,n,r){return ug(this,t,n,r,!0)};O.prototype.lastIndexOf=function(t,n,r){return ug(this,t,n,r,!1)};function zC(e,t,n,r){n=Number(n)||0;let i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;let a=t.length;r>a/2&&(r=a/2);let s;for(s=0;s<r;++s){let o=parseInt(t.substr(s*2,2),16);if(nf(o))return s;e[n+s]=o}return s}function VC(e,t,n,r){return Io(Ju(t,e.length-n),e,n,r)}function WC(e,t,n,r){return Io(iT(t),e,n,r)}function qC(e,t,n,r){return Io(vg(t),e,n,r)}function XC(e,t,n,r){return Io(aT(t,e.length-n),e,n,r)}O.prototype.write=function(t,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-n;if((r===void 0||r>a)&&(r=a),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return zC(this,t,n,r);case"utf8":case"utf-8":return VC(this,t,n,r);case"ascii":case"latin1":case"binary":return WC(this,t,n,r);case"base64":return qC(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return XC(this,t,n,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function YC(e,t,n){return t===0&&n===e.length?Yu.fromByteArray(e):Yu.fromByteArray(e.slice(t,n))}function fg(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let a=e[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=n){let l,c,u,f;switch(o){case 1:a<128&&(s=a);break;case 2:l=e[i+1],(l&192)===128&&(f=(a&31)<<6|l&63,f>127&&(s=f));break;case 3:l=e[i+1],c=e[i+2],(l&192)===128&&(c&192)===128&&(f=(a&15)<<12|(l&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(f=(a&15)<<18|(l&63)<<12|(c&63)<<6|u&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=o}return ZC(r)}var ag=4096;function ZC(e){let t=e.length;if(t<=ag)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ag));return n}function KC(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]&127);return r}function JC(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function QC(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let a=t;a<n;++a)i+=sT[e[a]];return i}function eT(e,t,n){let r=e.slice(t,n),i="";for(let a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+r[a+1]*256);return i}O.prototype.slice=function(t,n){let r=this.length;t=~~t,n=n===void 0?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);let i=this.subarray(t,n);return Object.setPrototypeOf(i,O.prototype),i};function pt(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(t,n,r){t=t>>>0,n=n>>>0,r||pt(t,n,this.length);let i=this[t],a=1,s=0;for(;++s<n&&(a*=256);)i+=this[t+s]*a;return i};O.prototype.readUintBE=O.prototype.readUIntBE=function(t,n,r){t=t>>>0,n=n>>>0,r||pt(t,n,this.length);let i=this[t+--n],a=1;for(;n>0&&(a*=256);)i+=this[t+--n]*a;return i};O.prototype.readUint8=O.prototype.readUInt8=function(t,n){return t=t>>>0,n||pt(t,1,this.length),this[t]};O.prototype.readUint16LE=O.prototype.readUInt16LE=function(t,n){return t=t>>>0,n||pt(t,2,this.length),this[t]|this[t+1]<<8};O.prototype.readUint16BE=O.prototype.readUInt16BE=function(t,n){return t=t>>>0,n||pt(t,2,this.length),this[t]<<8|this[t+1]};O.prototype.readUint32LE=O.prototype.readUInt32LE=function(t,n){return t=t>>>0,n||pt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};O.prototype.readUint32BE=O.prototype.readUInt32BE=function(t,n){return t=t>>>0,n||pt(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};O.prototype.readBigUInt64LE=rr(function(t){t=t>>>0,bi(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ya(t,this.length-8);let i=n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,a=this[++t]+this[++t]*2**8+this[++t]*2**16+r*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});O.prototype.readBigUInt64BE=rr(function(t){t=t>>>0,bi(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ya(t,this.length-8);let i=n*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],a=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(a)});O.prototype.readIntLE=function(t,n,r){t=t>>>0,n=n>>>0,r||pt(t,n,this.length);let i=this[t],a=1,s=0;for(;++s<n&&(a*=256);)i+=this[t+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*n)),i};O.prototype.readIntBE=function(t,n,r){t=t>>>0,n=n>>>0,r||pt(t,n,this.length);let i=n,a=1,s=this[t+--i];for(;i>0&&(a*=256);)s+=this[t+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*n)),s};O.prototype.readInt8=function(t,n){return t=t>>>0,n||pt(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};O.prototype.readInt16LE=function(t,n){t=t>>>0,n||pt(t,2,this.length);let r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};O.prototype.readInt16BE=function(t,n){t=t>>>0,n||pt(t,2,this.length);let r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};O.prototype.readInt32LE=function(t,n){return t=t>>>0,n||pt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};O.prototype.readInt32BE=function(t,n){return t=t>>>0,n||pt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};O.prototype.readBigInt64LE=rr(function(t){t=t>>>0,bi(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ya(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});O.prototype.readBigInt64BE=rr(function(t){t=t>>>0,bi(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ya(t,this.length-8);let i=(n<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r)});O.prototype.readFloatLE=function(t,n){return t=t>>>0,n||pt(t,4,this.length),wi.read(this,t,!0,23,4)};O.prototype.readFloatBE=function(t,n){return t=t>>>0,n||pt(t,4,this.length),wi.read(this,t,!1,23,4)};O.prototype.readDoubleLE=function(t,n){return t=t>>>0,n||pt(t,8,this.length),wi.read(this,t,!0,52,8)};O.prototype.readDoubleBE=function(t,n){return t=t>>>0,n||pt(t,8,this.length),wi.read(this,t,!1,52,8)};function Ot(e,t,n,r,i,a){if(!O.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(t,n,r,i){if(t=+t,n=n>>>0,r=r>>>0,!i){let o=Math.pow(2,8*r)-1;Ot(this,t,n,r,o,0)}let a=1,s=0;for(this[n]=t&255;++s<r&&(a*=256);)this[n+s]=t/a&255;return n+r};O.prototype.writeUintBE=O.prototype.writeUIntBE=function(t,n,r,i){if(t=+t,n=n>>>0,r=r>>>0,!i){let o=Math.pow(2,8*r)-1;Ot(this,t,n,r,o,0)}let a=r-1,s=1;for(this[n+a]=t&255;--a>=0&&(s*=256);)this[n+a]=t/s&255;return n+r};O.prototype.writeUint8=O.prototype.writeUInt8=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,1,255,0),this[n]=t&255,n+1};O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,2,65535,0),this[n]=t&255,this[n+1]=t>>>8,n+2};O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=t&255,n+2};O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255,n+4};O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};function hg(e,t,n,r,i){yg(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a=a>>8,e[n++]=a,a=a>>8,e[n++]=a,a=a>>8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s=s>>8,e[n++]=s,s=s>>8,e[n++]=s,s=s>>8,e[n++]=s,n}function dg(e,t,n,r,i){yg(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a=a>>8,e[n+6]=a,a=a>>8,e[n+5]=a,a=a>>8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s=s>>8,e[n+2]=s,s=s>>8,e[n+1]=s,s=s>>8,e[n]=s,n+8}O.prototype.writeBigUInt64LE=rr(function(t,n=0){return hg(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeBigUInt64BE=rr(function(t,n=0){return dg(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeIntLE=function(t,n,r,i){if(t=+t,n=n>>>0,!i){let l=Math.pow(2,8*r-1);Ot(this,t,n,r,l-1,-l)}let a=0,s=1,o=0;for(this[n]=t&255;++a<r&&(s*=256);)t<0&&o===0&&this[n+a-1]!==0&&(o=1),this[n+a]=(t/s>>0)-o&255;return n+r};O.prototype.writeIntBE=function(t,n,r,i){if(t=+t,n=n>>>0,!i){let l=Math.pow(2,8*r-1);Ot(this,t,n,r,l-1,-l)}let a=r-1,s=1,o=0;for(this[n+a]=t&255;--a>=0&&(s*=256);)t<0&&o===0&&this[n+a+1]!==0&&(o=1),this[n+a]=(t/s>>0)-o&255;return n+r};O.prototype.writeInt8=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=t&255,n+1};O.prototype.writeInt16LE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,2,32767,-32768),this[n]=t&255,this[n+1]=t>>>8,n+2};O.prototype.writeInt16BE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=t&255,n+2};O.prototype.writeInt32LE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,4,2147483647,-2147483648),this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4};O.prototype.writeInt32BE=function(t,n,r){return t=+t,n=n>>>0,r||Ot(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};O.prototype.writeBigInt64LE=rr(function(t,n=0){return hg(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});O.prototype.writeBigInt64BE=rr(function(t,n=0){return dg(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pg(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function mg(e,t,n,r,i){return t=+t,n=n>>>0,i||pg(e,t,n,4,34028234663852886e22,-34028234663852886e22),wi.write(e,t,n,r,23,4),n+4}O.prototype.writeFloatLE=function(t,n,r){return mg(this,t,n,!0,r)};O.prototype.writeFloatBE=function(t,n,r){return mg(this,t,n,!1,r)};function gg(e,t,n,r,i){return t=+t,n=n>>>0,i||pg(e,t,n,8,17976931348623157e292,-17976931348623157e292),wi.write(e,t,n,r,52,8),n+8}O.prototype.writeDoubleLE=function(t,n,r){return gg(this,t,n,!0,r)};O.prototype.writeDoubleBE=function(t,n,r){return gg(this,t,n,!1,r)};O.prototype.copy=function(t,n,r,i){if(!O.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);let a=i-r;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),n),a};O.prototype.fill=function(t,n,r,i){if(typeof t=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!O.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);let a;if(typeof t=="number")for(a=n;a<r;++a)this[a]=t;else{let s=O.isBuffer(t)?t:O.from(t,i),o=s.length;if(o===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%o]}return this};var vi={};function tf(e,t,n){vi[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}tf("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);tf("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);tf("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=sg(String(n)):typeof n=="bigint"&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=sg(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);function sg(e){let t="",n=e.length,r=e[0]==="-"?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function tT(e,t,n){bi(t,"offset"),(e[t]===void 0||e[t+n]===void 0)&&Ya(t,e.length-(n+1))}function yg(e,t,n,r,i,a){if(e>n||e<t){let s=typeof t=="bigint"?"n":"",o;throw a>3?t===0||t===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${t}${s} and <= ${n}${s}`,new vi.ERR_OUT_OF_RANGE("value",o,e)}tT(r,i,a)}function bi(e,t){if(typeof e!="number")throw new vi.ERR_INVALID_ARG_TYPE(t,"number",e)}function Ya(e,t,n){throw Math.floor(e)!==e?(bi(e,n),new vi.ERR_OUT_OF_RANGE(n||"offset","an integer",e)):t<0?new vi.ERR_BUFFER_OUT_OF_BOUNDS:new vi.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}var nT=/[^+/0-9A-Za-z-_]/g;function rT(e){if(e=e.split("=")[0],e=e.trim().replace(nT,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Ju(e,t){t=t||1/0;let n,r=e.length,i=null,a=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return a}function iT(e){let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return t}function aT(e,t){let n,r,i,a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function vg(e){return Yu.toByteArray(rT(e))}function Io(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function _n(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function nf(e){return e!==e}var sT=function(){let e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){let r=n*16;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function rr(e){return typeof BigInt=="undefined"?oT:e}function oT(){throw new Error("BigInt not supported")}});var wg,af,Buffer,w=CC(()=>{wg=require("obsidian");wg.Platform.isMobileApp?af=rf().Buffer:af=global.Buffer;Buffer=af});var xg=I((r7,bg)=>{"use strict";w();var Ut=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(typeof process=="undefined"||typeof process.domain=="undefined")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||Ut.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||Ut.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||Ut.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=Ut.DEFAULT_MAX_PENDING};Ut.DEFAULT_TIMEOUT=0;Ut.DEFAULT_MAX_OCCUPATION_TIME=0;Ut.DEFAULT_MAX_EXECUTION_TIME=0;Ut.DEFAULT_MAX_PENDING=1e3;Ut.prototype.acquire=function(e,t,n,r){if(Array.isArray(e))return this._acquireBatch(e,t,n,r);if(typeof t!="function")throw new Error("You must pass a function to execute");var i=null,a=null,s=null;typeof n!="function"&&(r=n,n=null,s=new this.Promise(function(x,_){i=x,a=_})),r=r||{};var o=!1,l=null,c=null,u=null,f=this,h=function(x,_,S){c&&(clearTimeout(c),c=null),u&&(clearTimeout(u),u=null),x&&(f.queues[e]&&f.queues[e].length===0&&delete f.queues[e],f.domainReentrant&&delete f.domains[e]),o||(s?_?a(_):i(S):typeof n=="function"&&n(_,S),o=!0),x&&f.queues[e]&&f.queues[e].length>0&&f.queues[e].shift()()},d=function(x){if(o)return h(x);l&&(clearTimeout(l),l=null),f.domainReentrant&&x&&(f.domains[e]=process.domain);var _=r.maxExecutionTime||f.maxExecutionTime;if(_&&(u=setTimeout(function(){f.queues[e]&&h(x,new Error("Maximum execution time is exceeded "+e))},_)),t.length===1){var S=!1;try{t(function(b,A){S||(S=!0,h(x,b,A))})}catch(b){S||(S=!0,h(x,b))}}else f._promiseTry(function(){return t()}).then(function(b){h(x,void 0,b)},function(b){h(x,b)})};f.domainReentrant&&process.domain&&(d=process.domain.bind(d));var p=r.maxPending||f.maxPending;if(!f.queues[e])f.queues[e]=[],d(!0);else if(f.domainReentrant&&process.domain&&process.domain===f.domains[e])d(!1);else if(f.queues[e].length>=p)h(!1,new Error("Too many pending tasks in queue "+e));else{var m=function(){d(!0)};r.skipQueue?f.queues[e].unshift(m):f.queues[e].push(m);var g=r.timeout||f.timeout;g&&(l=setTimeout(function(){l=null,h(!1,new Error("async-lock timed out in queue "+e))},g))}var y=r.maxOccupationTime||f.maxOccupationTime;if(y&&(c=setTimeout(function(){f.queues[e]&&h(!1,new Error("Maximum occupation time is exceeded in queue "+e))},y)),s)return s};Ut.prototype._acquireBatch=function(e,t,n,r){typeof n!="function"&&(r=n,n=null);var i=this,a=function(o,l){return function(c){i.acquire(o,l,c,r)}},s=e.reduceRight(function(o,l){return a(l,o)},t);if(typeof n=="function")s(n);else return new this.Promise(function(o,l){s.length===1?s(function(c,u){c?l(c):o(u)}):o(s())})};Ut.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0};Ut.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(t){return this.Promise.reject(t)}};bg.exports=Ut});var Sg=I((a7,_g)=>{"use strict";w();_g.exports=xg()});var Eg=I((o7,sf)=>{w();typeof Object.create=="function"?sf.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:sf.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}});var lf=I((of,Ag)=>{w();var Lo=rf(),Sn=Lo.Buffer;function kg(e,t){for(var n in e)t[n]=e[n]}Sn.from&&Sn.alloc&&Sn.allocUnsafe&&Sn.allocUnsafeSlow?Ag.exports=Lo:(kg(Lo,of),of.Buffer=Dr);function Dr(e,t,n){return Sn(e,t,n)}Dr.prototype=Object.create(Sn.prototype);kg(Sn,Dr);Dr.from=function(e,t,n){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Sn(e,t,n)};Dr.alloc=function(e,t,n){if(typeof e!="number")throw new TypeError("Argument must be a number");var r=Sn(e);return t!==void 0?typeof n=="string"?r.fill(t,n):r.fill(t):r.fill(0),r};Dr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sn(e)};Dr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Lo.SlowBuffer(e)}});var Fg=I((u7,Tg)=>{w();var Cg=lf().Buffer;function jo(e,t){this._block=Cg.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}jo.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Cg.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,a=this._len,s=0;s<i;){for(var o=a%r,l=Math.min(i-s,r-o),c=0;c<l;c++)n[o+c]=e[s+c];a+=l,s+=l,a%r===0&&this._update(n)}return this._len+=i,this};jo.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a};jo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Tg.exports=jo});var Og=I((h7,Pg)=>{w();var lT=Eg(),Mg=Fg(),cT=lf().Buffer,uT=[1518500249,1859775393,-1894007588,-899497514],fT=new Array(80);function Za(){this.init(),this._w=fT,Mg.call(this,64,56)}lT(Za,Mg);Za.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function hT(e){return e<<1|e>>>31}function dT(e){return e<<5|e>>>27}function pT(e){return e<<30|e>>>2}function mT(e,t,n,r){return e===0?t&n|~t&r:e===2?t&n|t&r|n&r:t^n^r}Za.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=hT(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=dT(n)+mT(c,r,i,a)+s+t[l]+uT[c]|0;s=a,a=i,i=pT(r),r=n,n=u}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};Za.prototype._hash=function(){var e=cT.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};Pg.exports=Za});var Ig=I(cf=>{w();var Rg;(function(e){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof cf=="object"?e(cf):typeof define=="function"&&define.amd?define(function(){var t={};return e(t),t}):e(Rg={}):e(Rg={})})(function(e){e.version="1.2.2";function t(){for(var v=0,k=new Array(256),E=0;E!=256;++E)v=E,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,k[E]=v;return typeof Int32Array!="undefined"?new Int32Array(k):k}var n=t();function r(v){var k=0,E=0,T=0,M=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)M[T]=v[T];for(T=0;T!=256;++T)for(E=v[T],k=256+T;k<4096;k+=256)E=M[k]=E>>>8^v[E&255];var L=[];for(T=1;T!=16;++T)L[T-1]=typeof Int32Array!="undefined"?M.subarray(T*256,T*256+256):M.slice(T*256,T*256+256);return L}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],d=i[8],p=i[9],m=i[10],g=i[11],y=i[12],x=i[13],_=i[14];function S(v,k){for(var E=k^-1,T=0,M=v.length;T<M;)E=E>>>8^n[(E^v.charCodeAt(T++))&255];return~E}function b(v,k){for(var E=k^-1,T=v.length-15,M=0;M<T;)E=_[v[M++]^E&255]^x[v[M++]^E>>8&255]^y[v[M++]^E>>16&255]^g[v[M++]^E>>>24]^m[v[M++]]^p[v[M++]]^d[v[M++]]^h[v[M++]]^f[v[M++]]^u[v[M++]]^c[v[M++]]^l[v[M++]]^o[v[M++]]^s[v[M++]]^a[v[M++]]^n[v[M++]];for(T+=15;M<T;)E=E>>>8^n[(E^v[M++])&255];return~E}function A(v,k){for(var E=k^-1,T=0,M=v.length,L=0,N=0;T<M;)L=v.charCodeAt(T++),L<128?E=E>>>8^n[(E^L)&255]:L<2048?(E=E>>>8^n[(E^(192|L>>6&31))&255],E=E>>>8^n[(E^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,N=v.charCodeAt(T++)&1023,E=E>>>8^n[(E^(240|L>>8&7))&255],E=E>>>8^n[(E^(128|L>>2&63))&255],E=E>>>8^n[(E^(128|N>>6&15|(L&3)<<4))&255],E=E>>>8^n[(E^(128|N&63))&255]):(E=E>>>8^n[(E^(224|L>>12&15))&255],E=E>>>8^n[(E^(128|L>>6&63))&255],E=E>>>8^n[(E^(128|L&63))&255]);return~E}e.table=n,e.bstr=S,e.buf=b,e.str=A})});var $n=I(At=>{"use strict";w();var gT=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function yT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}At.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var r in n)yT(n,r)&&(e[r]=n[r])}}return e};At.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var vT={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray){e.set(t.subarray(n,n+r),i);return}for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],s.set(a,i),i+=a.length;return s}},wT={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};At.setTyped=function(e){e?(At.Buf8=Uint8Array,At.Buf16=Uint16Array,At.Buf32=Int32Array,At.assign(At,vT)):(At.Buf8=Array,At.Buf16=Array,At.Buf32=Array,At.assign(At,wT))};At.setTyped(gT)});var r0=I(Ei=>{"use strict";w();var bT=$n(),xT=4,Lg=0,jg=1,_T=2;function Si(e){for(var t=e.length;--t>=0;)e[t]=0}var ST=0,Ug=1,ET=2,kT=3,AT=258,gf=29,ns=256,Ja=ns+1+gf,_i=30,yf=19,Gg=2*Ja+1,Br=15,uf=16,CT=7,vf=256,zg=16,Vg=17,Wg=18,pf=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Do=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],TT=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],qg=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],FT=512,Hn=new Array((Ja+2)*2);Si(Hn);var Ka=new Array(_i*2);Si(Ka);var Qa=new Array(FT);Si(Qa);var es=new Array(AT-kT+1);Si(es);var wf=new Array(gf);Si(wf);var Bo=new Array(_i);Si(Bo);function ff(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Xg,Yg,Zg;function hf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Kg(e){return e<256?Qa[e]:Qa[256+(e>>>7)]}function ts(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Rt(e,t,n){e.bi_valid>uf-n?(e.bi_buf|=t<<e.bi_valid&65535,ts(e,e.bi_buf),e.bi_buf=t>>uf-e.bi_valid,e.bi_valid+=n-uf):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function En(e,t,n){Rt(e,n[t*2],n[t*2+1])}function Jg(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function MT(e){e.bi_valid===16?(ts(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function PT(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,f,h,d,p,m=0;for(h=0;h<=Br;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Gg;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,m++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=o&&(d=s[u-o]),p=n[u*2],e.opt_len+=p*(h+d),a&&(e.static_len+=p*(i[u*2+1]+d)));if(m!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--c],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),u--)}}function Qg(e,t,n){var r=new Array(Br+1),i=0,a,s;for(a=1;a<=Br;a++)r[a]=i=i+n[a-1]<<1;for(s=0;s<=t;s++){var o=e[s*2+1];o!==0&&(e[s*2]=Jg(r[o]++,o))}}function OT(){var e,t,n,r,i,a=new Array(Br+1);for(n=0,r=0;r<gf-1;r++)for(wf[r]=n,e=0;e<1<<pf[r];e++)es[n++]=r;for(es[n-1]=r,i=0,r=0;r<16;r++)for(Bo[r]=i,e=0;e<1<<Do[r];e++)Qa[i++]=r;for(i>>=7;r<_i;r++)for(Bo[r]=i<<7,e=0;e<1<<Do[r]-7;e++)Qa[256+i++]=r;for(t=0;t<=Br;t++)a[t]=0;for(e=0;e<=143;)Hn[e*2+1]=8,e++,a[8]++;for(;e<=255;)Hn[e*2+1]=9,e++,a[9]++;for(;e<=279;)Hn[e*2+1]=7,e++,a[7]++;for(;e<=287;)Hn[e*2+1]=8,e++,a[8]++;for(Qg(Hn,Ja+1,a),e=0;e<_i;e++)Ka[e*2+1]=5,Ka[e*2]=Jg(e,5);Xg=new ff(Hn,pf,ns+1,Ja,Br),Yg=new ff(Ka,Do,0,_i,Br),Zg=new ff(new Array(0),TT,0,yf,CT)}function e0(e){var t;for(t=0;t<Ja;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_i;t++)e.dyn_dtree[t*2]=0;for(t=0;t<yf;t++)e.bl_tree[t*2]=0;e.dyn_ltree[vf*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function t0(e){e.bi_valid>8?ts(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function RT(e,t,n,r){t0(e),r&&(ts(e,n),ts(e,~n)),bT.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function Dg(e,t,n,r){var i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function df(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&Dg(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Dg(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function Bg(e,t,n){var r,i,a=0,s,o;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?En(e,i,t):(s=es[i],En(e,s+ns+1,t),o=pf[s],o!==0&&(i-=wf[s],Rt(e,i,o)),r--,s=Kg(r),En(e,s,n),o=Do[s],o!==0&&(r-=Bo[s],Rt(e,r,o)));while(a<e.last_lit);En(e,vf,t)}function mf(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems,s,o,l=-1,c;for(e.heap_len=0,e.heap_max=Gg,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)df(e,n,s);c=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],df(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[c*2]=n[s*2]+n[o*2],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[s*2+1]=n[o*2+1]=c,e.heap[1]=c++,df(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],PT(e,t),Qg(n,l,e.bl_count)}function Ng(e,t,n){var r,i=-1,a,s=t[0*2+1],o=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++o<l&&a===s)&&(o<c?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[zg*2]++):o<=10?e.bl_tree[Vg*2]++:e.bl_tree[Wg*2]++,o=0,i=a,s===0?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4))}function $g(e,t,n){var r,i=-1,a,s=t[0*2+1],o=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++o<l&&a===s)){if(o<c)do En(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(En(e,a,e.bl_tree),o--),En(e,zg,e.bl_tree),Rt(e,o-3,2)):o<=10?(En(e,Vg,e.bl_tree),Rt(e,o-3,3)):(En(e,Wg,e.bl_tree),Rt(e,o-11,7));o=0,i=a,s===0?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4)}}function IT(e){var t;for(Ng(e,e.dyn_ltree,e.l_desc.max_code),Ng(e,e.dyn_dtree,e.d_desc.max_code),mf(e,e.bl_desc),t=yf-1;t>=3&&e.bl_tree[qg[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function LT(e,t,n,r){var i;for(Rt(e,t-257,5),Rt(e,n-1,5),Rt(e,r-4,4),i=0;i<r;i++)Rt(e,e.bl_tree[qg[i]*2+1],3);$g(e,e.dyn_ltree,t-1),$g(e,e.dyn_dtree,n-1)}function jT(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Lg;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return jg;for(n=32;n<ns;n++)if(e.dyn_ltree[n*2]!==0)return jg;return Lg}var Hg=!1;function DT(e){Hg||(OT(),Hg=!0),e.l_desc=new hf(e.dyn_ltree,Xg),e.d_desc=new hf(e.dyn_dtree,Yg),e.bl_desc=new hf(e.bl_tree,Zg),e.bi_buf=0,e.bi_valid=0,e0(e)}function n0(e,t,n,r){Rt(e,(ST<<1)+(r?1:0),3),RT(e,t,n,!0)}function BT(e){Rt(e,Ug<<1,3),En(e,vf,Hn),MT(e)}function NT(e,t,n,r){var i,a,s=0;e.level>0?(e.strm.data_type===_T&&(e.strm.data_type=jT(e)),mf(e,e.l_desc),mf(e,e.d_desc),s=IT(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?n0(e,t,n,r):e.strategy===xT||a===i?(Rt(e,(Ug<<1)+(r?1:0),3),Bg(e,Hn,Ka)):(Rt(e,(ET<<1)+(r?1:0),3),LT(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Bg(e,e.dyn_ltree,e.dyn_dtree)),e0(e),r&&t0(e)}function $T(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(es[n]+ns+1)*2]++,e.dyn_dtree[Kg(t)*2]++),e.last_lit===e.lit_bufsize-1}Ei._tr_init=DT;Ei._tr_stored_block=n0;Ei._tr_flush_block=NT;Ei._tr_tally=$T;Ei._tr_align=BT});var bf=I((b7,i0)=>{"use strict";w();function HT(e,t,n,r){for(var i=e&65535|0,a=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}i0.exports=HT});var xf=I((_7,a0)=>{"use strict";w();function UT(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var GT=UT();function zT(e,t,n,r){var i=GT,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}a0.exports=zT});var No=I((E7,s0)=>{"use strict";w();s0.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var m0=I(Cn=>{"use strict";w();var Ct=$n(),Qt=r0(),u0=bf(),ir=xf(),VT=No(),Ur=0,WT=1,qT=3,cr=4,o0=5,An=0,l0=1,en=-2,XT=-3,_f=-5,YT=-1,ZT=1,$o=2,KT=3,JT=4,QT=0,e3=2,zo=8,t3=9,n3=15,r3=8,i3=29,a3=256,Ef=a3+1+i3,s3=30,o3=19,l3=2*Ef+1,c3=15,pe=3,or=258,hn=or+pe+1,u3=32,Vo=42,kf=69,Ho=73,Uo=91,Go=103,Nr=113,is=666,ft=1,as=2,$r=3,Ci=4,f3=3;function lr(e,t){return e.msg=VT[t],t}function c0(e){return(e<<1)-(e>4?9:0)}function sr(e){for(var t=e.length;--t>=0;)e[t]=0}function ar(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(Ct.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function gt(e,t){Qt._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ar(e.strm)}function we(e,t){e.pending_buf[e.pending++]=t}function rs(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function h3(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,Ct.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=u0(e.adler,t,i,n):e.state.wrap===2&&(e.adler=ir(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function f0(e,t){var n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-hn?e.strstart-(e.w_size-hn):0,c=e.window,u=e.w_mask,f=e.prev,h=e.strstart+or,d=c[r+s-1],p=c[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+s]!==p||c[i+s-1]!==d||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(a=or-(h-r),r=h-or,a>s){if(e.match_start=t,s=a,a>=o)break;d=c[r+s-1],p=c[r+s]}}while((t=f[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function Hr(e){var t=e.w_size,n,r,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-hn)){Ct.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=h3(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=pe)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+pe-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<pe)););}while(e.lookahead<hn&&e.strm.avail_in!==0)}function d3(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Hr(e),e.lookahead===0&&t===Ur)return ft;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,gt(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-hn&&(gt(e,!1),e.strm.avail_out===0))return ft}return e.insert=0,t===cr?(gt(e,!0),e.strm.avail_out===0?$r:Ci):(e.strstart>e.block_start&&(gt(e,!1),e.strm.avail_out===0),ft)}function Sf(e,t){for(var n,r;;){if(e.lookahead<hn){if(Hr(e),e.lookahead<hn&&t===Ur)return ft;if(e.lookahead===0)break}if(n=0,e.lookahead>=pe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-hn&&(e.match_length=f0(e,n)),e.match_length>=pe)if(r=Qt._tr_tally(e,e.strstart-e.match_start,e.match_length-pe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Qt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(gt(e,!1),e.strm.avail_out===0))return ft}return e.insert=e.strstart<pe-1?e.strstart:pe-1,t===cr?(gt(e,!0),e.strm.avail_out===0?$r:Ci):e.last_lit&&(gt(e,!1),e.strm.avail_out===0)?ft:as}function ki(e,t){for(var n,r,i;;){if(e.lookahead<hn){if(Hr(e),e.lookahead<hn&&t===Ur)return ft;if(e.lookahead===0)break}if(n=0,e.lookahead>=pe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pe-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-hn&&(e.match_length=f0(e,n),e.match_length<=5&&(e.strategy===ZT||e.match_length===pe&&e.strstart-e.match_start>4096)&&(e.match_length=pe-1)),e.prev_length>=pe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-pe,r=Qt._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-pe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pe-1,e.strstart++,r&&(gt(e,!1),e.strm.avail_out===0))return ft}else if(e.match_available){if(r=Qt._tr_tally(e,0,e.window[e.strstart-1]),r&&gt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ft}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Qt._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pe-1?e.strstart:pe-1,t===cr?(gt(e,!0),e.strm.avail_out===0?$r:Ci):e.last_lit&&(gt(e,!1),e.strm.avail_out===0)?ft:as}function p3(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=or){if(Hr(e),e.lookahead<=or&&t===Ur)return ft;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pe&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+or;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=or-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pe?(n=Qt._tr_tally(e,1,e.match_length-pe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Qt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(gt(e,!1),e.strm.avail_out===0))return ft}return e.insert=0,t===cr?(gt(e,!0),e.strm.avail_out===0?$r:Ci):e.last_lit&&(gt(e,!1),e.strm.avail_out===0)?ft:as}function m3(e,t){for(var n;;){if(e.lookahead===0&&(Hr(e),e.lookahead===0)){if(t===Ur)return ft;break}if(e.match_length=0,n=Qt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(gt(e,!1),e.strm.avail_out===0))return ft}return e.insert=0,t===cr?(gt(e,!0),e.strm.avail_out===0?$r:Ci):e.last_lit&&(gt(e,!1),e.strm.avail_out===0)?ft:as}function kn(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Ai;Ai=[new kn(0,0,0,0,d3),new kn(4,4,8,4,Sf),new kn(4,5,16,8,Sf),new kn(4,6,32,32,Sf),new kn(4,4,16,16,ki),new kn(8,16,32,32,ki),new kn(8,16,128,128,ki),new kn(8,32,128,256,ki),new kn(32,128,258,1024,ki),new kn(32,258,258,4096,ki)];function g3(e){e.window_size=2*e.w_size,sr(e.head),e.max_lazy_match=Ai[e.level].max_lazy,e.good_match=Ai[e.level].good_length,e.nice_match=Ai[e.level].nice_length,e.max_chain_length=Ai[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pe-1,e.match_available=0,e.ins_h=0}function y3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ct.Buf16(l3*2),this.dyn_dtree=new Ct.Buf16((2*s3+1)*2),this.bl_tree=new Ct.Buf16((2*o3+1)*2),sr(this.dyn_ltree),sr(this.dyn_dtree),sr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ct.Buf16(c3+1),this.heap=new Ct.Buf16(2*Ef+1),sr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ct.Buf16(2*Ef+1),sr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function h0(e){var t;return!e||!e.state?lr(e,en):(e.total_in=e.total_out=0,e.data_type=e3,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Vo:Nr,e.adler=t.wrap===2?0:1,t.last_flush=Ur,Qt._tr_init(t),An)}function d0(e){var t=h0(e);return t===An&&g3(e.state),t}function v3(e,t){return!e||!e.state||e.state.wrap!==2?en:(e.state.gzhead=t,An)}function p0(e,t,n,r,i,a){if(!e)return en;var s=1;if(t===YT&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>t3||n!==zo||r<8||r>15||t<0||t>9||a<0||a>JT)return lr(e,en);r===8&&(r=9);var o=new y3;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+pe-1)/pe),o.window=new Ct.Buf8(o.w_size*2),o.head=new Ct.Buf16(o.hash_size),o.prev=new Ct.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Ct.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=n,d0(e)}function w3(e,t){return p0(e,t,zo,n3,r3,QT)}function b3(e,t){var n,r,i,a;if(!e||!e.state||t>o0||t<0)return e?lr(e,en):en;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===is&&t!==cr)return lr(e,e.avail_out===0?_f:en);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===Vo)if(r.wrap===2)e.adler=0,we(r,31),we(r,139),we(r,8),r.gzhead?(we(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),we(r,r.gzhead.time&255),we(r,r.gzhead.time>>8&255),we(r,r.gzhead.time>>16&255),we(r,r.gzhead.time>>24&255),we(r,r.level===9?2:r.strategy>=$o||r.level<2?4:0),we(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(we(r,r.gzhead.extra.length&255),we(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ir(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=kf):(we(r,0),we(r,0),we(r,0),we(r,0),we(r,0),we(r,r.level===9?2:r.strategy>=$o||r.level<2?4:0),we(r,f3),r.status=Nr);else{var s=zo+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=$o||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=u3),s+=31-s%31,r.status=Nr,rs(r,s),r.strstart!==0&&(rs(r,e.adler>>>16),rs(r,e.adler&65535)),e.adler=1}if(r.status===kf)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ir(e.adler,r.pending_buf,r.pending-i,i)),ar(e),i=r.pending,r.pending===r.pending_buf_size));)we(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=ir(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Ho)}else r.status=Ho;if(r.status===Ho)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ir(e.adler,r.pending_buf,r.pending-i,i)),ar(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,we(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ir(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.gzindex=0,r.status=Uo)}else r.status=Uo;if(r.status===Uo)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ir(e.adler,r.pending_buf,r.pending-i,i)),ar(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,we(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ir(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.status=Go)}else r.status=Go;if(r.status===Go&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ar(e),r.pending+2<=r.pending_buf_size&&(we(r,e.adler&255),we(r,e.adler>>8&255),e.adler=0,r.status=Nr)):r.status=Nr),r.pending!==0){if(ar(e),e.avail_out===0)return r.last_flush=-1,An}else if(e.avail_in===0&&c0(t)<=c0(n)&&t!==cr)return lr(e,_f);if(r.status===is&&e.avail_in!==0)return lr(e,_f);if(e.avail_in!==0||r.lookahead!==0||t!==Ur&&r.status!==is){var l=r.strategy===$o?m3(r,t):r.strategy===KT?p3(r,t):Ai[r.level].func(r,t);if((l===$r||l===Ci)&&(r.status=is),l===ft||l===$r)return e.avail_out===0&&(r.last_flush=-1),An;if(l===as&&(t===WT?Qt._tr_align(r):t!==o0&&(Qt._tr_stored_block(r,0,0,!1),t===qT&&(sr(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ar(e),e.avail_out===0))return r.last_flush=-1,An}return t!==cr?An:r.wrap<=0?l0:(r.wrap===2?(we(r,e.adler&255),we(r,e.adler>>8&255),we(r,e.adler>>16&255),we(r,e.adler>>24&255),we(r,e.total_in&255),we(r,e.total_in>>8&255),we(r,e.total_in>>16&255),we(r,e.total_in>>24&255)):(rs(r,e.adler>>>16),rs(r,e.adler&65535)),ar(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?An:l0)}function x3(e){var t;return!e||!e.state?en:(t=e.state.status,t!==Vo&&t!==kf&&t!==Ho&&t!==Uo&&t!==Go&&t!==Nr&&t!==is?lr(e,en):(e.state=null,t===Nr?lr(e,XT):An))}function _3(e,t){var n=t.length,r,i,a,s,o,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==Vo||r.lookahead))return en;for(s===1&&(e.adler=u0(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(sr(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new Ct.Buf8(r.w_size),Ct.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),o=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,Hr(r);r.lookahead>=pe;){i=r.strstart,a=r.lookahead-(pe-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+pe-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--a);r.strstart=i,r.lookahead=pe-1,Hr(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=pe-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=o,r.wrap=s,An}Cn.deflateInit=w3;Cn.deflateInit2=p0;Cn.deflateReset=d0;Cn.deflateResetKeep=h0;Cn.deflateSetHeader=v3;Cn.deflate=b3;Cn.deflateEnd=x3;Cn.deflateSetDictionary=_3;Cn.deflateInfo="pako deflate (from Nodeca project)"});var Af=I(Ti=>{"use strict";w();var Wo=$n(),g0=!0,y0=!0;try{String.fromCharCode.apply(null,[0])}catch(e){g0=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){y0=!1}var ss=new Wo.Buf8(256);for(Un=0;Un<256;Un++)ss[Un]=Un>=252?6:Un>=248?5:Un>=240?4:Un>=224?3:Un>=192?2:1;var Un;ss[254]=ss[254]=1;Ti.string2buf=function(e){var t,n,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Wo.Buf8(o),a=0,i=0;a<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};function v0(e,t){if(t<65534&&(e.subarray&&y0||!e.subarray&&g0))return String.fromCharCode.apply(null,Wo.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Ti.buf2binstring=function(e){return v0(e,e.length)};Ti.binstring2buf=function(e){for(var t=new Wo.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};Ti.buf2string=function(e,t){var n,r,i,a,s=t||e.length,o=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){o[r++]=i;continue}if(a=ss[i],a>4){o[r++]=65533,n+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&n<s;)i=i<<6|e[n++]&63,a--;if(a>1){o[r++]=65533;continue}i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|i&1023)}return v0(o,r)};Ti.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+ss[e[n]]>t?n:t}});var Cf=I((M7,w0)=>{"use strict";w();function S3(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}w0.exports=S3});var S0=I(cs=>{"use strict";w();var os=m0(),ls=$n(),Ff=Af(),Mf=No(),E3=Cf(),_0=Object.prototype.toString,k3=0,Tf=4,Fi=0,b0=1,x0=2,A3=-1,C3=0,T3=8;function Gr(e){if(!(this instanceof Gr))return new Gr(e);this.options=ls.assign({level:A3,method:T3,chunkSize:16384,windowBits:15,memLevel:8,strategy:C3,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E3,this.strm.avail_out=0;var n=os.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Fi)throw new Error(Mf[n]);if(t.header&&os.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=Ff.string2buf(t.dictionary):_0.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=os.deflateSetDictionary(this.strm,r),n!==Fi)throw new Error(Mf[n]);this._dict_set=!0}}Gr.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,a;if(this.ended)return!1;a=t===~~t?t:t===!0?Tf:k3,typeof e=="string"?n.input=Ff.string2buf(e):_0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new ls.Buf8(r),n.next_out=0,n.avail_out=r),i=os.deflate(n,a),i!==b0&&i!==Fi)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(a===Tf||a===x0))&&(this.options.to==="string"?this.onData(Ff.buf2binstring(ls.shrinkBuf(n.output,n.next_out))):this.onData(ls.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==b0);return a===Tf?(i=os.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Fi):(a===x0&&(this.onEnd(Fi),n.avail_out=0),!0)};Gr.prototype.onData=function(e){this.chunks.push(e)};Gr.prototype.onEnd=function(e){e===Fi&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ls.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Pf(e,t){var n=new Gr(t);if(n.push(e,!0),n.err)throw n.msg||Mf[n.err];return n.result}function F3(e,t){return t=t||{},t.raw=!0,Pf(e,t)}function M3(e,t){return t=t||{},t.gzip=!0,Pf(e,t)}cs.Deflate=Gr;cs.deflate=Pf;cs.deflateRaw=F3;cs.gzip=M3});var k0=I((I7,E0)=>{"use strict";w();var qo=30,P3=12;E0.exports=function(t,n){var r,i,a,s,o,l,c,u,f,h,d,p,m,g,y,x,_,S,b,A,v,k,E,T,M;r=t.state,i=t.next_in,T=t.input,a=i+(t.avail_in-5),s=t.next_out,M=t.output,o=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,f=r.whave,h=r.wnext,d=r.window,p=r.hold,m=r.bits,g=r.lencode,y=r.distcode,x=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{m<15&&(p+=T[i++]<<m,m+=8,p+=T[i++]<<m,m+=8),S=g[p&x];t:for(;;){if(b=S>>>24,p>>>=b,m-=b,b=S>>>16&255,b===0)M[s++]=S&65535;else if(b&16){A=S&65535,b&=15,b&&(m<b&&(p+=T[i++]<<m,m+=8),A+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=T[i++]<<m,m+=8,p+=T[i++]<<m,m+=8),S=y[p&_];n:for(;;){if(b=S>>>24,p>>>=b,m-=b,b=S>>>16&255,b&16){if(v=S&65535,b&=15,m<b&&(p+=T[i++]<<m,m+=8,m<b&&(p+=T[i++]<<m,m+=8)),v+=p&(1<<b)-1,v>c){t.msg="invalid distance too far back",r.mode=qo;break e}if(p>>>=b,m-=b,b=s-o,v>b){if(b=v-b,b>f&&r.sane){t.msg="invalid distance too far back",r.mode=qo;break e}if(k=0,E=d,h===0){if(k+=u-b,b<A){A-=b;do M[s++]=d[k++];while(--b);k=s-v,E=M}}else if(h<b){if(k+=u+h-b,b-=h,b<A){A-=b;do M[s++]=d[k++];while(--b);if(k=0,h<A){b=h,A-=b;do M[s++]=d[k++];while(--b);k=s-v,E=M}}}else if(k+=h-b,b<A){A-=b;do M[s++]=d[k++];while(--b);k=s-v,E=M}for(;A>2;)M[s++]=E[k++],M[s++]=E[k++],M[s++]=E[k++],A-=3;A&&(M[s++]=E[k++],A>1&&(M[s++]=E[k++]))}else{k=s-v;do M[s++]=M[k++],M[s++]=M[k++],M[s++]=M[k++],A-=3;while(A>2);A&&(M[s++]=M[k++],A>1&&(M[s++]=M[k++]))}}else if(b&64){t.msg="invalid distance code",r.mode=qo;break e}else{S=y[(S&65535)+(p&(1<<b)-1)];continue n}break}}else if(b&64)if(b&32){r.mode=P3;break e}else{t.msg="invalid literal/length code",r.mode=qo;break e}else{S=g[(S&65535)+(p&(1<<b)-1)];continue t}break}}while(i<a&&s<l);A=m>>3,i-=A,m-=A<<3,p&=(1<<m)-1,t.next_in=i,t.next_out=s,t.avail_in=i<a?5+(a-i):5-(i-a),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=p,r.bits=m}});var O0=I((j7,P0)=>{"use strict";w();var A0=$n(),Mi=15,C0=852,T0=592,F0=0,Of=1,M0=2,O3=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],R3=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],I3=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],L3=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];P0.exports=function(t,n,r,i,a,s,o,l){var c=l.bits,u=0,f=0,h=0,d=0,p=0,m=0,g=0,y=0,x=0,_=0,S,b,A,v,k,E=null,T=0,M,L=new A0.Buf16(Mi+1),N=new A0.Buf16(Mi+1),j=null,Y=0,le,fe,ae;for(u=0;u<=Mi;u++)L[u]=0;for(f=0;f<i;f++)L[n[r+f]]++;for(p=c,d=Mi;d>=1&&L[d]===0;d--);if(p>d&&(p=d),d===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<d&&L[h]===0;h++);for(p<h&&(p=h),y=1,u=1;u<=Mi;u++)if(y<<=1,y-=L[u],y<0)return-1;if(y>0&&(t===F0||d!==1))return-1;for(N[1]=0,u=1;u<Mi;u++)N[u+1]=N[u]+L[u];for(f=0;f<i;f++)n[r+f]!==0&&(o[N[n[r+f]]++]=f);if(t===F0?(E=j=o,M=19):t===Of?(E=O3,T-=257,j=R3,Y-=257,M=256):(E=I3,j=L3,M=-1),_=0,f=0,u=h,k=s,m=p,g=0,A=-1,x=1<<p,v=x-1,t===Of&&x>C0||t===M0&&x>T0)return 1;for(;;){le=u-g,o[f]<M?(fe=0,ae=o[f]):o[f]>M?(fe=j[Y+o[f]],ae=E[T+o[f]]):(fe=96,ae=0),S=1<<u-g,b=1<<m,h=b;do b-=S,a[k+(_>>g)+b]=le<<24|fe<<16|ae|0;while(b!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,f++,--L[u]===0){if(u===d)break;u=n[r+o[f]]}if(u>p&&(_&v)!==A){for(g===0&&(g=p),k+=h,m=u-g,y=1<<m;m+g<d&&(y-=L[m+g],!(y<=0));)m++,y<<=1;if(x+=1<<m,t===Of&&x>C0||t===M0&&x>T0)return 1;A=_&v,a[A]=p<<24|m<<16|k-s|0}}return _!==0&&(a[k+_]=u-g<<24|64<<16|0),l.bits=p,0}});var d1=I(dn=>{"use strict";w();var Gt=$n(),Bf=bf(),Tn=xf(),j3=k0(),us=O0(),D3=0,i1=1,a1=2,R0=4,B3=5,Xo=6,zr=0,N3=1,$3=2,tn=-2,s1=-3,Nf=-4,H3=-5,I0=8,o1=1,L0=2,j0=3,D0=4,B0=5,N0=6,$0=7,H0=8,U0=9,G0=10,Ko=11,Gn=12,Rf=13,z0=14,If=15,V0=16,W0=17,q0=18,X0=19,Yo=20,Zo=21,Y0=22,Z0=23,K0=24,J0=25,Q0=26,Lf=27,e1=28,t1=29,Ue=30,$f=31,U3=32,G3=852,z3=592,V3=15,W3=V3;function n1(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function q3(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Gt.Buf16(320),this.work=new Gt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l1(e){var t;return!e||!e.state?tn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=o1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Gt.Buf32(G3),t.distcode=t.distdyn=new Gt.Buf32(z3),t.sane=1,t.back=-1,zr)}function c1(e){var t;return!e||!e.state?tn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,l1(e))}function u1(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?tn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,c1(e))}function f1(e,t){var n,r;return e?(r=new q3,e.state=r,r.window=null,n=u1(e,t),n!==zr&&(e.state=null),n):tn}function X3(e){return f1(e,W3)}var r1=!0,jf,Df;function Y3(e){if(r1){var t;for(jf=new Gt.Buf32(512),Df=new Gt.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(us(i1,e.lens,0,288,jf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;us(a1,e.lens,0,32,Df,0,e.work,{bits:5}),r1=!1}e.lencode=jf,e.lenbits=9,e.distcode=Df,e.distbits=5}function h1(e,t,n,r){var i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Gt.Buf8(a.wsize)),r>=a.wsize?(Gt.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),Gt.arraySet(a.window,t,n-r,i,a.wnext),r-=i,r?(Gt.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function Z3(e,t){var n,r,i,a,s,o,l,c,u,f,h,d,p,m,g=0,y,x,_,S,b,A,v,k,E=new Gt.Buf8(4),T,M,L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return tn;n=e.state,n.mode===Gn&&(n.mode=Rf),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,f=o,h=l,k=zr;e:for(;;)switch(n.mode){case o1:if(n.wrap===0){n.mode=Rf;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,E[0]=c&255,E[1]=c>>>8&255,n.check=Tn(n.check,E,2,0),c=0,u=0,n.mode=L0;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ue;break}if((c&15)!==I0){e.msg="unknown compression method",n.mode=Ue;break}if(c>>>=4,u-=4,v=(c&15)+8,n.wbits===0)n.wbits=v;else if(v>n.wbits){e.msg="invalid window size",n.mode=Ue;break}n.dmax=1<<v,e.adler=n.check=1,n.mode=c&512?G0:Gn,c=0,u=0;break;case L0:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==I0){e.msg="unknown compression method",n.mode=Ue;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ue;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,n.check=Tn(n.check,E,2,0)),c=0,u=0,n.mode=j0;case j0:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=Tn(n.check,E,4,0)),c=0,u=0,n.mode=D0;case D0:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,n.check=Tn(n.check,E,2,0)),c=0,u=0,n.mode=B0;case B0:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,n.check=Tn(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=N0;case N0:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Gt.arraySet(n.head.extra,r,a,d,v)),n.flags&512&&(n.check=Tn(n.check,r,d,a)),o-=d,a+=d,n.length-=d),n.length))break e;n.length=0,n.mode=$0;case $0:if(n.flags&2048){if(o===0)break e;d=0;do v=r[a+d++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v));while(v&&d<o);if(n.flags&512&&(n.check=Tn(n.check,r,d,a)),o-=d,a+=d,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=H0;case H0:if(n.flags&4096){if(o===0)break e;d=0;do v=r[a+d++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v));while(v&&d<o);if(n.flags&512&&(n.check=Tn(n.check,r,d,a)),o-=d,a+=d,v)break e}else n.head&&(n.head.comment=null);n.mode=U0;case U0:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ue;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Gn;break;case G0:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}e.adler=n.check=n1(c),c=0,u=0,n.mode=Ko;case Ko:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=u,$3;e.adler=n.check=1,n.mode=Gn;case Gn:if(t===B3||t===Xo)break e;case Rf:if(n.last){c>>>=u&7,u-=u&7,n.mode=Lf;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=z0;break;case 1:if(Y3(n),n.mode=Yo,t===Xo){c>>>=2,u-=2;break e}break;case 2:n.mode=W0;break;case 3:e.msg="invalid block type",n.mode=Ue}c>>>=2,u-=2;break;case z0:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ue;break}if(n.length=c&65535,c=0,u=0,n.mode=If,t===Xo)break e;case If:n.mode=V0;case V0:if(d=n.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;Gt.arraySet(i,r,a,d,s),o-=d,a+=d,l-=d,s+=d,n.length-=d;break}n.mode=Gn;break;case W0:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ue;break}n.have=0,n.mode=q0;case q0:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[L[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},k=us(D3,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,k){e.msg="invalid code lengths set",n.mode=Ue;break}n.have=0,n.mode=X0;case X0:for(;n.have<n.nlen+n.ndist;){for(;g=n.lencode[c&(1<<n.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(_<16)c>>>=y,u-=y,n.lens[n.have++]=_;else{if(_===16){for(M=y+2;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=y,u-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=Ue;break}v=n.lens[n.have-1],d=3+(c&3),c>>>=2,u-=2}else if(_===17){for(M=y+3;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,v=0,d=3+(c&7),c>>>=3,u-=3}else{for(M=y+7;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,v=0,d=11+(c&127),c>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ue;break}for(;d--;)n.lens[n.have++]=v}}if(n.mode===Ue)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ue;break}if(n.lenbits=9,T={bits:n.lenbits},k=us(i1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,k){e.msg="invalid literal/lengths set",n.mode=Ue;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},k=us(a1,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,k){e.msg="invalid distances set",n.mode=Ue;break}if(n.mode=Yo,t===Xo)break e;case Yo:n.mode=Zo;case Zo:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=u,j3(e,h),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,n.mode===Gn&&(n.back=-1);break}for(n.back=0;g=n.lencode[c&(1<<n.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(x&&!(x&240)){for(S=y,b=x,A=_;g=n.lencode[A+((c&(1<<S+b)-1)>>S)],y=g>>>24,x=g>>>16&255,_=g&65535,!(S+y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=y,u-=y,n.back+=y,n.length=_,x===0){n.mode=Q0;break}if(x&32){n.back=-1,n.mode=Gn;break}if(x&64){e.msg="invalid literal/length code",n.mode=Ue;break}n.extra=x&15,n.mode=Y0;case Y0:if(n.extra){for(M=n.extra;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Z0;case Z0:for(;g=n.distcode[c&(1<<n.distbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(x&240)){for(S=y,b=x,A=_;g=n.distcode[A+((c&(1<<S+b)-1)>>S)],y=g>>>24,x=g>>>16&255,_=g&65535,!(S+y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=y,u-=y,n.back+=y,x&64){e.msg="invalid distance code",n.mode=Ue;break}n.offset=_,n.extra=x&15,n.mode=K0;case K0:if(n.extra){for(M=n.extra;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ue;break}n.mode=J0;case J0:if(l===0)break e;if(d=h-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ue;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,p=s-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[s++]=m[p++];while(--d);n.length===0&&(n.mode=Zo);break;case Q0:if(l===0)break e;i[s++]=n.length,l--,n.mode=Zo;break;case Lf:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?Tn(n.check,i,h,s-h):Bf(n.check,i,h,s-h)),h=l,(n.flags?c:n1(c))!==n.check){e.msg="incorrect data check",n.mode=Ue;break}c=0,u=0}n.mode=e1;case e1:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ue;break}c=0,u=0}n.mode=t1;case t1:k=N3;break e;case Ue:k=s1;break e;case $f:return Nf;case U3:default:return tn}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Ue&&(n.mode<Lf||t!==R0))&&h1(e,e.output,e.next_out,h-e.avail_out)?(n.mode=$f,Nf):(f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?Tn(n.check,i,h,e.next_out-h):Bf(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Gn?128:0)+(n.mode===Yo||n.mode===If?256:0),(f===0&&h===0||t===R0)&&k===zr&&(k=H3),k)}function K3(e){if(!e||!e.state)return tn;var t=e.state;return t.window&&(t.window=null),e.state=null,zr}function J3(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?tn:(n.head=t,t.done=!1,zr)}function Q3(e,t){var n=t.length,r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==Ko)?tn:r.mode===Ko&&(i=1,i=Bf(i,t,n,0),i!==r.check)?s1:(a=h1(e,t,n,n),a?(r.mode=$f,Nf):(r.havedict=1,zr))}dn.inflateReset=c1;dn.inflateReset2=u1;dn.inflateResetKeep=l1;dn.inflateInit=X3;dn.inflateInit2=f1;dn.inflate=Z3;dn.inflateEnd=K3;dn.inflateGetHeader=J3;dn.inflateSetDictionary=Q3;dn.inflateInfo="pako inflate (from Nodeca project)"});var Hf=I(($7,p1)=>{"use strict";w();p1.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var g1=I((U7,m1)=>{"use strict";w();function e5(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}m1.exports=e5});var v1=I(hs=>{"use strict";w();var Pi=d1(),fs=$n(),Jo=Af(),et=Hf(),Uf=No(),t5=Cf(),n5=g1(),y1=Object.prototype.toString;function Vr(e){if(!(this instanceof Vr))return new Vr(e);this.options=fs.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t5,this.strm.avail_out=0;var n=Pi.inflateInit2(this.strm,t.windowBits);if(n!==et.Z_OK)throw new Error(Uf[n]);if(this.header=new n5,Pi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Jo.string2buf(t.dictionary):y1.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Pi.inflateSetDictionary(this.strm,t.dictionary),n!==et.Z_OK)))throw new Error(Uf[n])}Vr.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,a,s,o,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?et.Z_FINISH:et.Z_NO_FLUSH,typeof e=="string"?n.input=Jo.binstring2buf(e):y1.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new fs.Buf8(r),n.next_out=0,n.avail_out=r),a=Pi.inflate(n,et.Z_NO_FLUSH),a===et.Z_NEED_DICT&&i&&(a=Pi.inflateSetDictionary(this.strm,i)),a===et.Z_BUF_ERROR&&u===!0&&(a=et.Z_OK,u=!1),a!==et.Z_STREAM_END&&a!==et.Z_OK)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out===0||a===et.Z_STREAM_END||n.avail_in===0&&(s===et.Z_FINISH||s===et.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=Jo.utf8border(n.output,n.next_out),l=n.next_out-o,c=Jo.buf2string(n.output,o),n.next_out=l,n.avail_out=r-l,l&&fs.arraySet(n.output,n.output,o,l,0),this.onData(c)):this.onData(fs.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==et.Z_STREAM_END);return a===et.Z_STREAM_END&&(s=et.Z_FINISH),s===et.Z_FINISH?(a=Pi.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===et.Z_OK):(s===et.Z_SYNC_FLUSH&&(this.onEnd(et.Z_OK),n.avail_out=0),!0)};Vr.prototype.onData=function(e){this.chunks.push(e)};Vr.prototype.onEnd=function(e){e===et.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fs.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Gf(e,t){var n=new Vr(t);if(n.push(e,!0),n.err)throw n.msg||Uf[n.err];return n.result}function r5(e,t){return t=t||{},t.raw=!0,Gf(e,t)}hs.Inflate=Vr;hs.inflate=Gf;hs.inflateRaw=r5;hs.ungzip=Gf});var x1=I((W7,b1)=>{"use strict";w();var i5=$n().assign,a5=S0(),s5=v1(),o5=Hf(),w1={};i5(w1,a5,s5,o5);b1.exports=w1});var E1=I((X7,S1)=>{"use strict";w();var _1=(e,t)=>function(...n){let r=t.promiseModule;return new r((i,a)=>{t.multiArgs?n.push((...s)=>{t.errorFirst?s[0]?a(s):(s.shift(),i(s)):i(s)}):t.errorFirst?n.push((s,o)=>{s?a(s):i(o)}):n.push(i),e.apply(this,n)})};S1.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let n=typeof e;if(!(e!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":n}\``);let r=a=>{let s=o=>typeof o=="string"?a===o:o.test(a);return t.include?t.include.some(s):!t.exclude.some(s)},i;n==="function"?i=function(...a){return t.excludeMain?e(...a):_1(e,t).apply(this,a)}:i=Object.create(Object.getPrototypeOf(e));for(let a in e){let s=e[a];i[a]=typeof s=="function"&&r(a)?_1(s,t):s}return i}});var R1=I((Z7,O1)=>{w();function k1(e){return Array.isArray(e)?e:[e]}var Wf="",A1=" ",zf="\\",l5=/^\s+$/,c5=/(?:[^\\]|^)\\$/,u5=/^\\!/,f5=/^\\#/,h5=/\r?\n/g,d5=/^\.*\/|^\.+$/,Vf="/",F1="node-ignore";typeof Symbol!="undefined"&&(F1=Symbol.for("node-ignore"));var C1=F1,p5=(e,t,n)=>Object.defineProperty(e,t,{value:n}),m5=/([0-z])-([0-z])/g,M1=()=>!1,g5=e=>e.replace(m5,(t,n,r)=>n.charCodeAt(0)<=r.charCodeAt(0)?t:Wf),y5=e=>{let{length:t}=e;return e.slice(0,t-t%2)},v5=[[/^\uFEFF/,()=>Wf],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,n)=>t+(n.indexOf("\\")===0?A1:Wf)],[/(\\+?)\s/g,(e,t)=>{let{length:n}=t;return t.slice(0,n-n%2)+A1}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,n)=>t+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,n)=>{let r=n.replace(/\\\*/g,"[^\\/]*");return t+r}],[/\\\\\\(?=[$.|*+(){^])/g,()=>zf],[/\\\\/g,()=>zf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,n,r,i)=>t===zf?`\\[${n}${y5(r)}${i}`:i==="]"&&r.length%2===0?`[${g5(n)}${r}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],T1=Object.create(null),w5=(e,t)=>{let n=T1[e];return n||(n=v5.reduce((r,[i,a])=>r.replace(i,a.bind(e)),e),T1[e]=n),t?new RegExp(n,"i"):new RegExp(n)},Yf=e=>typeof e=="string",b5=e=>e&&Yf(e)&&!l5.test(e)&&!c5.test(e)&&e.indexOf("#")!==0,x5=e=>e.split(h5),qf=class{constructor(t,n,r,i){this.origin=t,this.pattern=n,this.negative=r,this.regex=i}},_5=(e,t)=>{let n=e,r=!1;e.indexOf("!")===0&&(r=!0,e=e.substr(1)),e=e.replace(u5,"!").replace(f5,"#");let i=w5(e,t);return new qf(n,e,r,i)},S5=(e,t)=>{throw new t(e)},zn=(e,t,n)=>Yf(e)?e?zn.isNotRelative(e)?n(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:n("path must not be empty",TypeError):n(`path must be a string, but got \`${t}\``,TypeError),P1=e=>d5.test(e);zn.isNotRelative=P1;zn.convert=e=>e;var Xf=class{constructor({ignorecase:t=!0,ignoreCase:n=t,allowRelativePaths:r=!1}={}){p5(this,C1,!0),this._rules=[],this._ignoreCase=n,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[C1]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(b5(t)){let n=_5(t,this._ignoreCase);this._added=!0,this._rules.push(n)}}add(t){return this._added=!1,k1(Yf(t)?x5(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,n){let r=!1,i=!1;return this._rules.forEach(a=>{let{negative:s}=a;if(i===s&&r!==i||s&&!r&&!i&&!n)return;a.regex.test(t)&&(r=!s,i=s)}),{ignored:r,unignored:i}}_test(t,n,r,i){let a=t&&zn.convert(t);return zn(a,t,this._allowRelativePaths?M1:S5),this._t(a,n,r,i)}_t(t,n,r,i){if(t in n)return n[t];if(i||(i=t.split(Vf)),i.pop(),!i.length)return n[t]=this._testOne(t,r);let a=this._t(i.join(Vf)+Vf,n,r,i);return n[t]=a.ignored?a:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return k1(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Qo=e=>new Xf(e),E5=e=>zn(e&&zn.convert(e),e,M1);Qo.isPathValid=E5;Qo.default=Qo;O1.exports=Qo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=n=>/^\\\\\?\\/.test(n)||/["<>|\u0000-\u001F]+/u.test(n)?n:n.replace(/\\/g,"/");zn.convert=e;let t=/^[a-z]:\//i;zn.isNotRelative=n=>t.test(n)||P1(n)}});var L1=I((J7,I1)=>{"use strict";w();function k5(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fn(e,t,n){return t=t instanceof RegExp?t:new RegExp(k5(t),"g"),e.replace(t,n)}var A5={clean:function(t){if(typeof t!="string")throw new Error("Expected a string, received: "+t);return t=Fn(t,"./","/"),t=Fn(t,"..","."),t=Fn(t," ","-"),t=Fn(t,/^[~^:?*\\\-]/g,""),t=Fn(t,/[~^:?*\\]/g,"-"),t=Fn(t,/[~^:?*\\\-]$/g,""),t=Fn(t,"@{","-"),t=Fn(t,/\.$/g,""),t=Fn(t,/\/$/g,""),t=Fn(t,/\.lock$/g,""),t}};I1.exports=A5});var D1=I((e9,j1)=>{w();j1.exports=function(e,t){var n=e,r=t,i=n.length,a=r.length,s=!1,o=null,l=i+1,c=[],u=[],f=[],h="",d=-1,p=0,m=1,g,y,x=function(){i>=a&&(g=n,y=i,n=r,r=g,i=a,a=y,s=!0,l=i+1)},_=function(v,k,E){return{x:v,y:k,k:E}},S=function(v,k){return{elem:v,t:k}},b=function(v,k,E){var T,M,L;for(k>E?T=c[v-1+l]:T=c[v+1+l],L=Math.max(k,E),M=L-v;M<i&&L<a&&n[M]===r[L];)++M,++L;return c[v+l]=u.length,u[u.length]=new _(M,L,T),L},A=function(v){var k,E,T,M,L;for(k=E=1,T=M=0,L=v.length-1;L>=0;--L)for(;T<v[L].x||M<v[L].y;)v[L].y-v[L].x>M-T?(s?f[f.length]=new S(r[M],d):f[f.length]=new S(r[M],m),++E,++M):v[L].y-v[L].x<M-T?(s?f[f.length]=new S(n[T],m):f[f.length]=new S(n[T],d),++k,++T):(f[f.length]=new S(n[T],p),h+=n[T],++k,++E,++T,++M)};return x(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return o},getlcs:function(){return h},getses:function(){return f},compose:function(){var v,k,E,T,M,L,N,j;for(v=a-i,k=i+a+3,E={},N=0;N<k;++N)E[N]=-1,c[N]=-1;T=-1;do{for(++T,j=-T;j<=v-1;++j)E[j+l]=b(j,E[j-1+l]+1,E[j+1+l]);for(j=v+T;j>=v+1;--j)E[j+l]=b(j,E[j-1+l]+1,E[j+1+l]);E[v+l]=b(v,E[v-1+l]+1,E[v+1+l])}while(E[v+l]!==a);for(o=v+2*T,M=c[v+l],L=[];M!==-1;)L[L.length]=new _(u[M].x,u[M].y,null),M=u[M].k;A(L)}}}});var $1=I((n9,N1)=>{w();var C5=D1();function T5(e,t){var n=new C5(e,t);n.compose();for(var r=n.getses(),i,a,s=e.length-1,o=t.length-1,l=r.length-1;l>=0;--l)r[l].t===n.SES_COMMON?(a?(a.chain={file1index:s,file2index:o,chain:null},a=a.chain):(i={file1index:s,file2index:o,chain:null},a=i),s--,o--):r[l].t===n.SES_DELETE?s--:r[l].t===n.SES_ADD&&o--;var c={file1index:-1,file2index:-1,chain:null};return a?(a.chain=c,i):c}function B1(e,t){for(var n=[],r=e.length,i=t.length,a=T5(e,t);a!==null;a=a.chain){var s=r-a.file1index-1,o=i-a.file2index-1;r=a.file1index,i=a.file2index,(s||o)&&n.push({file1:[r+1,s],file2:[i+1,o]})}return n.reverse(),n}function F5(e,t,n){var r,i=B1(t,e),a=B1(t,n),s=[];function o(N,j){s.push([N.file1[0],j,N.file1[1],N.file2[0],N.file2[1]])}for(r=0;r<i.length;r++)o(i[r],0);for(r=0;r<a.length;r++)o(a[r],2);s.sort(function(N,j){return N[0]-j[0]});var l=[],c=0;function u(N){N>c&&(l.push([1,c,N-c]),c=N)}for(var f=0;f<s.length;f++){for(var h=f,d=s[f],p=d[0],m=p+d[2];f<s.length-1;){var g=s[f+1],y=g[0];if(y>m)break;m=Math.max(m,y+g[2]),f++}if(u(p),h==f)d[4]>0&&l.push([d[1],d[3],d[4]]);else{var x={0:[e.length,-1,t.length,-1],2:[n.length,-1,t.length,-1]};for(r=h;r<=f;r++){d=s[r];var _=d[1],S=x[_],b=d[0],A=b+d[2],v=d[3],k=v+d[4];S[0]=Math.min(v,S[0]),S[1]=Math.max(k,S[1]),S[2]=Math.min(b,S[2]),S[3]=Math.max(A,S[3])}var E=x[0][0]+(p-x[0][2]),T=x[0][1]+(m-x[0][3]),M=x[2][0]+(p-x[2][2]),L=x[2][1]+(m-x[2][3]);l.push([-1,E,T-E,p,m-p,M,L-M])}c=m}return u(t.length),l}function M5(e,t,n){var r=[],i=[e,t,n],a=F5(e,t,n),s=[];function o(){s.length&&r.push({ok:s}),s=[]}function l(d){for(var p=0;p<d.length;p++)s.push(d[p])}function c(d){if(d[2]!=d[6])return!0;for(var p=d[1],m=d[5],g=0;g<d[2];g++)if(e[g+p]!=n[g+m])return!0;return!1}for(var u=0;u<a.length;u++){var f=a[u],h=f[0];h==-1?c(f)?(o(),r.push({conflict:{a:e.slice(f[1],f[1]+f[2]),aIndex:f[1],o:t.slice(f[3],f[3]+f[4]),oIndex:f[3],b:n.slice(f[5],f[5]+f[6]),bIndex:f[5]}})):l(i[0].slice(f[1],f[1]+f[2])):l(i[h].slice(f[1],f[1]+f[2]))}return o(),r}N1.exports=M5});var zy=I((c9,Gy)=>{w();var Yi=1e3,Zi=Yi*60,Ki=Zi*60,Jr=Ki*24,R4=Jr*7,I4=Jr*365.25;Gy.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return L4(e);if(n==="number"&&isFinite(e))return t.long?D4(e):j4(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function L4(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*I4;case"weeks":case"week":case"w":return n*R4;case"days":case"day":case"d":return n*Jr;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ki;case"minutes":case"minute":case"mins":case"min":case"m":return n*Zi;case"seconds":case"second":case"secs":case"sec":case"s":return n*Yi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function j4(e){var t=Math.abs(e);return t>=Jr?Math.round(e/Jr)+"d":t>=Ki?Math.round(e/Ki)+"h":t>=Zi?Math.round(e/Zi)+"m":t>=Yi?Math.round(e/Yi)+"s":e+"ms"}function D4(e){var t=Math.abs(e);return t>=Jr?bl(e,t,Jr,"day"):t>=Ki?bl(e,t,Ki,"hour"):t>=Zi?bl(e,t,Zi,"minute"):t>=Yi?bl(e,t,Yi,"second"):e+" ms"}function bl(e,t,n,r){var i=t>=n*1.5;return Math.round(e/n)+" "+r+(i?"s":"")}});var Wy=I((f9,Vy)=>{w();function B4(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=s,n.humanize=zy(),n.destroy=c,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let f=0;for(let h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(u){let f,h=null,d,p;function m(...g){if(!m.enabled)return;let y=m,x=Number(new Date),_=x-(f||x);y.diff=_,y.prev=f,y.curr=x,f=x,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let S=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(A,v)=>{if(A==="%%")return"%";S++;let k=n.formatters[v];if(typeof k=="function"){let E=g[S];A=k.call(y,E),g.splice(S,1),S--}return A}),n.formatArgs.call(y,g),(y.log||n.log).apply(y,g)}return m.namespace=u,m.useColors=n.useColors(),m.color=n.selectColor(u),m.extend=r,m.destroy=n.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==n.namespaces&&(d=n.namespaces,p=n.enabled(u)),p),set:g=>{h=g}}),typeof n.init=="function"&&n.init(m),m}function r(u,f){let h=n(this.namespace+(typeof f=="undefined"?":":f)+u);return h.log=this.log,h}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f,h=(typeof u=="string"?u:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(u=h[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function a(){let u=[...n.names.map(o),...n.skips.map(o).map(f=>"-"+f)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,h;for(f=0,h=n.skips.length;f<h;f++)if(n.skips[f].test(u))return!1;for(f=0,h=n.names.length;f<h;f++)if(n.names[f].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Vy.exports=B4});var _l=I((Wt,xl)=>{w();Wt.formatArgs=$4;Wt.save=H4;Wt.load=U4;Wt.useColors=N4;Wt.storage=G4();Wt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function N4(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function $4(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+xl.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),e.splice(r,0,t)}Wt.log=console.debug||console.log||(()=>{});function H4(e){try{e?Wt.storage.setItem("debug",e):Wt.storage.removeItem("debug")}catch(t){}}function U4(){let e;try{e=Wt.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function G4(){try{return localStorage}catch(e){}}xl.exports=Wy()(Wt);var{formatters:z4}=xl.exports;z4.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var qy=I(qt=>{"use strict";w();var V4=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});var W4=require("fs"),q4=V4(_l()),Ji=q4.default("@kwsites/file-exists");function X4(e,t,n){Ji("checking %s",e);try{let r=W4.statSync(e);return r.isFile()&&t?(Ji("[OK] path represents a file"),!0):r.isDirectory()&&n?(Ji("[OK] path represents a directory"),!0):(Ji("[FAIL] path represents something other than a file or directory"),!1)}catch(r){if(r.code==="ENOENT")return Ji("[FAIL] path is not accessible: %o",r),!1;throw Ji("[FATAL] %o",r),r}}function Y4(e,t=qt.READABLE){return X4(e,(t&qt.FILE)>0,(t&qt.FOLDER)>0)}qt.exists=Y4;qt.FILE=1;qt.FOLDER=2;qt.READABLE=qt.FILE+qt.FOLDER});var Xy=I(Sl=>{"use strict";w();function Z4(e){for(var t in e)Sl.hasOwnProperty(t)||(Sl[t]=e[t])}Object.defineProperty(Sl,"__esModule",{value:!0});Z4(qy())});var kh=I(Qr=>{"use strict";w();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.createDeferred=Qr.deferred=void 0;function Eh(){let e,t,n="pending";return{promise:new Promise((i,a)=>{e=i,t=a}),done(i){n==="pending"&&(n="resolved",e(i))},fail(i){n==="pending"&&(n="rejected",t(i))},get fulfilled(){return n!=="pending"},get status(){return n}}}Qr.deferred=Eh;Qr.createDeferred=Eh;Qr.default=Eh});var D2=I((rN,j2)=>{"use strict";w();j2.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var N2=I((aN,B2)=>{w();var yd={px:{px:1,cm:37.79527559055118,mm:3.7795275590551185,in:96,pt:1.3333333333333333,pc:16},cm:{px:.026458333333333334,cm:1,mm:.1,in:2.54,pt:.035277777777777776,pc:.42333333333333334},mm:{px:.26458333333333334,cm:10,mm:1,in:25.4,pt:.35277777777777775,pc:4.233333333333333},in:{px:.010416666666666666,cm:.39370078740157477,mm:.03937007874015748,in:1,pt:.013888888888888888,pc:.16666666666666666},pt:{px:.75,cm:28.346456692913385,mm:2.834645669291339,in:72,pt:1,pc:12},pc:{px:.0625,cm:2.3622047244094486,mm:.2362204724409449,in:6,pt:.08333333333333333,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:1.1111111111111112,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:.002777777777777778,grad:.0025,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:.39370078740157477,dppx:.010416666666666666},dpcm:{dpi:2.54,dpcm:1,dppx:.026458333333333334},dppx:{dpi:96,dpcm:37.79527559055118,dppx:1}};B2.exports=function(e,t,n,r){if(!yd.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!yd[n].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+n);var i=yd[n][t]*e;return r!==!1?(r=Math.pow(10,parseInt(r)||5),Math.round(i*r)/r):i}});var Q2=I(Yn=>{"use strict";w();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.fromRgba=aa;Yn.fromRgb=vd;Yn.fromHsla=Xl;Yn.fromHsl=K2;Yn.fromString=J2;Yn.default=void 0;var $2=G2(D2()),lO=G2(N2());function G2(e){return e&&e.__esModule?e:{default:e}}function cO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uO(e,t,n){return t&&H2(e.prototype,t),n&&H2(e,n),e}function Pt(e,t){return pO(e)||dO(e,t)||hO(e,t)||fO()}function fO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hO(e,t){if(e){if(typeof e=="string")return U2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U2(e,t)}}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dO(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function pO(e){if(Array.isArray(e))return e}var z2=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,V2=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/,W2=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,q2=/^rgba?\(\s*(\d+)\s+(\d+)\s+(\d+)(?:\s*\/\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,X2=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,Y2=/^rgba?\(\s*(\d+%)\s+(\d+%)\s+(\d+%)(?:\s*\/\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,Z2=/^hsla?\(\s*(\d+)(deg|rad|grad|turn)?\s*,\s*(\d+)%\s*,\s*(\d+)%(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/;function Xs(e,t){return e.indexOf(t)>-1}function mO(e,t,n){var r=e/255,i=t/255,a=n/255,s=Math.max(r,i,a),o=Math.min(r,i,a),l=s-o,c=(s+o)/2;if(l===0)return[0,0,c*100];var u=l/(1-Math.abs(2*c-1)),f=function(){switch(s){case r:return(i-a)/l%6;case i:return(a-r)/l+2;default:return(r-i)/l+4}}();return[f*60,u*100,c*100]}function gO(e,t,n){var r=e/60,i=t/100,a=n/100,s=(1-Math.abs(2*a-1))*i,o=s*(1-Math.abs(r%2-1)),l=a-s/2,c=function(){return r<1?[s,o,0]:r<2?[o,s,0]:r<3?[0,s,o]:r<4?[0,o,s]:r<5?[o,0,s]:[s,0,o]}(),u=Pt(c,3),f=u[0],h=u[1],d=u[2];return[(f+l)*255,(h+l)*255,(d+l)*255]}var yO=function(){function e(t){var n=Pt(t,4),r=n[0],i=n[1],a=n[2],s=n[3];cO(this,e),this.values=[Math.max(Math.min(parseInt(r,10),255),0),Math.max(Math.min(parseInt(i,10),255),0),Math.max(Math.min(parseInt(a,10),255),0),s==null?1:Math.max(Math.min(parseFloat(s),255),0)]}return uO(e,[{key:"toRgbString",value:function(){var n=Pt(this.values,4),r=n[0],i=n[1],a=n[2],s=n[3];return s===1?"rgb(".concat(r,", ").concat(i,", ").concat(a,")"):"rgba(".concat(r,", ").concat(i,", ").concat(a,", ").concat(s,")")}},{key:"toHslString",value:function(){var n=this.toHslaArray(),r=Pt(n,4),i=r[0],a=r[1],s=r[2],o=r[3];return o===1?"hsl(".concat(i,", ").concat(a,"%, ").concat(s,"%)"):"hsla(".concat(i,", ").concat(a,"%, ").concat(s,"%, ").concat(o,")")}},{key:"toHexString",value:function(){var n=Pt(this.values,4),r=n[0],i=n[1],a=n[2],s=n[3];return r=Number(r).toString(16).padStart(2,"0"),i=Number(i).toString(16).padStart(2,"0"),a=Number(a).toString(16).padStart(2,"0"),s=s<1?parseInt(s*255,10).toString(16).padStart(2,"0"):"","#".concat(r).concat(i).concat(a).concat(s)}},{key:"toRgbaArray",value:function(){return this.values}},{key:"toHslaArray",value:function(){var n=Pt(this.values,4),r=n[0],i=n[1],a=n[2],s=n[3],o=mO(r,i,a),l=Pt(o,3),c=l[0],u=l[1],f=l[2];return[c,u,f,s]}}]),e}();function aa(e){var t=Pt(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return new yO([n,r,i,a])}function vd(e){var t=Pt(e,3),n=t[0],r=t[1],i=t[2];return aa([n,r,i,1])}function Xl(e){var t=Pt(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=gO(n,r,i),o=Pt(s,3),l=o[0],c=o[1],u=o[2];return aa([l,c,u,a])}function K2(e){var t=Pt(e,3),n=t[0],r=t[1],i=t[2];return Xl([n,r,i,1])}function vO(e){var t=z2.exec(e)||V2.exec(e),n=Pt(t,5),r=n[1],i=n[2],a=n[3],s=n[4];return r=parseInt(r.length<2?r.repeat(2):r,16),i=parseInt(i.length<2?i.repeat(2):i,16),a=parseInt(a.length<2?a.repeat(2):a,16),s=s&&(parseInt(s.length<2?s.repeat(2):s,16)/255).toPrecision(1)||1,aa([r,i,a,s])}function wO(e){var t=W2.exec(e)||X2.exec(e)||q2.exec(e)||Y2.exec(e),n=Pt(t,5),r=n[1],i=n[2],a=n[3],s=n[4];return r=Xs(r,"%")?parseInt(r,10)*255/100:parseInt(r,10),i=Xs(i,"%")?parseInt(i,10)*255/100:parseInt(i,10),a=Xs(a,"%")>0?parseInt(a,10)*255/100:parseInt(a,10),s=s===void 0?1:parseFloat(s)/(Xs(s,"%")?100:1),aa([r,i,a,s])}function bO(e){var t=Z2.exec(e),n=Pt(t,6),r=n[1],i=n[2],a=n[3],s=n[4],o=n[5];return i=i||"deg",r=(0,lO.default)(parseFloat(r),i,"deg"),a=parseFloat(a),s=parseFloat(s),o=o===void 0?1:parseFloat(o)/(Xs(o,"%")?100:1),Xl([r,a,s,o])}function J2(e){return $2.default[e]?vd($2.default[e]):z2.test(e)||V2.test(e)?vO(e):W2.test(e)||X2.test(e)||q2.test(e)||Y2.test(e)?wO(e):Z2.test(e)?bO(e):null}var xO={fromString:J2,fromRgb:vd,fromRgba:aa,fromHsl:K2,fromHsla:Xl};Yn.default=xO});var wd=I((cN,tb)=>{"use strict";w();var eb=Object.prototype.toString;tb.exports=function(t){var n=eb.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&eb.call(t.callee)==="[object Function]"),r}});var ub=I((fN,cb)=>{"use strict";w();var lb;Object.keys||(Ys=Object.prototype.hasOwnProperty,bd=Object.prototype.toString,nb=wd(),xd=Object.prototype.propertyIsEnumerable,rb=!xd.call({toString:null},"toString"),ib=xd.call(function(){},"prototype"),Zs=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Yl=function(e){var t=e.constructor;return t&&t.prototype===e},ab={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},sb=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!ab["$"+e]&&Ys.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{Yl(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),ob=function(e){if(typeof window=="undefined"||!sb)return Yl(e);try{return Yl(e)}catch(t){return!1}},lb=function(t){var n=t!==null&&typeof t=="object",r=bd.call(t)==="[object Function]",i=nb(t),a=n&&bd.call(t)==="[object String]",s=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var o=ib&&r;if(a&&t.length>0&&!Ys.call(t,0))for(var l=0;l<t.length;++l)s.push(String(l));if(i&&t.length>0)for(var c=0;c<t.length;++c)s.push(String(c));else for(var u in t)!(o&&u==="prototype")&&Ys.call(t,u)&&s.push(String(u));if(rb)for(var f=ob(t),h=0;h<Zs.length;++h)!(f&&Zs[h]==="constructor")&&Ys.call(t,Zs[h])&&s.push(Zs[h]);return s});var Ys,bd,nb,xd,rb,ib,Zs,Yl,ab,sb,ob;cb.exports=lb});var Kl=I((dN,db)=>{"use strict";w();var _O=Array.prototype.slice,SO=wd(),fb=Object.keys,Zl=fb?function(t){return fb(t)}:ub(),hb=Object.keys;Zl.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return SO(r)?hb(_O.call(r)):hb(r)})}else Object.keys=Zl;return Object.keys||Zl};db.exports=Zl});var mb=I((mN,pb)=>{"use strict";w();pb.exports=Error});var yb=I((yN,gb)=>{"use strict";w();gb.exports=EvalError});var wb=I((wN,vb)=>{"use strict";w();vb.exports=RangeError});var xb=I((xN,bb)=>{"use strict";w();bb.exports=ReferenceError});var _d=I((SN,_b)=>{"use strict";w();_b.exports=SyntaxError});var Zn=I((kN,Sb)=>{"use strict";w();Sb.exports=TypeError});var kb=I((CN,Eb)=>{"use strict";w();Eb.exports=URIError});var Ks=I((FN,Ab)=>{"use strict";w();Ab.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Jl=I((PN,Tb)=>{"use strict";w();var Cb=typeof Symbol!="undefined"&&Symbol,EO=Ks();Tb.exports=function(){return typeof Cb!="function"||typeof Symbol!="function"||typeof Cb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:EO()}});var Mb=I((RN,Fb)=>{"use strict";w();var Sd={__proto__:null,foo:{}},kO=Object;Fb.exports=function(){return{__proto__:Sd}.foo===Sd.foo&&!(Sd instanceof kO)}});var Rb=I((LN,Ob)=>{"use strict";w();var AO="Function.prototype.bind called on incompatible ",CO=Object.prototype.toString,TO=Math.max,FO="[object Function]",Pb=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var a=0;a<n.length;a+=1)r[a+t.length]=n[a];return r},MO=function(t,n){for(var r=[],i=n||0,a=0;i<t.length;i+=1,a+=1)r[a]=t[i];return r},PO=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};Ob.exports=function(t){var n=this;if(typeof n!="function"||CO.apply(n)!==FO)throw new TypeError(AO+n);for(var r=MO(arguments,1),i,a=function(){if(this instanceof i){var u=n.apply(this,Pb(r,arguments));return Object(u)===u?u:this}return n.apply(t,Pb(r,arguments))},s=TO(0,n.length-r.length),o=[],l=0;l<s;l++)o[l]="$"+l;if(i=Function("binder","return function ("+PO(o,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i}});var Ql=I((DN,Ib)=>{"use strict";w();var OO=Rb();Ib.exports=Function.prototype.bind||OO});var Ed=I((NN,Lb)=>{"use strict";w();var RO=Function.prototype.call,IO=Object.prototype.hasOwnProperty,LO=Ql();Lb.exports=LO.call(RO,IO)});var gn=I((HN,$b)=>{"use strict";w();var de,jO=mb(),DO=yb(),BO=wb(),NO=xb(),ca=_d(),la=Zn(),$O=kb(),Nb=Function,kd=function(e){try{return Nb('"use strict"; return ('+e+").constructor;")()}catch(t){}},ri=Object.getOwnPropertyDescriptor;if(ri)try{ri({},"")}catch(e){ri=null}var Ad=function(){throw new la},HO=ri?function(){try{return arguments.callee,Ad}catch(e){try{return ri(arguments,"callee").get}catch(t){return Ad}}}():Ad,sa=Jl()(),UO=Mb()(),mt=Object.getPrototypeOf||(UO?function(e){return e.__proto__}:null),oa={},GO=typeof Uint8Array=="undefined"||!mt?de:mt(Uint8Array),ii={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?de:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?de:ArrayBuffer,"%ArrayIteratorPrototype%":sa&&mt?mt([][Symbol.iterator]()):de,"%AsyncFromSyncIteratorPrototype%":de,"%AsyncFunction%":oa,"%AsyncGenerator%":oa,"%AsyncGeneratorFunction%":oa,"%AsyncIteratorPrototype%":oa,"%Atomics%":typeof Atomics=="undefined"?de:Atomics,"%BigInt%":typeof BigInt=="undefined"?de:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?de:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?de:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?de:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":jO,"%eval%":eval,"%EvalError%":DO,"%Float32Array%":typeof Float32Array=="undefined"?de:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?de:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?de:FinalizationRegistry,"%Function%":Nb,"%GeneratorFunction%":oa,"%Int8Array%":typeof Int8Array=="undefined"?de:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?de:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?de:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":sa&&mt?mt(mt([][Symbol.iterator]())):de,"%JSON%":typeof JSON=="object"?JSON:de,"%Map%":typeof Map=="undefined"?de:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!sa||!mt?de:mt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?de:Promise,"%Proxy%":typeof Proxy=="undefined"?de:Proxy,"%RangeError%":BO,"%ReferenceError%":NO,"%Reflect%":typeof Reflect=="undefined"?de:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?de:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!sa||!mt?de:mt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?de:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":sa&&mt?mt(""[Symbol.iterator]()):de,"%Symbol%":sa?Symbol:de,"%SyntaxError%":ca,"%ThrowTypeError%":HO,"%TypedArray%":GO,"%TypeError%":la,"%Uint8Array%":typeof Uint8Array=="undefined"?de:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?de:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?de:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?de:Uint32Array,"%URIError%":$O,"%WeakMap%":typeof WeakMap=="undefined"?de:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?de:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?de:WeakSet};if(mt)try{null.error}catch(e){jb=mt(mt(e)),ii["%Error.prototype%"]=jb}var jb,zO=function e(t){var n;if(t==="%AsyncFunction%")n=kd("async function () {}");else if(t==="%GeneratorFunction%")n=kd("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=kd("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&mt&&(n=mt(i.prototype))}return ii[t]=n,n},Db={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Js=Ql(),ec=Ed(),VO=Js.call(Function.call,Array.prototype.concat),WO=Js.call(Function.apply,Array.prototype.splice),Bb=Js.call(Function.call,String.prototype.replace),tc=Js.call(Function.call,String.prototype.slice),qO=Js.call(Function.call,RegExp.prototype.exec),XO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,YO=/\\(\\)?/g,ZO=function(t){var n=tc(t,0,1),r=tc(t,-1);if(n==="%"&&r!=="%")throw new ca("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new ca("invalid intrinsic syntax, expected opening `%`");var i=[];return Bb(t,XO,function(a,s,o,l){i[i.length]=o?Bb(l,YO,"$1"):s||a}),i},KO=function(t,n){var r=t,i;if(ec(Db,r)&&(i=Db[r],r="%"+i[0]+"%"),ec(ii,r)){var a=ii[r];if(a===oa&&(a=zO(r)),typeof a=="undefined"&&!n)throw new la("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new ca("intrinsic "+t+" does not exist!")};$b.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new la("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new la('"allowMissing" argument must be a boolean');if(qO(/^%?[^%]*%?$/,t)===null)throw new ca("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ZO(t),i=r.length>0?r[0]:"",a=KO("%"+i+"%",n),s=a.name,o=a.value,l=!1,c=a.alias;c&&(i=c[0],WO(r,VO([0,1],c)));for(var u=1,f=!0;u<r.length;u+=1){var h=r[u],d=tc(h,0,1),p=tc(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new ca("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",ec(ii,s))o=ii[s];else if(o!=null){if(!(h in o)){if(!n)throw new la("base intrinsic for "+t+" exists, but the property is not available.");return}if(ri&&u+1>=r.length){var m=ri(o,h);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?o=m.get:o=o[h]}else f=ec(o,h),o=o[h];f&&!l&&(ii[s]=o)}}return o}});var rc=I((GN,Hb)=>{"use strict";w();var JO=gn(),nc=JO("%Object.defineProperty%",!0)||!1;if(nc)try{nc({},"a",{value:1})}catch(e){nc=!1}Hb.exports=nc});var ac=I((VN,Ub)=>{"use strict";w();var QO=gn(),ic=QO("%Object.getOwnPropertyDescriptor%",!0);if(ic)try{ic([],"length")}catch(e){ic=null}Ub.exports=ic});var sc=I((qN,Vb)=>{"use strict";w();var Gb=rc(),eR=_d(),ua=Zn(),zb=ac();Vb.exports=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new ua("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new ua("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ua("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ua("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ua("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ua("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,l=!!zb&&zb(t,n);if(Gb)Gb(t,n,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:a===null&&l?l.writable:!a});else if(o||!i&&!a&&!s)t[n]=r;else throw new eR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var oc=I((YN,qb)=>{"use strict";w();var Cd=rc(),Wb=function(){return!!Cd};Wb.hasArrayLengthDefineBug=function(){if(!Cd)return null;try{return Cd([],"length",{value:1}).length!==1}catch(t){return!0}};qb.exports=Wb});var br=I((KN,Kb)=>{"use strict";w();var tR=Kl(),nR=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",rR=Object.prototype.toString,iR=Array.prototype.concat,Xb=sc(),aR=function(e){return typeof e=="function"&&rR.call(e)==="[object Function]"},Yb=oc()(),sR=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!aR(r)||!r())return}Yb?Xb(e,t,n,!0):Xb(e,t,n)},Zb=function(e,t){var n=arguments.length>2?arguments[2]:{},r=tR(t);nR&&(r=iR.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)sR(e,r[i],t[r[i]],n[r[i]])};Zb.supportsDescriptors=!!Yb;Kb.exports=Zb});var nx=I((QN,tx)=>{"use strict";w();var oR=gn(),Jb=sc(),lR=oc()(),Qb=ac(),ex=Zn(),cR=oR("%Math.floor%");tx.exports=function(t,n){if(typeof t!="function")throw new ex("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||cR(n)!==n)throw new ex("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in t&&Qb){var s=Qb(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(a=!1)}return(i||a||!r)&&(lR?Jb(t,"length",n,!0,!0):Jb(t,"length",n)),t}});var ai=I((t$,lc)=>{"use strict";w();var Td=Ql(),cc=gn(),uR=nx(),fR=Zn(),ax=cc("%Function.prototype.apply%"),sx=cc("%Function.prototype.call%"),ox=cc("%Reflect.apply%",!0)||Td.call(sx,ax),rx=rc(),hR=cc("%Math.max%");lc.exports=function(t){if(typeof t!="function")throw new fR("a function is required");var n=ox(Td,sx,arguments);return uR(n,1+hR(0,t.length-(arguments.length-1)),!0)};var ix=function(){return ox(Td,ax,arguments)};rx?rx(lc.exports,"apply",{value:ix}):lc.exports.apply=ix});var Zt=I((r$,ux)=>{"use strict";w();var lx=gn(),cx=ai(),dR=cx(lx("String.prototype.indexOf"));ux.exports=function(t,n){var r=lx(t,!!n);return typeof r=="function"&&dR(t,".prototype.")>-1?cx(r):r}});var Fd=I((a$,mx)=>{"use strict";w();var pR=Kl(),dx=Ks()(),px=Zt(),fx=Object,mR=px("Array.prototype.push"),hx=px("Object.prototype.propertyIsEnumerable"),gR=dx?Object.getOwnPropertySymbols:null;mx.exports=function(t,n){if(t==null)throw new TypeError("target must be an object");var r=fx(t);if(arguments.length===1)return r;for(var i=1;i<arguments.length;++i){var a=fx(arguments[i]),s=pR(a),o=dx&&(Object.getOwnPropertySymbols||gR);if(o)for(var l=o(a),c=0;c<l.length;++c){var u=l[c];hx(a,u)&&mR(s,u)}for(var f=0;f<s.length;++f){var h=s[f];if(hx(a,h)){var d=a[h];r[h]=d}}}return r}});var Pd=I((o$,gx)=>{"use strict";w();var Md=Fd(),yR=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),a="";for(var s in i)a+=s;return e!==a},vR=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}return!1};gx.exports=function(){return!Object.assign||yR()||vR()?Md:Object.assign}});var vx=I((c$,yx)=>{"use strict";w();var wR=br(),bR=Pd();yx.exports=function(){var t=bR();return wR(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}});var _x=I((f$,xx)=>{"use strict";w();var xR=br(),_R=ai(),SR=Fd(),wx=Pd(),ER=vx(),kR=_R.apply(wx()),bx=function(t,n){return kR(Object,arguments)};xR(bx,{getPolyfill:wx,implementation:SR,shim:ER});xx.exports=bx});var Ex=I((d$,Sx)=>{"use strict";w();var eo=function(){return typeof function(){}.name=="string"},Qs=Object.getOwnPropertyDescriptor;if(Qs)try{Qs([],"length")}catch(e){Qs=null}eo.functionsHaveConfigurableNames=function(){if(!eo()||!Qs)return!1;var t=Qs(function(){},"name");return!!t&&!!t.configurable};var AR=Function.prototype.bind;eo.boundFunctionsHaveNames=function(){return eo()&&typeof AR=="function"&&function(){}.bind().name!==""};Sx.exports=eo});var Cx=I((m$,Ax)=>{"use strict";w();var kx=sc(),CR=oc()(),TR=Ex().functionsHaveConfigurableNames(),FR=Zn();Ax.exports=function(t,n){if(typeof t!="function")throw new FR("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||TR)&&(CR?kx(t,"name",n,!0,!0):kx(t,"name",n)),t}});var Od=I((y$,Tx)=>{"use strict";w();var MR=Cx(),PR=Zn(),OR=Object;Tx.exports=MR(function(){if(this==null||this!==OR(this))throw new PR("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0)});var Rd=I((w$,Fx)=>{"use strict";w();var RR=Od(),IR=br().supportsDescriptors,LR=Object.getOwnPropertyDescriptor;Fx.exports=function(){if(IR&&/a/mig.flags==="gim"){var t=LR(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var n="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){n+="d"}}),Object.defineProperty(r,"sticky",{get:function(){n+="y"}}),t.get.call(r),n==="dy")return t.get}}return RR}});var Ox=I((x$,Px)=>{"use strict";w();var jR=br().supportsDescriptors,DR=Rd(),BR=Object.getOwnPropertyDescriptor,NR=Object.defineProperty,$R=TypeError,Mx=Object.getPrototypeOf,HR=/a/;Px.exports=function(){if(!jR||!Mx)throw new $R("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=DR(),n=Mx(HR),r=BR(n,"flags");return(!r||r.get!==t)&&NR(n,"flags",{configurable:!0,enumerable:!1,get:t}),t}});var jx=I((S$,Lx)=>{"use strict";w();var UR=br(),GR=ai(),zR=Od(),Rx=Rd(),VR=Ox(),Ix=GR(Rx());UR(Ix,{getPolyfill:Rx,implementation:zR,shim:VR});Lx.exports=Ix});var xr=I((k$,Dx)=>{"use strict";w();var WR=Ks();Dx.exports=function(){return WR()&&!!Symbol.toStringTag}});var Ld=I((C$,Nx)=>{"use strict";w();var qR=xr()(),XR=Zt(),Id=XR("Object.prototype.toString"),uc=function(t){return qR&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Id(t)==="[object Arguments]"},Bx=function(t){return uc(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Id(t)!=="[object Array]"&&Id(t.callee)==="[object Function]"},YR=function(){return uc(arguments)}();uc.isLegacyArguments=Bx;Nx.exports=YR?uc:Bx});var $x=I(()=>{w()});var s_=I((O$,a_)=>{w();var Vd=typeof Map=="function"&&Map.prototype,jd=Object.getOwnPropertyDescriptor&&Vd?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,hc=Vd&&jd&&typeof jd.get=="function"?jd.get:null,Hx=Vd&&Map.prototype.forEach,Wd=typeof Set=="function"&&Set.prototype,Dd=Object.getOwnPropertyDescriptor&&Wd?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,dc=Wd&&Dd&&typeof Dd.get=="function"?Dd.get:null,Ux=Wd&&Set.prototype.forEach,ZR=typeof WeakMap=="function"&&WeakMap.prototype,no=ZR?WeakMap.prototype.has:null,KR=typeof WeakSet=="function"&&WeakSet.prototype,ro=KR?WeakSet.prototype.has:null,JR=typeof WeakRef=="function"&&WeakRef.prototype,Gx=JR?WeakRef.prototype.deref:null,QR=Boolean.prototype.valueOf,eI=Object.prototype.toString,tI=Function.prototype.toString,nI=String.prototype.match,qd=String.prototype.slice,Sr=String.prototype.replace,rI=String.prototype.toUpperCase,zx=String.prototype.toLowerCase,Qx=RegExp.prototype.test,Vx=Array.prototype.concat,In=Array.prototype.join,iI=Array.prototype.slice,Wx=Math.floor,$d=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Bd=Object.getOwnPropertySymbols,Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",xt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fa||!0)?Symbol.toStringTag:null,e_=Object.prototype.propertyIsEnumerable,qx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Xx(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Qx.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-Wx(-e):Wx(e);if(r!==e){var i=String(r),a=qd.call(t,i.length+1);return Sr.call(i,n,"$&_")+"."+Sr.call(Sr.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Sr.call(t,n,"$&_")}var Ud=$x(),Yx=Ud.custom,Zx=n_(Yx)?Yx:null;a_.exports=function e(t,n,r,i){var a=n||{};if(_r(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_r(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=_r(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_r(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_r(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=a.numericSeparator;if(typeof t=="undefined")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return i_(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return o?Xx(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return o?Xx(t,c):c}var u=typeof a.depth=="undefined"?5:a.depth;if(typeof r=="undefined"&&(r=0),r>=u&&u>0&&typeof t=="object")return Gd(t)?"[Array]":"[Object]";var f=_I(a,r);if(typeof i=="undefined")i=[];else if(r_(i,t)>=0)return"[Circular]";function h(N,j,Y){if(j&&(i=iI.call(i),i.push(j)),Y){var le={depth:a.depth};return _r(a,"quoteStyle")&&(le.quoteStyle=a.quoteStyle),e(N,le,r+1,i)}return e(N,a,r+1,i)}if(typeof t=="function"&&!Kx(t)){var d=dI(t),p=fc(t,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+In.call(p,", ")+" }":"")}if(n_(t)){var m=fa?Sr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Hd.call(t);return typeof t=="object"&&!fa?to(m):m}if(wI(t)){for(var g="<"+zx.call(String(t.nodeName)),y=t.attributes||[],x=0;x<y.length;x++)g+=" "+y[x].name+"="+t_(aI(y[x].value),"double",a);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+zx.call(String(t.nodeName))+">",g}if(Gd(t)){if(t.length===0)return"[]";var _=fc(t,h);return f&&!xI(_)?"["+zd(_,f)+"]":"[ "+In.call(_,", ")+" ]"}if(oI(t)){var S=fc(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!e_.call(t,"cause")?"{ ["+String(t)+"] "+In.call(Vx.call("[cause]: "+h(t.cause),S),", ")+" }":S.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+In.call(S,", ")+" }"}if(typeof t=="object"&&s){if(Zx&&typeof t[Zx]=="function"&&Ud)return Ud(t,{depth:u-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(pI(t)){var b=[];return Hx&&Hx.call(t,function(N,j){b.push(h(j,t,!0)+" => "+h(N,t))}),Jx("Map",hc.call(t),b,f)}if(yI(t)){var A=[];return Ux&&Ux.call(t,function(N){A.push(h(N,t))}),Jx("Set",dc.call(t),A,f)}if(mI(t))return Nd("WeakMap");if(vI(t))return Nd("WeakSet");if(gI(t))return Nd("WeakRef");if(cI(t))return to(h(Number(t)));if(fI(t))return to(h($d.call(t)));if(uI(t))return to(QR.call(t));if(lI(t))return to(h(String(t)));if(typeof window!="undefined"&&t===window)return"{ [object Window] }";if(typeof globalThis!="undefined"&&t===globalThis||typeof global!="undefined"&&t===global)return"{ [object globalThis] }";if(!sI(t)&&!Kx(t)){var v=fc(t,h),k=qx?qx(t)===Object.prototype:t instanceof Object||t.constructor===Object,E=t instanceof Object?"":"null prototype",T=!k&&xt&&Object(t)===t&&xt in t?qd.call(Er(t),8,-1):E?"Object":"",M=k||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",L=M+(T||E?"["+In.call(Vx.call([],T||[],E||[]),": ")+"] ":"");return v.length===0?L+"{}":f?L+"{"+zd(v,f)+"}":L+"{ "+In.call(v,", ")+" }"}return String(t)};function t_(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function aI(e){return Sr.call(String(e),/"/g,"&quot;")}function Gd(e){return Er(e)==="[object Array]"&&(!xt||!(typeof e=="object"&&xt in e))}function sI(e){return Er(e)==="[object Date]"&&(!xt||!(typeof e=="object"&&xt in e))}function Kx(e){return Er(e)==="[object RegExp]"&&(!xt||!(typeof e=="object"&&xt in e))}function oI(e){return Er(e)==="[object Error]"&&(!xt||!(typeof e=="object"&&xt in e))}function lI(e){return Er(e)==="[object String]"&&(!xt||!(typeof e=="object"&&xt in e))}function cI(e){return Er(e)==="[object Number]"&&(!xt||!(typeof e=="object"&&xt in e))}function uI(e){return Er(e)==="[object Boolean]"&&(!xt||!(typeof e=="object"&&xt in e))}function n_(e){if(fa)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Hd)return!1;try{return Hd.call(e),!0}catch(t){}return!1}function fI(e){if(!e||typeof e!="object"||!$d)return!1;try{return $d.call(e),!0}catch(t){}return!1}var hI=Object.prototype.hasOwnProperty||function(e){return e in this};function _r(e,t){return hI.call(e,t)}function Er(e){return eI.call(e)}function dI(e){if(e.name)return e.name;var t=nI.call(tI.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function r_(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function pI(e){if(!hc||!e||typeof e!="object")return!1;try{hc.call(e);try{dc.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function mI(e){if(!no||!e||typeof e!="object")return!1;try{no.call(e,no);try{ro.call(e,ro)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function gI(e){if(!Gx||!e||typeof e!="object")return!1;try{return Gx.call(e),!0}catch(t){}return!1}function yI(e){if(!dc||!e||typeof e!="object")return!1;try{dc.call(e);try{hc.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function vI(e){if(!ro||!e||typeof e!="object")return!1;try{ro.call(e,ro);try{no.call(e,no)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function wI(e){return!e||typeof e!="object"?!1:typeof HTMLElement!="undefined"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function i_(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return i_(qd.call(e,0,t.maxStringLength),t)+r}var i=Sr.call(Sr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,bI);return t_(i,"single",t)}function bI(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+rI.call(t.toString(16))}function to(e){return"Object("+e+")"}function Nd(e){return e+" { ? }"}function Jx(e,t,n,r){var i=r?zd(n,r):In.call(n,", ");return e+" ("+t+") {"+i+"}"}function xI(e){for(var t=0;t<e.length;t++)if(r_(e[t],`
`)>=0)return!1;return!0}function _I(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=In.call(Array(e.indent+1)," ");else return null;return{base:n,prev:In.call(Array(t+1),n)}}function zd(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+In.call(e,","+n)+`
`+t.prev}function fc(e,t){var n=Gd(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=_r(e,i)?t(e[i],e):""}var a=typeof Bd=="function"?Bd(e):[],s;if(fa){s={};for(var o=0;o<a.length;o++)s["$"+a[o]]=a[o]}for(var l in e)_r(e,l)&&(n&&String(Number(l))===l&&l<e.length||fa&&s["$"+l]instanceof Symbol||(Qx.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof Bd=="function")for(var c=0;c<a.length;c++)e_.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}});var Yd=I((I$,l_)=>{"use strict";w();var o_=gn(),ha=Zt(),SI=s_(),EI=Zn(),pc=o_("%WeakMap%",!0),mc=o_("%Map%",!0),kI=ha("WeakMap.prototype.get",!0),AI=ha("WeakMap.prototype.set",!0),CI=ha("WeakMap.prototype.has",!0),TI=ha("Map.prototype.get",!0),FI=ha("Map.prototype.set",!0),MI=ha("Map.prototype.has",!0),Xd=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},PI=function(e,t){var n=Xd(e,t);return n&&n.value},OI=function(e,t,n){var r=Xd(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},RI=function(e,t){return!!Xd(e,t)};l_.exports=function(){var t,n,r,i={assert:function(a){if(!i.has(a))throw new EI("Side channel does not contain "+SI(a))},get:function(a){if(pc&&a&&(typeof a=="object"||typeof a=="function")){if(t)return kI(t,a)}else if(mc){if(n)return TI(n,a)}else if(r)return PI(r,a)},has:function(a){if(pc&&a&&(typeof a=="object"||typeof a=="function")){if(t)return CI(t,a)}else if(mc){if(n)return MI(n,a)}else if(r)return RI(r,a);return!1},set:function(a,s){pc&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new pc),AI(t,a,s)):mc?(n||(n=new mc),FI(n,a,s)):(r||(r={key:{},next:null}),OI(r,a,s))}};return i}});var u_=I((j$,c_)=>{"use strict";w();var II=Ed(),io=Yd()(),Kn=Zn(),Zd={assert:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Kn("`O` is not an object");if(typeof t!="string")throw new Kn("`slot` must be a string");if(io.assert(e),!Zd.has(e,t))throw new Kn("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Kn("`O` is not an object");if(typeof t!="string")throw new Kn("`slot` must be a string");var n=io.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Kn("`O` is not an object");if(typeof t!="string")throw new Kn("`slot` must be a string");var n=io.get(e);return!!n&&II(n,"$"+t)},set:function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Kn("`O` is not an object");if(typeof t!="string")throw new Kn("`slot` must be a string");var r=io.get(e);r||(r={},io.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(Zd);c_.exports=Zd});var d_=I((B$,h_)=>{"use strict";w();var ao=u_(),LI=SyntaxError,f_=typeof StopIteration=="object"?StopIteration:null;h_.exports=function(t){if(!f_)throw new LI("this environment lacks StopIteration");ao.set(t,"[[Done]]",!1);var n={next:function(){var i=ao.get(this,"[[Iterator]]"),a=ao.get(i,"[[Done]]");try{return{done:a,value:a?void 0:i.next()}}catch(s){if(ao.set(i,"[[Done]]",!0),s!==f_)throw s;return{done:!0,value:void 0}}}};return ao.set(n,"[[Iterator]]",t),n}});var Kd=I(($$,p_)=>{w();var jI={}.toString;p_.exports=Array.isArray||function(e){return jI.call(e)=="[object Array]"}});var Jd=I((U$,m_)=>{"use strict";w();var DI=String.prototype.valueOf,BI=function(t){try{return DI.call(t),!0}catch(n){return!1}},NI=Object.prototype.toString,$I="[object String]",HI=xr()();m_.exports=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:HI?BI(t):NI.call(t)===$I}});var ep=I((z$,v_)=>{"use strict";w();var Qd=typeof Map=="function"&&Map.prototype?Map:null,UI=typeof Set=="function"&&Set.prototype?Set:null,gc;Qd||(gc=function(t){return!1});var y_=Qd?Map.prototype.has:null,g_=UI?Set.prototype.has:null;!gc&&!y_&&(gc=function(t){return!1});v_.exports=gc||function(t){if(!t||typeof t!="object")return!1;try{if(y_.call(t),g_)try{g_.call(t)}catch(n){return!0}return t instanceof Qd}catch(n){}return!1}});var np=I((W$,x_)=>{"use strict";w();var GI=typeof Map=="function"&&Map.prototype?Map:null,tp=typeof Set=="function"&&Set.prototype?Set:null,yc;tp||(yc=function(t){return!1});var w_=GI?Map.prototype.has:null,b_=tp?Set.prototype.has:null;!yc&&!b_&&(yc=function(t){return!1});x_.exports=yc||function(t){if(!t||typeof t!="object")return!1;try{if(b_.call(t),w_)try{w_.call(t)}catch(n){return!0}return t instanceof tp}catch(n){}return!1}});var R_=I((X$,bc)=>{"use strict";w();var __=Ld(),S_=d_();Jl()()||Ks()()?(vc=Symbol.iterator,bc.exports=function(t){if(t!=null&&typeof t[vc]!="undefined")return t[vc]();if(__(t))return Array.prototype[vc].call(t)}):(E_=Kd(),k_=Jd(),rp=gn(),A_=rp("%Map%",!0),C_=rp("%Set%",!0),sn=Zt(),ip=sn("Array.prototype.push"),ap=sn("String.prototype.charCodeAt"),T_=sn("String.prototype.slice"),F_=function(t,n){var r=t.length;if(n+1>=r)return n+1;var i=ap(t,n);if(i<55296||i>56319)return n+1;var a=ap(t,n+1);return a<56320||a>57343?n+1:n+2},wc=function(t){var n=0;return{next:function(){var i=n>=t.length,a;return i||(a=t[n],n+=1),{done:i,value:a}}}},sp=function(t,n){if(E_(t)||__(t))return wc(t);if(k_(t)){var r=0;return{next:function(){var a=F_(t,r),s=T_(t,r,a);return r=a,{done:a>t.length,value:s}}}}if(n&&typeof t["_es6-shim iterator_"]!="undefined")return t["_es6-shim iterator_"]()},!A_&&!C_?bc.exports=function(t){if(t!=null)return sp(t,!0)}:(M_=ep(),P_=np(),op=sn("Map.prototype.forEach",!0),lp=sn("Set.prototype.forEach",!0),(typeof process=="undefined"||!process.versions||!process.versions.node)&&(cp=sn("Map.prototype.iterator",!0),up=sn("Set.prototype.iterator",!0)),fp=sn("Map.prototype.@@iterator",!0)||sn("Map.prototype._es6-shim iterator_",!0),hp=sn("Set.prototype.@@iterator",!0)||sn("Set.prototype._es6-shim iterator_",!0),O_=function(t){if(M_(t)){if(cp)return S_(cp(t));if(fp)return fp(t);if(op){var n=[];return op(t,function(i,a){ip(n,[a,i])}),wc(n)}}if(P_(t)){if(up)return S_(up(t));if(hp)return hp(t);if(lp){var r=[];return lp(t,function(i){ip(r,i)}),wc(r)}}},bc.exports=function(t){return O_(t)||sp(t)}));var vc,E_,k_,rp,A_,C_,sn,ip,ap,T_,F_,wc,sp,M_,P_,op,lp,cp,up,fp,hp,O_});var dp=I((Z$,L_)=>{"use strict";w();var I_=function(e){return e!==e};L_.exports=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||I_(t)&&I_(n))}});var pp=I((J$,j_)=>{"use strict";w();var zI=dp();j_.exports=function(){return typeof Object.is=="function"?Object.is:zI}});var B_=I((eH,D_)=>{"use strict";w();var VI=pp(),WI=br();D_.exports=function(){var t=VI();return WI(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var U_=I((nH,H_)=>{"use strict";w();var qI=br(),XI=ai(),YI=dp(),N_=pp(),ZI=B_(),$_=XI(N_(),Object);qI($_,{getPolyfill:N_,implementation:YI,shim:ZI});H_.exports=$_});var gp=I((iH,W_)=>{"use strict";w();var KI=ai(),V_=Zt(),JI=gn(),mp=JI("%ArrayBuffer%",!0),xc=V_("ArrayBuffer.prototype.byteLength",!0),QI=V_("Object.prototype.toString"),G_=!!mp&&!xc&&new mp(0).slice,z_=!!G_&&KI(G_);W_.exports=xc||z_?function(t){if(!t||typeof t!="object")return!1;try{return xc?xc(t):z_(t,0),!0}catch(n){return!1}}:mp?function(t){return QI(t)==="[object ArrayBuffer]"}:function(t){return!1}});var X_=I((sH,q_)=>{"use strict";w();var eL=Date.prototype.getDay,tL=function(t){try{return eL.call(t),!0}catch(n){return!1}},nL=Object.prototype.toString,rL="[object Date]",iL=xr()();q_.exports=function(t){return typeof t!="object"||t===null?!1:iL?tL(t):nL.call(t)===rL}});var Q_=I((lH,J_)=>{"use strict";w();var yp=Zt(),Y_=xr()(),Z_,K_,vp,wp;Y_&&(Z_=yp("Object.prototype.hasOwnProperty"),K_=yp("RegExp.prototype.exec"),vp={},_c=function(){throw vp},wp={toString:_c,valueOf:_c},typeof Symbol.toPrimitive=="symbol"&&(wp[Symbol.toPrimitive]=_c));var _c,aL=yp("Object.prototype.toString"),sL=Object.getOwnPropertyDescriptor,oL="[object RegExp]";J_.exports=Y_?function(t){if(!t||typeof t!="object")return!1;var n=sL(t,"lastIndex"),r=n&&Z_(n,"value");if(!r)return!1;try{K_(t,wp)}catch(i){return i===vp}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:aL(t)===oL}});var nS=I((uH,tS)=>{"use strict";w();var lL=Zt(),eS=lL("SharedArrayBuffer.prototype.byteLength",!0);tS.exports=eS?function(t){if(!t||typeof t!="object")return!1;try{return eS(t),!0}catch(n){return!1}}:function(t){return!1}});var iS=I((hH,rS)=>{"use strict";w();var cL=Number.prototype.toString,uL=function(t){try{return cL.call(t),!0}catch(n){return!1}},fL=Object.prototype.toString,hL="[object Number]",dL=xr()();rS.exports=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:dL?uL(t):fL.call(t)===hL}});var oS=I((pH,sS)=>{"use strict";w();var aS=Zt(),pL=aS("Boolean.prototype.toString"),mL=aS("Object.prototype.toString"),gL=function(t){try{return pL(t),!0}catch(n){return!1}},yL="[object Boolean]",vL=xr()();sS.exports=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:vL&&Symbol.toStringTag in t?gL(t):mL(t)===yL}});var fS=I((gH,bp)=>{"use strict";w();var wL=Object.prototype.toString,bL=Jl()();bL?(lS=Symbol.prototype.toString,cS=/^Symbol\(.*\)$/,uS=function(t){return typeof t.valueOf()!="symbol"?!1:cS.test(lS.call(t))},bp.exports=function(t){if(typeof t=="symbol")return!0;if(wL.call(t)!=="[object Symbol]")return!1;try{return uS(t)}catch(n){return!1}}):bp.exports=function(t){return!1};var lS,cS,uS});var pS=I((vH,dS)=>{"use strict";w();var hS=typeof BigInt!="undefined"&&BigInt;dS.exports=function(){return typeof hS=="function"&&typeof BigInt=="function"&&typeof hS(42)=="bigint"&&typeof BigInt(42)=="bigint"}});var yS=I((bH,xp)=>{"use strict";w();var xL=pS()();xL?(mS=BigInt.prototype.valueOf,gS=function(t){try{return mS.call(t),!0}catch(n){}return!1},xp.exports=function(t){return t===null||typeof t=="undefined"||typeof t=="boolean"||typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="function"?!1:typeof t=="bigint"?!0:gS(t)}):xp.exports=function(t){return!1};var mS,gS});var wS=I((_H,vS)=>{"use strict";w();var _L=Jd(),SL=iS(),EL=oS(),kL=fS(),AL=yS();vS.exports=function(t){if(t==null||typeof t!="object"&&typeof t!="function")return null;if(_L(t))return"String";if(SL(t))return"Number";if(EL(t))return"Boolean";if(kL(t))return"Symbol";if(AL(t))return"BigInt"}});var _S=I((EH,xS)=>{"use strict";w();var Sc=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,bS=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,Ec;Sc||(Ec=function(t){return!1});var Sp=Sc?Sc.prototype.has:null,_p=bS?bS.prototype.has:null;!Ec&&!Sp&&(Ec=function(t){return!1});xS.exports=Ec||function(t){if(!t||typeof t!="object")return!1;try{if(Sp.call(t,Sp),_p)try{_p.call(t,_p)}catch(n){return!0}return t instanceof Sc}catch(n){}return!1}});var ES=I((AH,kp)=>{"use strict";w();var CL=gn(),SS=Zt(),TL=CL("%WeakSet%",!0),Ep=SS("WeakSet.prototype.has",!0);Ep?(kc=SS("WeakMap.prototype.has",!0),kp.exports=function(t){if(!t||typeof t!="object")return!1;try{if(Ep(t,Ep),kc)try{kc(t,kc)}catch(n){return!0}return t instanceof TL}catch(n){}return!1}):kp.exports=function(t){return!1};var kc});var AS=I((TH,kS)=>{"use strict";w();var FL=ep(),ML=np(),PL=_S(),OL=ES();kS.exports=function(t){if(t&&typeof t=="object"){if(FL(t))return"Map";if(ML(t))return"Set";if(PL(t))return"WeakMap";if(OL(t))return"WeakSet"}return!1}});var MS=I((MH,FS)=>{"use strict";w();var TS=Function.prototype.toString,da=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Cp,Ac;if(typeof da=="function"&&typeof Object.defineProperty=="function")try{Cp=Object.defineProperty({},"length",{get:function(){throw Ac}}),Ac={},da(function(){throw 42},null,Cp)}catch(e){e!==Ac&&(da=null)}else da=null;var RL=/^\s*class\b/,Tp=function(t){try{var n=TS.call(t);return RL.test(n)}catch(r){return!1}},Ap=function(t){try{return Tp(t)?!1:(TS.call(t),!0)}catch(n){return!1}},Cc=Object.prototype.toString,IL="[object Object]",LL="[object Function]",jL="[object GeneratorFunction]",DL="[object HTMLAllCollection]",BL="[object HTML document.all class]",NL="[object HTMLCollection]",$L=typeof Symbol=="function"&&!!Symbol.toStringTag,HL=!(0 in[,]),Fp=function(){return!1};typeof document=="object"&&(CS=document.all,Cc.call(CS)===Cc.call(document.all)&&(Fp=function(t){if((HL||!t)&&(typeof t=="undefined"||typeof t=="object"))try{var n=Cc.call(t);return(n===DL||n===BL||n===NL||n===IL)&&t("")==null}catch(r){}return!1}));var CS;FS.exports=da?function(t){if(Fp(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{da(t,null,Cp)}catch(n){if(n!==Ac)return!1}return!Tp(t)&&Ap(t)}:function(t){if(Fp(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if($L)return Ap(t);if(Tp(t))return!1;var n=Cc.call(t);return n!==LL&&n!==jL&&!/^\[object HTML/.test(n)?!1:Ap(t)}});var RS=I((OH,OS)=>{"use strict";w();var UL=MS(),GL=Object.prototype.toString,PS=Object.prototype.hasOwnProperty,zL=function(t,n,r){for(var i=0,a=t.length;i<a;i++)PS.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},VL=function(t,n,r){for(var i=0,a=t.length;i<a;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},WL=function(t,n,r){for(var i in t)PS.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},qL=function(t,n,r){if(!UL(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),GL.call(t)==="[object Array]"?zL(t,n,i):typeof t=="string"?VL(t,n,i):WL(t,n,i)};OS.exports=qL});var LS=I((IH,IS)=>{"use strict";w();IS.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var DS=I((jH,jS)=>{"use strict";w();var Mp=LS(),XL=typeof globalThis=="undefined"?global:globalThis;jS.exports=function(){for(var t=[],n=0;n<Mp.length;n++)typeof XL[Mp[n]]=="function"&&(t[t.length]=Mp[n]);return t}});var US=I((BH,HS)=>{"use strict";w();var Fc=RS(),YL=DS(),BS=ai(),Rp=Zt(),Tc=ac(),ZL=Rp("Object.prototype.toString"),$S=xr()(),NS=typeof globalThis=="undefined"?global:globalThis,Op=YL(),Ip=Rp("String.prototype.slice"),Pp=Object.getPrototypeOf,KL=Rp("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},Mc={__proto__:null};$S&&Tc&&Pp?Fc(Op,function(e){var t=new NS[e];if(Symbol.toStringTag in t){var n=Pp(t),r=Tc(n,Symbol.toStringTag);if(!r){var i=Pp(n);r=Tc(i,Symbol.toStringTag)}Mc["$"+e]=BS(r.get)}}):Fc(Op,function(e){var t=new NS[e],n=t.slice||t.set;n&&(Mc["$"+e]=BS(n))});var JL=function(t){var n=!1;return Fc(Mc,function(r,i){if(!n)try{"$"+r(t)===i&&(n=Ip(i,1))}catch(a){}}),n},QL=function(t){var n=!1;return Fc(Mc,function(r,i){if(!n)try{r(t),n=Ip(i,1)}catch(a){}}),n};HS.exports=function(t){if(!t||typeof t!="object")return!1;if(!$S){var n=Ip(ZL(t),8,-1);return KL(Op,n)>-1?n:n!=="Object"?!1:QL(t)}return Tc?JL(t):null}});var VS=I(($H,zS)=>{"use strict";w();var ej=Zt(),GS=ej("ArrayBuffer.prototype.byteLength",!0),tj=gp();zS.exports=function(t){return tj(t)?GS?GS(t):t.byteLength:NaN}});var gE=I((UH,mE)=>{"use strict";w();var hE=_x(),Ln=Zt(),WS=jx(),nj=gn(),pa=R_(),rj=Yd(),qS=U_(),XS=Ld(),YS=Kd(),ZS=gp(),KS=X_(),JS=Q_(),QS=nS(),eE=Kl(),tE=wS(),nE=AS(),rE=US(),iE=VS(),aE=Ln("SharedArrayBuffer.prototype.byteLength",!0),sE=Ln("Date.prototype.getTime"),Lp=Object.getPrototypeOf,oE=Ln("Object.prototype.toString"),Oc=nj("%Set%",!0),jp=Ln("Map.prototype.has",!0),Rc=Ln("Map.prototype.get",!0),lE=Ln("Map.prototype.size",!0),Ic=Ln("Set.prototype.add",!0),dE=Ln("Set.prototype.delete",!0),Lc=Ln("Set.prototype.has",!0),Pc=Ln("Set.prototype.size",!0);function cE(e,t,n,r){for(var i=pa(e),a;(a=i.next())&&!a.done;)if(yn(t,a.value,n,r))return dE(e,a.value),!0;return!1}function pE(e){if(typeof e=="undefined")return null;if(typeof e!="object")return typeof e=="symbol"?!1:typeof e=="string"||typeof e=="number"?+e==+e:!0}function ij(e,t,n,r,i,a){var s=pE(n);if(s!=null)return s;var o=Rc(t,s),l=hE({},i,{strict:!1});return typeof o=="undefined"&&!jp(t,s)||!yn(r,o,l,a)?!1:!jp(e,s)&&yn(r,o,l,a)}function aj(e,t,n){var r=pE(n);return r!=null?r:Lc(t,r)&&!Lc(e,r)}function uE(e,t,n,r,i,a){for(var s=pa(e),o,l;(o=s.next())&&!o.done;)if(l=o.value,yn(n,l,i,a)&&yn(r,Rc(t,l),i,a))return dE(e,l),!0;return!1}function yn(e,t,n,r){var i=n||{};if(i.strict?qS(e,t):e===t)return!0;var a=tE(e),s=tE(t);if(a!==s)return!1;if(!e||!t||typeof e!="object"&&typeof t!="object")return i.strict?qS(e,t):e==t;var o=r.has(e),l=r.has(t),c;if(o&&l){if(r.get(e)===r.get(t))return!0}else c={};return o||r.set(e,c),l||r.set(t,c),lj(e,t,i,r)}function fE(e){return!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function sj(e,t,n,r){if(Pc(e)!==Pc(t))return!1;for(var i=pa(e),a=pa(t),s,o,l;(s=i.next())&&!s.done;)if(s.value&&typeof s.value=="object")l||(l=new Oc),Ic(l,s.value);else if(!Lc(t,s.value)){if(n.strict||!aj(e,t,s.value))return!1;l||(l=new Oc),Ic(l,s.value)}if(l){for(;(o=a.next())&&!o.done;)if(o.value&&typeof o.value=="object"){if(!cE(l,o.value,n.strict,r))return!1}else if(!n.strict&&!Lc(e,o.value)&&!cE(l,o.value,n.strict,r))return!1;return Pc(l)===0}return!0}function oj(e,t,n,r){if(lE(e)!==lE(t))return!1;for(var i=pa(e),a=pa(t),s,o,l,c,u,f;(s=i.next())&&!s.done;)if(c=s.value[0],u=s.value[1],c&&typeof c=="object")l||(l=new Oc),Ic(l,c);else if(f=Rc(t,c),typeof f=="undefined"&&!jp(t,c)||!yn(u,f,n,r)){if(n.strict||!ij(e,t,c,u,n,r))return!1;l||(l=new Oc),Ic(l,c)}if(l){for(;(o=a.next())&&!o.done;)if(c=o.value[0],f=o.value[1],c&&typeof c=="object"){if(!uE(l,e,c,f,n,r))return!1}else if(!n.strict&&(!e.has(c)||!yn(Rc(e,c),f,n,r))&&!uE(l,e,c,f,hE({},n,{strict:!1}),r))return!1;return Pc(l)===0}return!0}function lj(e,t,n,r){var i,a;if(typeof e!=typeof t||e==null||t==null||oE(e)!==oE(t)||XS(e)!==XS(t))return!1;var s=YS(e),o=YS(t);if(s!==o)return!1;var l=e instanceof Error,c=t instanceof Error;if(l!==c||(l||c)&&(e.name!==t.name||e.message!==t.message))return!1;var u=JS(e),f=JS(t);if(u!==f||(u||f)&&(e.source!==t.source||WS(e)!==WS(t)))return!1;var h=KS(e),d=KS(t);if(h!==d||(h||d)&&sE(e)!==sE(t)||n.strict&&Lp&&Lp(e)!==Lp(t))return!1;var p=rE(e),m=rE(t);if(p!==m)return!1;if(p||m){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var g=fE(e),y=fE(t);if(g!==y)return!1;if(g||y){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var x=ZS(e),_=ZS(t);if(x!==_)return!1;if(x||_)return iE(e)!==iE(t)?!1:typeof Uint8Array=="function"&&yn(new Uint8Array(e),new Uint8Array(t),n,r);var S=QS(e),b=QS(t);if(S!==b)return!1;if(S||b)return aE(e)!==aE(t)?!1:typeof Uint8Array=="function"&&yn(new Uint8Array(e),new Uint8Array(t),n,r);if(typeof e!=typeof t)return!1;var A=eE(e),v=eE(t);if(A.length!==v.length)return!1;for(A.sort(),v.sort(),i=A.length-1;i>=0;i--)if(A[i]!=v[i])return!1;for(i=A.length-1;i>=0;i--)if(a=A[i],!yn(e[a],t[a],n,r))return!1;var k=nE(e),E=nE(t);return k!==E?!1:k==="Set"||E==="Set"?sj(e,t,n,r):k==="Map"?oj(e,t,n,r):!0}mE.exports=function(t,n,r){return yn(t,n,r,rj())}});var Gp=I((exports,module)=>{w();(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(i){return t.create().update(i)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if(typeof e=="string")return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(e==null)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(i){return new HmacSha256(i,e)},t.update=function(i,a){return t.create(i).update(a)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);t=!0}for(var r,i=0,a,s=e.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(a=this.start;i<s&&a<64;++i)o[a>>2]|=e[i]<<SHIFT[a++&3];else for(a=this.start;i<s&&a<64;++i)r=e.charCodeAt(i),r<128?o[a>>2]|=r<<SHIFT[a++&3]:r<2048?(o[a>>2]|=(192|r>>6)<<SHIFT[a++&3],o[a>>2]|=(128|r&63)<<SHIFT[a++&3]):r<55296||r>=57344?(o[a>>2]|=(224|r>>12)<<SHIFT[a++&3],o[a>>2]|=(128|r>>6&63)<<SHIFT[a++&3],o[a>>2]|=(128|r&63)<<SHIFT[a++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++i)&1023),o[a>>2]|=(240|r>>18)<<SHIFT[a++&3],o[a>>2]|=(128|r>>12&63)<<SHIFT[a++&3],o[a>>2]|=(128|r>>6&63)<<SHIFT[a++&3],o[a>>2]|=(128|r&63)<<SHIFT[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,u,f,h,d,p,m,g,y,x,_;for(c=16;c<64;++c)d=l[c-15],u=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,d=l[c-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,l[c]=l[c-16]+u+l[c-7]+f<<0;for(_=t&n,c=0;c<64;c+=4)this.first?(this.is224?(g=300032,d=l[0]-1413257819,o=d-150054599<<0,r=d+24177077<<0):(g=704751109,d=l[0]-210244248,o=d-1521486534<<0,r=d+143694565<<0),this.first=!1):(u=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),g=e&t,h=g^e&n^_,m=i&a^~i&s,d=o+f+m+K[c]+l[c],p=u+h,o=r+d<<0,r=d+p<<0),u=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),y=r&e,h=y^r&t^g,m=o&i^~o&a,d=s+f+m+K[c+1]+l[c+1],p=u+h,s=n+d<<0,n=d+p<<0,u=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),x=n&r,h=x^n&e^y,m=s&o^~s&i,d=a+f+m+K[c+2]+l[c+2],p=u+h,a=t+d<<0,t=d+p<<0,u=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),_=t&n,h=_^t&r^x,m=a&s^~a&o,d=i+f+m+K[c+3]+l[c+3],p=u+h,i=e+d<<0,e=d+p<<0;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15];return this.is224||(l+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,a>>24&255,a>>16&255,a>>8&255,a&255,s>>24&255,s>>16&255,s>>8&255,s&255];return this.is224||l.push(o>>24&255,o>>16&255,o>>8&255,o&255),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};function HmacSha256(e,t,n){var r,i=typeof e;if(i==="string"){var a=[],s=e.length,o=0,l;for(r=0;r<s;++r)l=e.charCodeAt(r),l<128?a[o++]=l:l<2048?(a[o++]=192|l>>6,a[o++]=128|l&63):l<55296||l>=57344?(a[o++]=224|l>>12,a[o++]=128|l>>6&63,a[o++]=128|l&63):(l=65536+((l&1023)<<10|e.charCodeAt(++r)&1023),a[o++]=240|l>>18,a[o++]=128|l>>12&63,a[o++]=128|l>>6&63,a[o++]=128|l&63);e=a}else if(i==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],u=[];for(r=0;r<64;++r){var f=e[r]||0;c[r]=92^f,u[r]=54^f}Sha256.call(this,t,n),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var jk=I(vm=>{w();(function(e){var t=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,a=/\\/g,s=/\u2028/,o=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(k,E){var T=k.length,M=0,L=1,N=2,j=M,Y=null,le=null,fe="",ae=[],Re=!1,he=0,$=0,V="{{",D="}}";function se(){fe.length>0&&(ae.push({tag:"_t",text:new String(fe)}),fe="")}function Ae(){for(var ut=!0,ee=$;ee<ae.length;ee++)if(ut=e.tags[ae[ee].tag]<e.tags._v||ae[ee].tag=="_t"&&ae[ee].text.match(t)===null,!ut)return!1;return ut}function wt(ut,ee){if(se(),ut&&Ae())for(var De=$,Ce;De<ae.length;De++)ae[De].text&&((Ce=ae[De+1])&&Ce.tag==">"&&(Ce.indent=ae[De].text.toString()),ae.splice(De,1));else ee||ae.push({tag:`
`});Re=!1,$=ae.length}function _e(ut,ee){var De="="+D,Ce=ut.indexOf(De,ee),G=c(ut.substring(ut.indexOf("=",ee)+1,Ce)).split(" ");return V=G[0],D=G[G.length-1],Ce+De.length-1}for(E&&(E=E.split(" "),V=E[0],D=E[1]),he=0;he<T;he++)j==M?u(V,k,he)?(--he,se(),j=L):k.charAt(he)==`
`?wt(Re):fe+=k.charAt(he):j==L?(he+=V.length-1,le=e.tags[k.charAt(he+1)],Y=le?k.charAt(he+1):"_v",Y=="="?(he=_e(k,he),j=M):(le&&he++,j=N),Re=he):u(D,k,he)?(ae.push({tag:Y,n:c(fe),otag:V,ctag:D,i:Y=="/"?Re-V.length:he+D.length}),fe="",he+=D.length-1,j=M,Y=="{"&&(D=="}}"?he++:l(ae[ae.length-1]))):fe+=k.charAt(he);return wt(Re,!0),ae};function l(v){v.n.substr(v.n.length-1)==="}"&&(v.n=v.n.substring(0,v.n.length-1))}function c(v){return v.trim?v.trim():v.replace(/^\s*|\s*$/g,"")}function u(v,k,E){if(k.charAt(E)!=v.charAt(0))return!1;for(var T=1,M=v.length;T<M;T++)if(k.charAt(E+T)!=v.charAt(T))return!1;return!0}var f={_t:!0,"\n":!0,$:!0,"/":!0};function h(v,k,E,T){var M=[],L=null,N=null,j=null;for(N=E[E.length-1];v.length>0;){if(j=v.shift(),N&&N.tag=="<"&&!(j.tag in f))throw new Error("Illegal content in < super tag.");if(e.tags[j.tag]<=e.tags.$||d(j,T))E.push(j),j.nodes=h(v,j.tag,E,T);else if(j.tag=="/"){if(E.length===0)throw new Error("Closing tag without opener: /"+j.n);if(L=E.pop(),j.n!=L.n&&!p(j.n,L.n,T))throw new Error("Nesting error: "+L.n+" vs. "+j.n);return L.end=j.i,M}else j.tag==`
`&&(j.last=v.length==0||v[0].tag==`
`);M.push(j)}if(E.length>0)throw new Error("missing closing tag: "+E.pop().n);return M}function d(v,k){for(var E=0,T=k.length;E<T;E++)if(k[E].o==v.n)return v.tag="#",!0}function p(v,k,E){for(var T=0,M=E.length;T<M;T++)if(E[T].c==v&&E[T].o==k)return!0}function m(v){var k=[];for(var E in v)k.push('"'+x(E)+'": function(c,p,t,i) {'+v[E]+"}");return"{ "+k.join(",")+" }"}function g(v){var k=[];for(var E in v.partials)k.push('"'+x(E)+'":{name:"'+x(v.partials[E].name)+'", '+g(v.partials[E])+"}");return"partials: {"+k.join(",")+"}, subs: "+m(v.subs)}e.stringify=function(v,k,E){return"{code: function (c,p,i) { "+e.wrapMain(v.code)+" },"+g(v)+"}"};var y=0;e.generate=function(v,k,E){y=0;var T={code:"",subs:{},partials:{}};return e.walk(v,T),E.asString?this.stringify(T,k,E):this.makeTemplate(T,k,E)},e.wrapMain=function(v){return'var t=this;t.b(i=i||"");'+v+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(v,k,E){var T=this.makePartials(v);return T.code=new Function("c","p","i",this.wrapMain(v.code)),new this.template(T,k,this,E)},e.makePartials=function(v){var k,E={subs:{},partials:v.partials,name:v.name};for(k in E.partials)E.partials[k]=this.makePartials(E.partials[k]);for(k in v.subs)E.subs[k]=new Function("c","p","t","i",v.subs[k]);return E};function x(v){return v.replace(a,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r").replace(s,"\\u2028").replace(o,"\\u2029")}function _(v){return~v.indexOf(".")?"d":"f"}function S(v,k){var E="<"+(k.prefix||""),T=E+v.n+y++;return k.partials[T]={name:v.n,partials:{}},k.code+='t.b(t.rp("'+x(T)+'",c,p,"'+(v.indent||"")+'"));',T}e.codegen={"#":function(v,k){k.code+="if(t.s(t."+_(v.n)+'("'+x(v.n)+'",c,p,1),c,p,0,'+v.i+","+v.end+',"'+v.otag+" "+v.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(v.nodes,k),k.code+="});c.pop();}"},"^":function(v,k){k.code+="if(!t.s(t."+_(v.n)+'("'+x(v.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(v.nodes,k),k.code+="};"},">":S,"<":function(v,k){var E={partials:{},code:"",subs:{},inPartial:!0};e.walk(v.nodes,E);var T=k.partials[S(v,k)];T.subs=E.subs,T.partials=E.partials},$:function(v,k){var E={subs:{},code:"",partials:k.partials,prefix:v.n};e.walk(v.nodes,E),k.subs[v.n]=E.code,k.inPartial||(k.code+='t.sub("'+x(v.n)+'",c,p,i);')},"\n":function(v,k){k.code+=A('"\\n"'+(v.last?"":" + i"))},_v:function(v,k){k.code+="t.b(t.v(t."+_(v.n)+'("'+x(v.n)+'",c,p,0)));'},_t:function(v,k){k.code+=A('"'+x(v.text)+'"')},"{":b,"&":b};function b(v,k){k.code+="t.b(t.t(t."+_(v.n)+'("'+x(v.n)+'",c,p,0)));'}function A(v){return"t.b("+v+");"}e.walk=function(v,k){for(var E,T=0,M=v.length;T<M;T++)E=e.codegen[v[T].tag],E&&E(v[T],k);return k},e.parse=function(v,k,E){return E=E||{},h(v,"",[],E.sectionTags||[])},e.cache={},e.cacheKey=function(v,k){return[v,!!k.asString,!!k.disableLambda,k.delimiters,!!k.modelGet].join("||")},e.compile=function(v,k){k=k||{};var E=e.cacheKey(v,k),T=this.cache[E];if(T){var M=T.partials;for(var L in M)delete M[L].instance;return T}return T=this.generate(this.parse(this.scan(v,k.delimiters),v,k),v,k),this.cache[E]=T}})(typeof vm!="undefined"?vm:Hogan)});var Dk=I(wm=>{w();var xD={};(function(e){e.Template=function(h,d,p,m){h=h||{},this.r=h.code||this.r,this.c=p,this.options=m||{},this.text=d||"",this.partials=h.partials||{},this.subs=h.subs||{},this.buf=""},e.Template.prototype={r:function(h,d,p){return""},v:u,t:c,render:function(d,p,m){return this.ri([d],p||{},m)},ri:function(h,d,p){return this.r(h,d,p)},ep:function(h,d){var p=this.partials[h],m=d[p.name];if(p.instance&&p.base==m)return p.instance;if(typeof m=="string"){if(!this.c)throw new Error("No compiler available.");m=this.c.compile(m,this.options)}if(!m)return null;if(this.partials[h].base=m,p.subs){d.stackText||(d.stackText={});for(key in p.subs)d.stackText[key]||(d.stackText[key]=this.activeSub!==void 0&&d.stackText[this.activeSub]?d.stackText[this.activeSub]:this.text);m=n(m,p.subs,p.partials,this.stackSubs,this.stackPartials,d.stackText)}return this.partials[h].instance=m,m},rp:function(h,d,p,m){var g=this.ep(h,p);return g?g.ri(d,p,m):""},rs:function(h,d,p){var m=h[h.length-1];if(!f(m)){p(h,d,this);return}for(var g=0;g<m.length;g++)h.push(m[g]),p(h,d,this),h.pop()},s:function(h,d,p,m,g,y,x){var _;return f(h)&&h.length===0?!1:(typeof h=="function"&&(h=this.ms(h,d,p,m,g,y,x)),_=!!h,!m&&_&&d&&d.push(typeof h=="object"?h:d[d.length-1]),_)},d:function(h,d,p,m){var g,y=h.split("."),x=this.f(y[0],d,p,m),_=this.options.modelGet,S=null;if(h==="."&&f(d[d.length-2]))x=d[d.length-1];else for(var b=1;b<y.length;b++)g=t(y[b],x,_),g!==void 0?(S=x,x=g):x="";return m&&!x?!1:(!m&&typeof x=="function"&&(d.push(S),x=this.mv(x,d,p),d.pop()),x)},f:function(h,d,p,m){for(var g=!1,y=null,x=!1,_=this.options.modelGet,S=d.length-1;S>=0;S--)if(y=d[S],g=t(h,y,_),g!==void 0){x=!0;break}return x?(!m&&typeof g=="function"&&(g=this.mv(g,d,p)),g):m?!1:""},ls:function(h,d,p,m,g){var y=this.options.delimiters;return this.options.delimiters=g,this.b(this.ct(c(h.call(d,m)),d,p)),this.options.delimiters=y,!1},ct:function(h,d,p){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(h,this.options).render(d,p)},b:function(h){this.buf+=h},fl:function(){var h=this.buf;return this.buf="",h},ms:function(h,d,p,m,g,y,x){var _,S=d[d.length-1],b=h.call(S);return typeof b=="function"?m?!0:(_=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(b,S,p,_.substring(g,y),x)):b},mv:function(h,d,p){var m=d[d.length-1],g=h.call(m);return typeof g=="function"?this.ct(c(g.call(m)),m,p):g},sub:function(h,d,p,m){var g=this.subs[h];g&&(this.activeSub=h,g(d,p,this,m),this.activeSub=!1)}};function t(h,d,p){var m;return d&&typeof d=="object"&&(d[h]!==void 0?m=d[h]:p&&d.get&&typeof d.get=="function"&&(m=d.get(h))),m}function n(h,d,p,m,g,y){function x(){}x.prototype=h;function _(){}_.prototype=h.subs;var S,b=new x;b.subs=new _,b.subsText={},b.buf="",m=m||{},b.stackSubs=m,b.subsText=y;for(S in d)m[S]||(m[S]=d[S]);for(S in m)b.subs[S]=m[S];g=g||{},b.stackPartials=g;for(S in p)g[S]||(g[S]=p[S]);for(S in g)b.partials[S]=g[S];return b}var r=/&/g,i=/</g,a=/>/g,s=/\'/g,o=/\"/g,l=/[&<>\"\']/;function c(h){return String(h==null?"":h)}function u(h){return h=c(h),l.test(h)?h.replace(r,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(s,"&#39;").replace(o,"&quot;"):h}var f=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}})(typeof wm!="undefined"?wm:xD)});var bm=I((zz,Bk)=>{w();var mu=jk();mu.Template=Dk().Template;mu.template=mu.Template;Bk.exports=mu});var xA=I((Co,Lm)=>{w();(function(t,n){typeof Co=="object"&&typeof Lm=="object"?Lm.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Co=="object"?Co.feather=n():t.feather=n()})(typeof self!="undefined"?self:Co,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:a})},n.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=0)}({"./dist/icons.json":function(e){e.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(e,t,n){var r,i;(function(){"use strict";var a=function(){function s(){}s.prototype=Object.create(null);function o(m,g){for(var y=g.length,x=0;x<y;++x)d(m,g[x])}var l={}.hasOwnProperty;function c(m,g){m[g]=!0}function u(m,g){for(var y in g)l.call(g,y)&&(m[y]=!!g[y])}var f=/\s+/;function h(m,g){for(var y=g.split(f),x=y.length,_=0;_<x;++_)m[y[_]]=!0}function d(m,g){if(g){var y=typeof g;y==="string"?h(m,g):Array.isArray(g)?o(m,g):y==="object"?u(m,g):y==="number"&&c(m,g)}}function p(){for(var m=arguments.length,g=Array(m),y=0;y<m;y++)g[y]=arguments[y];var x=new s;o(x,g);var _=[];for(var S in x)x[S]&&_.push(S);return _.join(" ")}return p}();typeof e!="undefined"&&e.exports?e.exports=a:(r=[],i=function(){return a}.apply(t,r),i!==void 0&&(e.exports=i))})()},"./node_modules/core-js/es/array/from.js":function(e,t,n){n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js");var r=n("./node_modules/core-js/internals/path.js");e.exports=r.Array.from},"./node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"./node_modules/core-js/internals/an-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js");e.exports=function(i){if(!r(i))throw TypeError(String(i)+" is not an object");return i}},"./node_modules/core-js/internals/array-from.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/bind-context.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),s=n("./node_modules/core-js/internals/is-array-iterator-method.js"),o=n("./node_modules/core-js/internals/to-length.js"),l=n("./node_modules/core-js/internals/create-property.js"),c=n("./node_modules/core-js/internals/get-iterator-method.js");e.exports=function(f){var h=i(f),d=typeof this=="function"?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=m!==void 0,y=0,x=c(h),_,S,b,A;if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),x!=null&&!(d==Array&&s(x)))for(A=x.call(h),S=new d;!(b=A.next()).done;y++)l(S,y,g?a(A,m,[b.value,y],!0):b.value);else for(_=o(h.length),S=new d(_);_>y;y++)l(S,y,g?m(h[y],y):h[y]);return S.length=y,S}},"./node_modules/core-js/internals/array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/to-length.js"),a=n("./node_modules/core-js/internals/to-absolute-index.js");e.exports=function(s){return function(o,l,c){var u=r(o),f=i(u.length),h=a(c,f),d;if(s&&l!=l){for(;f>h;)if(d=u[h++],d!=d)return!0}else for(;f>h;h++)if((s||h in u)&&u[h]===l)return s||h||0;return!s&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(e,t,n){var r=n("./node_modules/core-js/internals/a-function.js");e.exports=function(i,a,s){if(r(i),a===void 0)return i;switch(s){case 0:return function(){return i.call(a)};case 1:return function(o){return i.call(a,o)};case 2:return function(o,l){return i.call(a,o,l)};case 3:return function(o,l,c){return i.call(a,o,l,c)}}return function(){return i.apply(a,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js");e.exports=function(i,a,s,o){try{return o?a(r(s)[0],s[1]):a(s)}catch(c){var l=i.return;throw l!==void 0&&r(l.call(i)),c}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=r("iterator"),a=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(l){}e.exports=function(l,c){if(!c&&!a)return!1;var u=!1;try{var f={};f[i]=function(){return{next:function(){return{done:u=!0}}}},l(f)}catch(h){}return u}},"./node_modules/core-js/internals/classof-raw.js":function(e,t){var n={}.toString;e.exports=function(r){return n.call(r).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js"),a=i("toStringTag"),s=r(function(){return arguments}())=="Arguments",o=function(l,c){try{return l[c]}catch(u){}};e.exports=function(l){var c,u,f;return l===void 0?"Undefined":l===null?"Null":typeof(u=o(c=Object(l),a))=="string"?u:s?r(c):(f=r(c))=="Object"&&typeof c.callee=="function"?"Arguments":f}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/own-keys.js"),a=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),s=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(o,l){for(var c=i(l),u=s.f,f=a.f,h=0;h<c.length;h++){var d=c[h];r(o,d)||u(o,d,f(l,d))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,i=n("./node_modules/core-js/internals/object-create.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/set-to-string-tag.js"),o=n("./node_modules/core-js/internals/iterators.js"),l=function(){return this};e.exports=function(c,u,f){var h=u+" Iterator";return c.prototype=i(r,{next:a(1,f)}),s(c,h,!1,!0),o[h]=l,c}},"./node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(n,r){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:r}}},"./node_modules/core-js/internals/create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-primitive.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(s,o,l){var c=r(o);c in s?i.f(s,c,a(0,l)):s[c]=l}},"./node_modules/core-js/internals/define-iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/create-iterator-constructor.js"),a=n("./node_modules/core-js/internals/object-get-prototype-of.js"),s=n("./node_modules/core-js/internals/object-set-prototype-of.js"),o=n("./node_modules/core-js/internals/set-to-string-tag.js"),l=n("./node_modules/core-js/internals/hide.js"),c=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/well-known-symbol.js"),f=n("./node_modules/core-js/internals/is-pure.js"),h=n("./node_modules/core-js/internals/iterators.js"),d=n("./node_modules/core-js/internals/iterators-core.js"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=u("iterator"),y="keys",x="values",_="entries",S=function(){return this};e.exports=function(b,A,v,k,E,T,M){i(v,A,k);var L=function(V){if(V===E&&fe)return fe;if(!m&&V in Y)return Y[V];switch(V){case y:return function(){return new v(this,V)};case x:return function(){return new v(this,V)};case _:return function(){return new v(this,V)}}return function(){return new v(this)}},N=A+" Iterator",j=!1,Y=b.prototype,le=Y[g]||Y["@@iterator"]||E&&Y[E],fe=!m&&le||L(E),ae=A=="Array"&&Y.entries||le,Re,he,$;if(ae&&(Re=a(ae.call(new b)),p!==Object.prototype&&Re.next&&(!f&&a(Re)!==p&&(s?s(Re,p):typeof Re[g]!="function"&&l(Re,g,S)),o(Re,N,!0,!0),f&&(h[N]=S))),E==x&&le&&le.name!==x&&(j=!0,fe=function(){return le.call(this)}),(!f||M)&&Y[g]!==fe&&l(Y,g,fe),h[A]=fe,E)if(he={values:L(x),keys:T?fe:L(y),entries:L(_)},M)for($ in he)(m||j||!($ in Y))&&c(Y,$,he[$]);else r({target:A,proto:!0,forced:m||j},he);return he}},"./node_modules/core-js/internals/descriptors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/is-object.js"),a=r.document,s=i(a)&&i(a.createElement);e.exports=function(o){return s?a.createElement(o):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=n("./node_modules/core-js/internals/hide.js"),s=n("./node_modules/core-js/internals/redefine.js"),o=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),c=n("./node_modules/core-js/internals/is-forced.js");e.exports=function(u,f){var h=u.target,d=u.global,p=u.stat,m,g,y,x,_,S;if(d?g=r:p?g=r[h]||o(h,{}):g=(r[h]||{}).prototype,g)for(y in f){if(_=f[y],u.noTargetGet?(S=i(g,y),x=S&&S.value):x=g[y],m=c(d?y:h+(p?".":"#")+y,u.forced),!m&&x!==void 0){if(typeof _==typeof x)continue;l(_,x)}(u.sham||x&&x.sham)&&a(_,"sham",!0),s(g,y,_,u)}}},"./node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(n){try{return!!n()}catch(r){return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js");e.exports=r("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof.js"),i=n("./node_modules/core-js/internals/iterators.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js"),s=a("iterator");e.exports=function(o){if(o!=null)return o[s]||o["@@iterator"]||i[r(o)]}},"./node_modules/core-js/internals/global.js":function(e,t,n){(function(r){var i="object",a=function(s){return s&&s.Math==Math&&s};e.exports=a(typeof globalThis==i&&globalThis)||a(typeof window==i&&window)||a(typeof self==i&&self)||a(typeof r==i&&r)||Function("return this")()}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(r,i){return n.call(r,i)}},"./node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"./node_modules/core-js/internals/hide.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=r?function(s,o,l){return i.f(s,o,a(1,l))}:function(s,o,l){return s[o]=l,s}},"./node_modules/core-js/internals/html.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=r.document;e.exports=i&&i.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/document-create-element.js");e.exports=!r&&!i(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),a="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(s){return i(s)=="String"?a.call(s,""):Object(s)}:Object},"./node_modules/core-js/internals/internal-state.js":function(e,t,n){var r=n("./node_modules/core-js/internals/native-weak-map.js"),i=n("./node_modules/core-js/internals/global.js"),a=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/hide.js"),o=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/shared-key.js"),c=n("./node_modules/core-js/internals/hidden-keys.js"),u=i.WeakMap,f,h,d,p=function(b){return d(b)?h(b):f(b,{})},m=function(b){return function(A){var v;if(!a(A)||(v=h(A)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return v}};if(r){var g=new u,y=g.get,x=g.has,_=g.set;f=function(b,A){return _.call(g,b,A),A},h=function(b){return y.call(g,b)||{}},d=function(b){return x.call(g,b)}}else{var S=l("state");c[S]=!0,f=function(b,A){return s(b,S,A),A},h=function(b){return o(b,S)?b[S]:{}},d=function(b){return o(b,S)}}e.exports={set:f,get:h,has:d,enforce:p,getterFor:m}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=n("./node_modules/core-js/internals/iterators.js"),a=r("iterator"),s=Array.prototype;e.exports=function(o){return o!==void 0&&(i.Array===o||s[a]===o)}},"./node_modules/core-js/internals/is-forced.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=/#|\.prototype\./,a=function(u,f){var h=o[s(u)];return h==c?!0:h==l?!1:typeof f=="function"?r(f):!!f},s=a.normalize=function(u){return String(u).replace(i,".").toLowerCase()},o=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"./node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},"./node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/object-get-prototype-of.js"),i=n("./node_modules/core-js/internals/hide.js"),a=n("./node_modules/core-js/internals/has.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js"),o=n("./node_modules/core-js/internals/is-pure.js"),l=s("iterator"),c=!1,u=function(){return this},f,h,d;[].keys&&(d=[].keys(),"next"in d?(h=r(r(d)),h!==Object.prototype&&(f=h)):c=!0),f==null&&(f={}),!o&&!a(f,l)&&i(f,l,u),e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:c}},"./node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-to-string.js"),a=r.WeakMap;e.exports=typeof a=="function"&&/native code/.test(i.call(a))},"./node_modules/core-js/internals/object-create.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/object-define-properties.js"),a=n("./node_modules/core-js/internals/enum-bug-keys.js"),s=n("./node_modules/core-js/internals/hidden-keys.js"),o=n("./node_modules/core-js/internals/html.js"),l=n("./node_modules/core-js/internals/document-create-element.js"),c=n("./node_modules/core-js/internals/shared-key.js"),u=c("IE_PROTO"),f="prototype",h=function(){},d=function(){var p=l("iframe"),m=a.length,g="<",y="script",x=">",_="java"+y+":",S;for(p.style.display="none",o.appendChild(p),p.src=String(_),S=p.contentWindow.document,S.open(),S.write(g+y+x+"document.F=Object"+g+"/"+y+x),S.close(),d=S.F;m--;)delete d[f][a[m]];return d()};e.exports=Object.create||function(m,g){var y;return m!==null?(h[f]=r(m),y=new h,h[f]=null,y[u]=m):y=d(),g===void 0?y:i(y,g)},s[u]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),a=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/object-keys.js");e.exports=r?Object.defineProperties:function(l,c){a(l);for(var u=s(c),f=u.length,h=0,d;f>h;)i.f(l,d=u[h++],c[d]);return l}},"./node_modules/core-js/internals/object-define-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/ie8-dom-define.js"),a=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/to-primitive.js"),o=Object.defineProperty;t.f=r?o:function(c,u,f){if(a(c),u=s(u,!0),a(f),i)try{return o(c,u,f)}catch(h){}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(c[u]=f.value),c}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/to-primitive.js"),l=n("./node_modules/core-js/internals/has.js"),c=n("./node_modules/core-js/internals/ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(h,d){if(h=s(h),d=o(d,!0),c)try{return u(h,d)}catch(p){}if(l(h,d))return a(!i.f.call(h,d),h[d])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(o){return r(o,a)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/shared-key.js"),s=n("./node_modules/core-js/internals/correct-prototype-getter.js"),o=a("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(c){return c=i(c),r(c,o)?c[o]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?l:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),a=n("./node_modules/core-js/internals/array-includes.js"),s=n("./node_modules/core-js/internals/hidden-keys.js"),o=a(!1);e.exports=function(l,c){var u=i(l),f=0,h=[],d;for(d in u)!r(s,d)&&r(u,d)&&h.push(d);for(;c.length>f;)r(u,d=c[f++])&&(~o(h,d)||h.push(d));return h}},"./node_modules/core-js/internals/object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(s){return r(s,i)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(o){var l=i(this,o);return!!l&&l.enumerable}:r},"./node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,a={},s;try{s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,s.call(a,[]),i=a instanceof Array}catch(o){}return function(l,c){return r(l,c),i?s.call(l,c):l.__proto__=c,l}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/object-get-own-property-names.js"),a=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),s=n("./node_modules/core-js/internals/an-object.js"),o=r.Reflect;e.exports=o&&o.ownKeys||function(c){var u=i.f(s(c)),f=a.f;return f?u.concat(f(c)):u}},"./node_modules/core-js/internals/path.js":function(e,t,n){e.exports=n("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/shared.js"),a=n("./node_modules/core-js/internals/hide.js"),s=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/function-to-string.js"),c=n("./node_modules/core-js/internals/internal-state.js"),u=c.get,f=c.enforce,h=String(l).split("toString");i("inspectSource",function(d){return l.call(d)}),(e.exports=function(d,p,m,g){var y=g?!!g.unsafe:!1,x=g?!!g.enumerable:!1,_=g?!!g.noTargetGet:!1;if(typeof m=="function"&&(typeof p=="string"&&!s(m,"name")&&a(m,"name",p),f(m).source=h.join(typeof p=="string"?p:"")),d===r){x?d[p]=m:o(p,m);return}else y?!_&&d[p]&&(x=!0):delete d[p];x?d[p]=m:a(d,p,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&u(this).source||l.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"./node_modules/core-js/internals/set-global.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/hide.js");e.exports=function(a,s){try{i(r,a,s)}catch(o){r[a]=s}return s}},"./node_modules/core-js/internals/set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-define-property.js").f,i=n("./node_modules/core-js/internals/has.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js"),s=a("toStringTag");e.exports=function(o,l,c){o&&!i(o=c?o:o.prototype,s)&&r(o,s,{configurable:!0,value:l})}},"./node_modules/core-js/internals/shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js"),i=n("./node_modules/core-js/internals/uid.js"),a=r("keys");e.exports=function(s){return a[s]||(a[s]=i(s))}},"./node_modules/core-js/internals/shared.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/set-global.js"),a=n("./node_modules/core-js/internals/is-pure.js"),s="__core-js_shared__",o=r[s]||i(s,{});(e.exports=function(l,c){return o[l]||(o[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.1.3",mode:a?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(a,s,o){var l=String(i(a)),c=r(s),u=l.length,f,h;return c<0||c>=u?o?"":void 0:(f=l.charCodeAt(c),f<55296||f>56319||c+1===u||(h=l.charCodeAt(c+1))<56320||h>57343?o?l.charAt(c):f:o?l.slice(c,c+2):(f-55296<<10)+(h-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=Math.max,a=Math.min;e.exports=function(s,o){var l=r(s);return l<0?i(l+o,0):a(l,o)}},"./node_modules/core-js/internals/to-indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/indexed-object.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(a){return r(i(a))}},"./node_modules/core-js/internals/to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(i){return isNaN(i=+i)?0:(i>0?r:n)(i)}},"./node_modules/core-js/internals/to-length.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=Math.min;e.exports=function(a){return a>0?i(r(a),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(i){return Object(r(i))}},"./node_modules/core-js/internals/to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js");e.exports=function(i,a){if(!r(i))return i;var s,o;if(a&&typeof(s=i.toString)=="function"&&!r(o=s.call(i))||typeof(s=i.valueOf)=="function"&&!r(o=s.call(i))||!a&&typeof(s=i.toString)=="function"&&!r(o=s.call(i)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(i){return"Symbol(".concat(i===void 0?"":i,")_",(++n+r).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/an-object.js");e.exports=function(a,s){if(i(a),!r(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/shared.js"),a=n("./node_modules/core-js/internals/uid.js"),s=n("./node_modules/core-js/internals/native-symbol.js"),o=r.Symbol,l=i("wks");e.exports=function(c){return l[c]||(l[c]=s&&o[c]||(s?o:a)("Symbol."+c))}},"./node_modules/core-js/modules/es.array.from.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/array-from.js"),a=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),s=!a(function(o){Array.from(o)});r({target:"Array",stat:!0,forced:s},{from:i})},"./node_modules/core-js/modules/es.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/string-at.js"),i=n("./node_modules/core-js/internals/internal-state.js"),a=n("./node_modules/core-js/internals/define-iterator.js"),s="String Iterator",o=i.set,l=i.getterFor(s);a(String,"String",function(c){o(this,{type:s,string:String(c),index:0})},function(){var u=l(this),f=u.string,h=u.index,d;return h>=f.length?{value:void 0,done:!0}:(d=r(f,h,!0),u.index+=d.length,{value:d,done:!1})})},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){typeof window=="object"&&(n=window)}e.exports=n},"./src/default-attrs.json":function(e){e.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},i=function(){function d(p,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,m,g){return m&&d(p.prototype,m),g&&d(p,g),p}}(),a=n("./node_modules/classnames/dedupe.js"),s=c(a),o=n("./src/default-attrs.json"),l=c(o);function c(d){return d&&d.__esModule?d:{default:d}}function u(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var f=function(){function d(p,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];u(this,d),this.name=p,this.contents=m,this.tags=g,this.attrs=r({},l.default,{class:"feather feather-"+p})}return i(d,[{key:"toSvg",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=r({},this.attrs,m,{class:(0,s.default)(this.attrs.class,m.class)});return"<svg "+h(g)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),d}();function h(d){return Object.keys(d).map(function(p){return p+'="'+d[p]+'"'}).join(" ")}t.default=f},"./src/icons.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/icon.js"),i=c(r),a=n("./dist/icons.json"),s=c(a),o=n("./src/tags.json"),l=c(o);function c(u){return u&&u.__esModule?u:{default:u}}t.default=Object.keys(s.default).map(function(u){return new i.default(u,s.default[u],l.default[u])}).reduce(function(u,f){return u[f.name]=f,u},{})},"./src/index.js":function(e,t,n){"use strict";var r=n("./src/icons.js"),i=c(r),a=n("./src/to-svg.js"),s=c(a),o=n("./src/replace.js"),l=c(o);function c(u){return u&&u.__esModule?u:{default:u}}e.exports={icons:i.default,toSvg:s.default,replace:l.default}},"./src/replace.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(h){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[m]=p[m])}return h},i=n("./node_modules/classnames/dedupe.js"),a=l(i),s=n("./src/icons.js"),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document=="undefined")throw new Error("`feather.replace()` only works in a browser environment.");var d=document.querySelectorAll("[data-feather]");Array.from(d).forEach(function(p){return u(p,h)})}function u(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=f(h),m=p["data-feather"];if(delete p["data-feather"],o.default[m]===void 0){console.warn("feather: '"+m+"' is not a valid icon");return}var g=o.default[m].toSvg(r({},d,p,{class:(0,a.default)(d.class,p.class)})),y=new DOMParser().parseFromString(g,"image/svg+xml"),x=y.querySelector("svg");h.parentNode.replaceChild(x,h)}function f(h){return Array.from(h.attributes).reduce(function(d,p){return d[p.name]=p.value,d},{})}t.default=c},"./src/tags.json":function(e){e.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/icons.js"),i=a(r);function a(o){return o&&o.__esModule?o:{default:o}}function s(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!o)throw new Error("The required `key` (icon name) parameter is missing.");if(!i.default[o])throw new Error("No icon matching '"+o+"'. See the complete list of icons at https://feathericons.com");return i.default[o].toSvg(l)}t.default=s},0:function(e,t,n){n("./node_modules/core-js/es/array/from.js"),e.exports=n("./src/index.js")}})})});var qB={};TC(qB,{default:()=>Vu});module.exports=FC(qB);w();w();var ps=Ze(Sg(),1),vh=Ze(Og(),1),cy=Ze(Ig(),1),dl=Ze(x1(),1),nl=Ze(E1(),1),uy=Ze(R1(),1),pn=Ze(L1(),1),fy=Ze($1(),1),ge=class e extends Error{constructor(t){super(t),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(t){let n=new e(t.message);return n.code=t.code,n.data=t.data,n.caller=t.caller,n.stack=t.stack,n}get isIsomorphicGitError(){return!0}},ms=class e extends ge{constructor(t){super(`Modifying the index is not possible because you have unmerged files: ${t.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=e.code,this.data={filepaths:t}}};ms.code="UnmergedPathsError";var ce=class e extends ge{constructor(t){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${t}`),this.code=this.name=e.code,this.data={message:t}}};ce.code="InternalError";var Ii=class e extends ge{constructor(t){super(`The filepath "${t}" contains unsafe character sequences`),this.code=this.name=e.code,this.data={filepath:t}}};Ii.code="UnsafeFilepathError";var nn=class{constructor(t){this.buffer=t,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(t){this._start=t}slice(t){let n=this.buffer.slice(this._start,this._start+t);return this._start+=t,n}toString(t,n){let r=this.buffer.toString(t,this._start,this._start+n);return this._start+=n,r}write(t,n,r){let i=this.buffer.write(t,this._start,n,r);return this._start+=n,i}copy(t,n,r){let i=t.copy(this.buffer,this._start,n,r);return this._start+=i,i}readUInt8(){let t=this.buffer.readUInt8(this._start);return this._start+=1,t}writeUInt8(t){let n=this.buffer.writeUInt8(t,this._start);return this._start+=1,n}readUInt16BE(){let t=this.buffer.readUInt16BE(this._start);return this._start+=2,t}writeUInt16BE(t){let n=this.buffer.writeUInt16BE(t,this._start);return this._start+=2,n}readUInt32BE(){let t=this.buffer.readUInt32BE(this._start);return this._start+=4,t}writeUInt32BE(t){let n=this.buffer.writeUInt32BE(t,this._start);return this._start+=4,n}};function pl(e,t){return-(e<t)||+(e>t)}function hy(e,t){return pl(e.path,t.path)}function dy(e){let t=e>0?e>>12:0;t!==4&&t!==8&&t!==10&&t!==14&&(t=8);let n=e&511;return n&73?n=493:n=420,t!==8&&(n=0),(t<<12)+n}var Mn=2**32;function H1(e,t,n,r){if(e!==void 0&&t!==void 0)return[e,t];n===void 0&&(n=r.valueOf());let i=Math.floor(n/1e3),a=(n-i*1e3)*1e6;return[i,a]}function Li(e){let[t,n]=H1(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),[r,i]=H1(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime);return{ctimeSeconds:t%Mn,ctimeNanoseconds:n%Mn,mtimeSeconds:r%Mn,mtimeNanoseconds:i%Mn,dev:e.dev%Mn,ino:e.ino%Mn,mode:dy(e.mode%Mn),uid:e.uid%Mn,gid:e.gid%Mn,size:e.size>-1?e.size%Mn:0}}function P5(e){let t="";for(let n of new Uint8Array(e))n<16&&(t+="0"),t+=n.toString(16);return t}var Zf=null;async function Wn(e){return Zf===null&&(Zf=await R5()),Zf?py(e):O5(e)}function O5(e){return new vh.default().update(e).digest("hex")}async function py(e){let t=await crypto.subtle.digest("SHA-1",e);return P5(t)}async function R5(){try{if(await py(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709")return!0}catch(e){}return!1}function I5(e){return{assumeValid:!!(e&32768),extended:!!(e&16384),stage:(e&12288)>>12,nameLength:e&4095}}function L5(e){let t=e.flags;return t.extended=!1,t.nameLength=Math.min(Buffer.from(e.path).length,4095),(t.assumeValid?32768:0)+(t.extended?16384:0)+((t.stage&3)<<12)+(t.nameLength&4095)}var sh=class e{constructor(t,n){this._dirty=!1,this._unmergedPaths=n||new Set,this._entries=t||new Map}_addEntry(t){if(t.flags.stage===0)t.stages=[t],this._entries.set(t.path,t),this._unmergedPaths.delete(t.path);else{let n=this._entries.get(t.path);n||(this._entries.set(t.path,t),n=t),n.stages[t.flags.stage]=t,this._unmergedPaths.add(t.path)}}static async from(t){if(Buffer.isBuffer(t))return e.fromBuffer(t);if(t===null)return new e(null);throw new ce("invalid type passed to GitIndex.from")}static async fromBuffer(t){if(t.length===0)throw new ce("Index file is empty (.git/index)");let n=new e,r=new nn(t),i=r.toString("utf8",4);if(i!=="DIRC")throw new ce(`Invalid dircache magic file number: ${i}`);let a=await Wn(t.slice(0,-20)),s=t.slice(-20).toString("hex");if(s!==a)throw new ce(`Invalid checksum in GitIndex buffer: expected ${s} but saw ${a}`);let o=r.readUInt32BE();if(o!==2)throw new ce(`Unsupported dircache version: ${o}`);let l=r.readUInt32BE(),c=0;for(;!r.eof()&&c<l;){let u={};u.ctimeSeconds=r.readUInt32BE(),u.ctimeNanoseconds=r.readUInt32BE(),u.mtimeSeconds=r.readUInt32BE(),u.mtimeNanoseconds=r.readUInt32BE(),u.dev=r.readUInt32BE(),u.ino=r.readUInt32BE(),u.mode=r.readUInt32BE(),u.uid=r.readUInt32BE(),u.gid=r.readUInt32BE(),u.size=r.readUInt32BE(),u.oid=r.slice(20).toString("hex");let f=r.readUInt16BE();u.flags=I5(f);let h=t.indexOf(0,r.tell()+1)-r.tell();if(h<1)throw new ce(`Got a path length of: ${h}`);if(u.path=r.toString("utf8",h),u.path.includes("..\\")||u.path.includes("../"))throw new Ii(u.path);let d=8-(r.tell()-12)%8;for(d===0&&(d=8);d--;){let p=r.readUInt8();if(p!==0)throw new ce(`Expected 1-8 null characters but got '${p}' after ${u.path}`);if(r.eof())throw new ce("Unexpected end of file")}u.stages=[],n._addEntry(u),c++}return n}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(hy)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(t=>t.stages.length>1?t.stages.filter(n=>n):t)}*[Symbol.iterator](){for(let t of this.entries)yield t}insert({filepath:t,stats:n,oid:r,stage:i=0}){n||(n={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),n=Li(n);let a=Buffer.from(t),s={ctimeSeconds:n.ctimeSeconds,ctimeNanoseconds:n.ctimeNanoseconds,mtimeSeconds:n.mtimeSeconds,mtimeNanoseconds:n.mtimeNanoseconds,dev:n.dev,ino:n.ino,mode:n.mode||33188,uid:n.uid,gid:n.gid,size:n.size,path:t,oid:r,flags:{assumeValid:!1,extended:!1,stage:i,nameLength:a.length<4095?a.length:4095},stages:[]};this._addEntry(s),this._dirty=!0}delete({filepath:t}){if(this._entries.has(t))this._entries.delete(t);else for(let n of this._entries.keys())n.startsWith(t+"/")&&this._entries.delete(n);this._unmergedPaths.has(t)&&this._unmergedPaths.delete(t),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:t}){return this._entries.has(t)}render(){return this.entries.map(t=>`${t.mode.toString(8)} ${t.oid}    ${t.path}`).join(`
`)}static async _entryToBuffer(t){let n=Buffer.from(t.path),r=Math.ceil((62+n.length+1)/8)*8,i=Buffer.alloc(r),a=new nn(i),s=Li(t);return a.writeUInt32BE(s.ctimeSeconds),a.writeUInt32BE(s.ctimeNanoseconds),a.writeUInt32BE(s.mtimeSeconds),a.writeUInt32BE(s.mtimeNanoseconds),a.writeUInt32BE(s.dev),a.writeUInt32BE(s.ino),a.writeUInt32BE(s.mode),a.writeUInt32BE(s.uid),a.writeUInt32BE(s.gid),a.writeUInt32BE(s.size),a.write(t.oid,20,"hex"),a.writeUInt16BE(L5(t)),a.write(t.path,n.length,"utf8"),i}async toObject(){let t=Buffer.alloc(12),n=new nn(t);n.write("DIRC",4,"utf8"),n.writeUInt32BE(2),n.writeUInt32BE(this.entriesFlat.length);let r=[];for(let o of this.entries)if(r.push(e._entryToBuffer(o)),o.stages.length>1)for(let l of o.stages)l&&l!==o&&r.push(e._entryToBuffer(l));r=await Promise.all(r);let i=Buffer.concat(r),a=Buffer.concat([t,i]),s=await Wn(a);return Buffer.concat([a,Buffer.from(s,"hex")])}};function rl(e,t,n=!0,r=!0){let i=Li(e),a=Li(t);return n&&i.mode!==a.mode||i.mtimeSeconds!==a.mtimeSeconds||i.ctimeSeconds!==a.ctimeSeconds||i.uid!==a.uid||i.gid!==a.gid||r&&i.ino!==a.ino||i.size!==a.size}var Kf=null,Oi=Symbol("IndexCache");function j5(){return{map:new Map,stats:new Map}}async function D5(e,t,n){let r=await e.lstat(t),i=await e.read(t),a=await sh.from(i);n.map.set(t,a),n.stats.set(t,r)}async function B5(e,t,n){let r=n.stats.get(t);if(r===void 0)return!0;let i=await e.lstat(t);return r===null||i===null?!1:rl(r,i)}var ht=class{static async acquire({fs:t,gitdir:n,cache:r,allowUnmerged:i=!0},a){r[Oi]||(r[Oi]=j5());let s=`${n}/index`;Kf===null&&(Kf=new ps.default({maxPending:1/0}));let o,l=[];return await Kf.acquire(s,async()=>{await B5(t,s,r[Oi])&&await D5(t,s,r[Oi]);let c=r[Oi].map.get(s);if(l=c.unmergedPaths,l.length&&!i)throw new ms(l);if(o=await a(c),c._dirty){let u=await c.toObject();await t.write(s,u),r[Oi].stats.set(s,await t.lstat(s)),c._dirty=!1}}),o}};function il(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function ji(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t===-1?".":t===0?"/":e.slice(0,t)}function my(e){let t=new Map,n=function(i){if(!t.has(i)){let a={type:"tree",fullpath:i,basename:il(i),metadata:{},children:[]};t.set(i,a),a.parent=n(ji(i)),a.parent&&a.parent!==a&&a.parent.children.push(a)}return t.get(i)},r=function(i,a){if(!t.has(i)){let s={type:"blob",fullpath:i,basename:il(i),metadata:a,parent:n(ji(i)),children:[]};s.parent&&s.parent.children.push(s),t.set(i,s)}return t.get(i)};n(".");for(let i of e)r(i.path,i);return t}function N5(e){switch(e){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new ce(`Unexpected GitTree entry mode: ${e.toString(8)}`)}var oh=class{constructor({fs:t,gitdir:n,cache:r}){this.treePromise=ht.acquire({fs:t,gitdir:n,cache:r},async function(a){return my(a.entries)});let i=this;this.ConstructEntry=class{constructor(s){this._fullpath=s,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(t){let n=t._fullpath,i=(await this.treePromise).get(n);if(!i||i.type==="blob")return null;if(i.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${n}'`);let a=i.children.map(s=>s.fullpath);return a.sort(pl),a}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){let r=(await this.treePromise).get(t._fullpath);if(!r)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let i=r.type==="tree"?{}:Li(r.metadata);t._type=r.type==="tree"?"tree":N5(i.mode),t._mode=i.mode,r.type==="tree"?t._stat=void 0:t._stat=i}return t._stat}async content(t){}async oid(t){if(t._oid===!1){let r=(await this.treePromise).get(t._fullpath);t._oid=r.metadata.oid}return t._oid}},ml=Symbol("GitWalkSymbol");function gl(){let e=Object.create(null);return Object.defineProperty(e,ml,{value:function({fs:t,gitdir:n,cache:r}){return new oh({fs:t,gitdir:n,cache:r})}}),Object.freeze(e),e}var Be=class e extends ge{constructor(t){super(`Could not find ${t}.`),this.code=this.name=e.code,this.data={what:t}}};Be.code="NotFoundError";var Tt=class e extends ge{constructor(t,n,r,i){super(`Object ${t} ${i?`at ${i}`:""}was anticipated to be a ${r} but it is a ${n}.`),this.code=this.name=e.code,this.data={oid:t,actual:n,expected:r,filepath:i}}};Tt.code="ObjectTypeError";var dr=class e extends ge{constructor(t){super(`Expected a 40-char hex object id but saw "${t}".`),this.code=this.name=e.code,this.data={value:t}}};dr.code="InvalidOidError";var gs=class e extends ge{constructor(t){super(`Could not find a fetch refspec for remote "${t}". Make sure the config file has an entry like the following:
[remote "${t}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=e.code,this.data={remote:t}}};gs.code="NoRefspecError";var al=class e{constructor(t){if(this.refs=new Map,this.parsedConfig=[],t){let n=null;this.parsedConfig=t.trim().split(`
`).map(r=>{if(/^\s*#/.test(r))return{line:r,comment:!0};let i=r.indexOf(" ");if(r.startsWith("^")){let a=r.slice(1);return this.refs.set(n+"^{}",a),{line:r,ref:n,peeled:a}}else{let a=r.slice(0,i);return n=r.slice(i+1),this.refs.set(n,a),{line:r,ref:n,oid:a}}})}return this}static from(t){return new e(t)}delete(t){this.parsedConfig=this.parsedConfig.filter(n=>n.ref!==t),this.refs.delete(t)}toString(){return this.parsedConfig.map(({line:t})=>t).join(`
`)+`
`}},sl=class e{constructor({remotePath:t,localPath:n,force:r,matchPrefix:i}){Object.assign(this,{remotePath:t,localPath:n,force:r,matchPrefix:i})}static from(t){let[n,r,i,a,s]=t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),o=n==="+",l=i==="*";if(l!==(s==="*"))throw new ce("Invalid refspec");return new e({remotePath:r,localPath:a,force:o,matchPrefix:l})}translate(t){if(this.matchPrefix){if(t.startsWith(this.remotePath))return this.localPath+t.replace(this.remotePath,"")}else if(t===this.remotePath)return this.localPath;return null}reverseTranslate(t){if(this.matchPrefix){if(t.startsWith(this.localPath))return this.remotePath+t.replace(this.localPath,"")}else if(t===this.localPath)return this.remotePath;return null}},lh=class e{constructor(t=[]){this.rules=t}static from(t){let n=[];for(let r of t)n.push(sl.from(r));return new e(n)}add(t){let n=sl.from(t);this.rules.push(n)}translate(t){let n=[];for(let r of this.rules)for(let i of t){let a=r.translate(i);a&&n.push([i,a])}return n}translateOne(t){let n=null;for(let r of this.rules){let i=r.translate(t);i&&(n=i)}return n}localNamespaces(){return this.rules.filter(t=>t.matchPrefix).map(t=>t.localPath.replace(/\/$/,""))}};function $5(e,t){let n=e.replace(/\^\{\}$/,""),r=t.replace(/\^\{\}$/,""),i=-(n<r)||+(n>r);return i===0?e.endsWith("^{}")?1:-1:i}var U1=new Map;function G1(e){let t=U1.get(e);return t||(t=H5(e),U1.set(e,t)),t}function H5(e){return e=e.split("/./").join("/").replace(/\/{2,}/g,"/"),e==="/."?"/":e==="./"||(e.startsWith("./")&&(e=e.slice(2)),e.endsWith("/.")&&(e=e.slice(0,-2)),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e==="")?".":e}function B(...e){return G1(e.map(G1).join("/"))}var U5=e=>{e=e.toLowerCase();let t=parseInt(e);return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1024*1024),e.endsWith("g")&&(t*=1024*1024*1024),t},ds=e=>{if(e=e.trim().toLowerCase(),e==="true"||e==="yes"||e==="on")return!0;if(e==="false"||e==="no"||e==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${e}`)},z1={core:{filemode:ds,bare:ds,logallrefupdates:ds,symlinks:ds,ignorecase:ds,bigFileThreshold:U5}},G5=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,z5=/^[A-Za-z0-9-.]+$/,V5=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,W5=/^[A-Za-z][A-Za-z-]*$/,q5=/^(.*?)( *[#;].*)$/,X5=e=>{let t=G5.exec(e);if(t!=null){let[n,r]=t.slice(1);return[n,r]}return null},Y5=e=>{let t=V5.exec(e);if(t!=null){let[n,r="true"]=t.slice(1),i=Z5(r),a=K5(i);return[n,a]}return null},Z5=e=>{let t=q5.exec(e);if(t==null)return e;let[n,r]=t.slice(1);return V1(n)&&V1(r)?`${n}${r}`:n},V1=e=>(e.match(/(?:^|[^\\])"/g)||[]).length%2!==0,K5=e=>e.split("").reduce((t,n,r,i)=>{let a=n==='"'&&i[r-1]!=="\\",s=n==="\\"&&i[r+1]==='"';return a||s?t:t+n},""),W1=e=>e!=null?e.toLowerCase():null,ch=(e,t,n)=>[W1(e),t,W1(n)].filter(r=>r!=null).join("."),q1=e=>{let t=e.split("."),n=t.shift(),r=t.pop(),i=t.length?t.join("."):void 0;return{section:n,subsection:i,name:r,path:ch(n,i,r),sectionPath:ch(n,i,null)}},J5=(e,t)=>e.reduce((n,r,i)=>t(r)?i:n,-1),uh=class e{constructor(t){let n=null,r=null;this.parsedConfig=t?t.split(`
`).map(i=>{let a=null,s=null,o=i.trim(),l=X5(o),c=l!=null;if(c)[n,r]=l;else{let f=Y5(o);f!=null&&([a,s]=f)}let u=ch(n,r,a);return{line:i,isSection:c,section:n,subsection:r,name:a,value:s,path:u}}):[]}static from(t){return new e(t)}async get(t,n=!1){let r=q1(t).path,i=this.parsedConfig.filter(a=>a.path===r).map(({section:a,name:s,value:o})=>{let l=z1[a]&&z1[a][s];return l?l(o):o});return n?i:i.pop()}async getall(t){return this.get(t,!0)}async getSubsections(t){return this.parsedConfig.filter(n=>n.section===t&&n.isSection).map(n=>n.subsection)}async deleteSection(t,n){this.parsedConfig=this.parsedConfig.filter(r=>!(r.section===t&&r.subsection===n))}async append(t,n){return this.set(t,n,!0)}async set(t,n,r=!1){let{section:i,subsection:a,name:s,path:o,sectionPath:l}=q1(t),c=J5(this.parsedConfig,u=>u.path===o);if(n==null)c!==-1&&this.parsedConfig.splice(c,1);else if(c!==-1){let u=this.parsedConfig[c],f=Object.assign({},u,{name:s,value:n,modified:!0});r?this.parsedConfig.splice(c+1,0,f):this.parsedConfig[c]=f}else{let u=this.parsedConfig.findIndex(h=>h.path===l),f={section:i,subsection:a,name:s,value:n,modified:!0,path:o};if(z5.test(i)&&W5.test(s))if(u>=0)this.parsedConfig.splice(u+1,0,f);else{let h={section:i,subsection:a,modified:!0,path:l};this.parsedConfig.push(h,f)}}}toString(){return this.parsedConfig.map(({line:t,section:n,subsection:r,name:i,value:a,modified:s=!1})=>s?i!=null&&a!=null?typeof a=="string"&&/[#;]/.test(a)?`	${i} = "${a}"`:`	${i} = ${a}`:r!=null?`[${n} "${r}"]`:`[${n}]`:t).join(`
`)}},qe=class{static async get({fs:t,gitdir:n}){let r=await t.read(`${n}/config`,{encoding:"utf8"});return uh.from(r)}static async save({fs:t,gitdir:n,config:r}){await t.write(`${n}/config`,r.toString(),{encoding:"utf8"})}},el=e=>[`${e}`,`refs/${e}`,`refs/tags/${e}`,`refs/heads/${e}`,`refs/remotes/${e}`,`refs/remotes/${e}/HEAD`],Q5=["config","description","index","shallow","commondir"],Jf;async function ur(e,t){return Jf===void 0&&(Jf=new ps.default),Jf.acquire(e,t)}var q=class e{static async updateRemoteRefs({fs:t,gitdir:n,remote:r,refs:i,symrefs:a,tags:s,refspecs:o=void 0,prune:l=!1,pruneTags:c=!1}){for(let g of i.values())if(!g.match(/[0-9a-f]{40}/))throw new dr(g);let u=await qe.get({fs:t,gitdir:n});if(!o){if(o=await u.getall(`remote.${r}.fetch`),o.length===0)throw new gs(r);o.unshift(`+HEAD:refs/remotes/${r}/HEAD`)}let f=lh.from(o),h=new Map;if(c){let g=await e.listRefs({fs:t,gitdir:n,filepath:"refs/tags"});await e.deleteRefs({fs:t,gitdir:n,refs:g.map(y=>`refs/tags/${y}`)})}if(s){for(let g of i.keys())if(g.startsWith("refs/tags")&&!g.endsWith("^{}")&&!await e.exists({fs:t,gitdir:n,ref:g})){let y=i.get(g);h.set(g,y)}}let d=f.translate([...i.keys()]);for(let[g,y]of d){let x=i.get(g);h.set(y,x)}let p=f.translate([...a.keys()]);for(let[g,y]of p){let x=a.get(g),_=f.translateOne(x);_&&h.set(y,`ref: ${_}`)}let m=[];if(l){for(let g of f.localNamespaces()){let y=(await e.listRefs({fs:t,gitdir:n,filepath:g})).map(x=>`${g}/${x}`);for(let x of y)h.has(x)||m.push(x)}m.length>0&&await e.deleteRefs({fs:t,gitdir:n,refs:m})}for(let[g,y]of h)await ur(g,async()=>t.write(B(n,g),`${y.trim()}
`,"utf8"));return{pruned:m}}static async writeRef({fs:t,gitdir:n,ref:r,value:i}){if(!i.match(/[0-9a-f]{40}/))throw new dr(i);await ur(r,async()=>t.write(B(n,r),`${i.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:t,gitdir:n,ref:r,value:i}){await ur(r,async()=>t.write(B(n,r),`ref: ${i.trim()}
`,"utf8"))}static async deleteRef({fs:t,gitdir:n,ref:r}){return e.deleteRefs({fs:t,gitdir:n,refs:[r]})}static async deleteRefs({fs:t,gitdir:n,refs:r}){await Promise.all(r.map(o=>t.rm(B(n,o))));let i=await ur("packed-refs",async()=>t.read(`${n}/packed-refs`,{encoding:"utf8"})),a=al.from(i),s=a.refs.size;for(let o of r)a.refs.has(o)&&a.delete(o);a.refs.size<s&&(i=a.toString(),await ur("packed-refs",async()=>t.write(`${n}/packed-refs`,i,{encoding:"utf8"})))}static async resolve({fs:t,gitdir:n,ref:r,depth:i=void 0}){if(i!==void 0&&(i--,i===-1))return r;if(r.startsWith("ref: "))return r=r.slice(5),e.resolve({fs:t,gitdir:n,ref:r,depth:i});if(r.length===40&&/[0-9a-f]{40}/.test(r))return r;let a=await e.packedRefs({fs:t,gitdir:n}),s=el(r).filter(o=>!Q5.includes(o));for(let o of s){let l=await ur(o,async()=>await t.read(`${n}/${o}`,{encoding:"utf8"})||a.get(o));if(l)return e.resolve({fs:t,gitdir:n,ref:l.trim(),depth:i})}throw new Be(r)}static async exists({fs:t,gitdir:n,ref:r}){try{return await e.expand({fs:t,gitdir:n,ref:r}),!0}catch(i){return!1}}static async expand({fs:t,gitdir:n,ref:r}){if(r.length===40&&/[0-9a-f]{40}/.test(r))return r;let i=await e.packedRefs({fs:t,gitdir:n}),a=el(r);for(let s of a)if(await ur(s,async()=>t.exists(`${n}/${s}`))||i.has(s))return s;throw new Be(r)}static async expandAgainstMap({ref:t,map:n}){let r=el(t);for(let i of r)if(await n.has(i))return i;throw new Be(t)}static resolveAgainstMap({ref:t,fullref:n=t,depth:r=void 0,map:i}){if(r!==void 0&&(r--,r===-1))return{fullref:n,oid:t};if(t.startsWith("ref: "))return t=t.slice(5),e.resolveAgainstMap({ref:t,fullref:n,depth:r,map:i});if(t.length===40&&/[0-9a-f]{40}/.test(t))return{fullref:n,oid:t};let a=el(t);for(let s of a){let o=i.get(s);if(o)return e.resolveAgainstMap({ref:o.trim(),fullref:s,depth:r,map:i})}throw new Be(t)}static async packedRefs({fs:t,gitdir:n}){let r=await ur("packed-refs",async()=>t.read(`${n}/packed-refs`,{encoding:"utf8"}));return al.from(r).refs}static async listRefs({fs:t,gitdir:n,filepath:r}){let i=e.packedRefs({fs:t,gitdir:n}),a=null;try{a=await t.readdirDeep(`${n}/${r}`),a=a.map(s=>s.replace(`${n}/${r}/`,""))}catch(s){a=[]}for(let s of(await i).keys())s.startsWith(r)&&(s=s.replace(r+"/",""),a.includes(s)||a.push(s));return a.sort($5),a}static async listBranches({fs:t,gitdir:n,remote:r}){return r?e.listRefs({fs:t,gitdir:n,filepath:`refs/remotes/${r}`}):e.listRefs({fs:t,gitdir:n,filepath:"refs/heads"})}static async listTags({fs:t,gitdir:n}){return(await e.listRefs({fs:t,gitdir:n,filepath:"refs/tags"})).filter(i=>!i.endsWith("^{}"))}};function e6(e,t){return pl(X1(e),X1(t))}function X1(e){return e.mode==="040000"?e.path+"/":e.path}function gy(e){switch(e){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new ce(`Unexpected GitTree entry mode: ${e}`)}function t6(e){let t=[],n=0;for(;n<e.length;){let r=e.indexOf(32,n);if(r===-1)throw new ce(`GitTree: Error parsing buffer at byte location ${n}: Could not find the next space character.`);let i=e.indexOf(0,n);if(i===-1)throw new ce(`GitTree: Error parsing buffer at byte location ${n}: Could not find the next null character.`);let a=e.slice(n,r).toString("utf8");a==="40000"&&(a="040000");let s=gy(a),o=e.slice(r+1,i).toString("utf8");if(o.includes("\\")||o.includes("/"))throw new Ii(o);let l=e.slice(i+1,i+21).toString("hex");n=i+21,t.push({mode:a,path:o,oid:l,type:s})}return t}function n6(e){if(typeof e=="number"&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new ce(`Could not understand file mode: ${e}`)}function r6(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=n6(e.mode),e.type||(e.type=gy(e.mode)),e}var Lt=class e{constructor(t){if(Buffer.isBuffer(t))this._entries=t6(t);else if(Array.isArray(t))this._entries=t.map(r6);else throw new ce("invalid type passed to GitTree constructor");this._entries.sort(hy)}static from(t){return new e(t)}render(){return this._entries.map(t=>`${t.mode} ${t.type} ${t.oid}    ${t.path}`).join(`
`)}toObject(){let t=[...this._entries];return t.sort(e6),Buffer.concat(t.map(n=>{let r=Buffer.from(n.mode.replace(/^0/,"")),i=Buffer.from(" "),a=Buffer.from(n.path,"utf8"),s=Buffer.from([0]),o=Buffer.from(n.oid,"hex");return Buffer.concat([r,i,a,s,o])}))}entries(){return this._entries}*[Symbol.iterator](){for(let t of this._entries)yield t}},pr=class{static wrap({type:t,object:n}){return Buffer.concat([Buffer.from(`${t} ${n.byteLength.toString()}\0`),Buffer.from(n)])}static unwrap(t){let n=t.indexOf(32),r=t.indexOf(0),i=t.slice(0,n).toString("utf8"),a=t.slice(n+1,r).toString("utf8"),s=t.length-(r+1);if(parseInt(a)!==s)throw new ce(`Length mismatch: expected ${a} bytes but got ${s} instead.`);return{type:i,object:Buffer.from(t.slice(r+1))}}};async function i6({fs:e,gitdir:t,oid:n}){let r=`objects/${n.slice(0,2)}/${n.slice(2)}`,i=await e.read(`${t}/${r}`);return i?{object:i,format:"deflated",source:r}:null}function a6(e,t){let n=new nn(e),r=Y1(n);if(r!==t.byteLength)throw new ce(`applyDelta expected source buffer to be ${r} bytes but the provided buffer was ${t.length} bytes`);let i=Y1(n),a,s=K1(n,t);if(s.byteLength===i)a=s;else{a=Buffer.alloc(i);let o=new nn(a);for(o.copy(s);!n.eof();)o.copy(K1(n,t));let l=o.tell();if(i!==l)throw new ce(`applyDelta expected target buffer to be ${i} bytes but the resulting buffer was ${l} bytes`)}return a}function Y1(e){let t=0,n=0,r=null;do r=e.readUInt8(),t|=(r&127)<<n,n+=7;while(r&128);return t}function Z1(e,t,n){let r=0,i=0;for(;n--;)t&1&&(r|=e.readUInt8()<<i),t>>=1,i+=8;return r}function K1(e,t){let n=e.readUInt8(),r=128,i=15,a=112;if(n&r){let s=Z1(e,n&i,4),o=Z1(e,(n&a)>>4,3);return o===0&&(o=65536),t.slice(s,s+o)}else return e.slice(n)}function s6(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function yy(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:s6(e)}var ol=class{constructor(t){if(typeof Buffer=="undefined")throw new Error("Missing Buffer dependency");this.stream=yy(t),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(t){if(!this.eof())return this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t),this.buffer.slice(this.undoCursor,this.cursor)}async skip(t){this.eof()||(this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:t,value:n}=await this.stream.next();return t&&(this._ended=!0,!n)?Buffer.alloc(0):(n&&(n=Buffer.from(n)),n)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(t){this.undoCursor=this.cursor,this.cursor+=t,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(t){if(this._ended)return;let n=[this.buffer];for(;this.cursor+t>o6(n);){let r=await this._next();if(this._ended)break;n.push(r)}this.buffer=Buffer.concat(n)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}};function o6(e){return e.reduce((t,n)=>t+n.length,0)}async function l6(e,t){let n=new ol(e),r=await n.read(4);if(r=r.toString("utf8"),r!=="PACK")throw new ce(`Invalid PACK header '${r}'`);let i=await n.read(4);if(i=i.readUInt32BE(0),i!==2)throw new ce(`Invalid packfile version: ${i}`);let a=await n.read(4);if(a=a.readUInt32BE(0),!(a<1))for(;!n.eof()&&a--;){let s=n.tell(),{type:o,length:l,ofs:c,reference:u}=await c6(n),f=new dl.default.Inflate;for(;!f.result;){let h=await n.chunk();if(!h)break;if(f.push(h,!1),f.err)throw new ce(`Pako error: ${f.msg}`);if(f.result){if(f.result.length!==l)throw new ce("Inflated object size is different from that stated in packfile.");await n.undo(),await n.read(h.length-f.strm.avail_in);let d=n.tell();await t({data:f.result,type:o,num:a,offset:s,end:d,reference:u,ofs:c})}}}}async function c6(e){let t=await e.byte(),n=t>>4&7,r=t&15;if(t&128){let s=4;do t=await e.byte(),r|=(t&127)<<s,s+=7;while(t&128)}let i,a;if(n===6){let s=0;i=0;let o=[];do t=await e.byte(),i|=(t&127)<<s,s+=7,o.push(t);while(t&128);a=Buffer.from(o)}return n===7&&(a=await e.read(20)),{type:n,length:r,ofs:i,reference:a}}var Qf=!1;async function vy(e){return Qf===null&&(Qf=f6()),Qf?u6(e):dl.default.inflate(e)}async function u6(e){let t=new DecompressionStream("deflate"),n=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(n).arrayBuffer())}function f6(){try{if(new DecompressionStream("deflate"))return!0}catch(e){}return!1}function h6(e){let t=[],n=0,r=0;do{n=e.readUInt8();let i=n&127;t.push(i),r=n&128}while(r);return t.reduce((i,a)=>i+1<<7|a,-1)}function d6(e,t){let n=t,r=4,i=null;do i=e.readUInt8(),n|=(i&127)<<r,r+=7;while(i&128);return n}var ys=class e{constructor(t){Object.assign(this,t),this.offsetCache={}}static async fromIdx({idx:t,getExternalRefDelta:n}){let r=new nn(t);if(r.slice(4).toString("hex")!=="ff744f63")return;let a=r.readUInt32BE();if(a!==2)throw new ce(`Unable to read version ${a} packfile IDX. (Only version 2 supported)`);if(t.byteLength>2048*1024*1024)throw new ce("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");r.seek(r.tell()+4*255);let s=r.readUInt32BE(),o=[];for(let u=0;u<s;u++){let f=r.slice(20).toString("hex");o[u]=f}r.seek(r.tell()+4*s);let l=new Map;for(let u=0;u<s;u++)l.set(o[u],r.readUInt32BE());let c=r.slice(20).toString("hex");return new e({hashes:o,crcs:{},offsets:l,packfileSha:c,getExternalRefDelta:n})}static async fromPack({pack:t,getExternalRefDelta:n,onProgress:r}){let i={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},a={},s=t.slice(-20).toString("hex"),o=[],l={},c=new Map,u=null,f=null;await l6([t],async({data:g,type:y,reference:x,offset:_,num:S})=>{u===null&&(u=S);let b=Math.floor((u-S)*100/u);b!==f&&r&&await r({phase:"Receiving objects",loaded:u-S,total:u}),f=b,y=i[y],["commit","tree","blob","tag"].includes(y)?a[_]={type:y,offset:_}:y==="ofs-delta"?a[_]={type:y,offset:_}:y==="ref-delta"&&(a[_]={type:y,offset:_})});let h=Object.keys(a).map(Number);for(let[g,y]of h.entries()){let x=g+1===h.length?t.byteLength-20:h[g+1],_=a[y],S=cy.default.buf(t.slice(y,x))>>>0;_.end=x,_.crc=S}let d=new e({pack:Promise.resolve(t),packfileSha:s,crcs:l,hashes:o,offsets:c,getExternalRefDelta:n});f=null;let p=0,m=[0,0,0,0,0,0,0,0,0,0,0,0];for(let g in a){g=Number(g);let y=Math.floor(p*100/u);y!==f&&r&&await r({phase:"Resolving deltas",loaded:p,total:u}),p++,f=y;let x=a[g];if(!x.oid)try{d.readDepth=0,d.externalReadDepth=0;let{type:_,object:S}=await d.readSlice({start:g});m[d.readDepth]+=1;let b=await Wn(pr.wrap({type:_,object:S}));x.oid=b,o.push(b),c.set(b,g),l[b]=x.crc}catch(_){continue}}return o.sort(),d}async toBuffer(){let t=[],n=(c,u)=>{t.push(Buffer.from(c,u))};n("ff744f63","hex"),n("00000002","hex");let r=new nn(Buffer.alloc(256*4));for(let c=0;c<256;c++){let u=0;for(let f of this.hashes)parseInt(f.slice(0,2),16)<=c&&u++;r.writeUInt32BE(u)}t.push(r.buffer);for(let c of this.hashes)n(c,"hex");let i=new nn(Buffer.alloc(this.hashes.length*4));for(let c of this.hashes)i.writeUInt32BE(this.crcs[c]);t.push(i.buffer);let a=new nn(Buffer.alloc(this.hashes.length*4));for(let c of this.hashes)a.writeUInt32BE(this.offsets.get(c));t.push(a.buffer),n(this.packfileSha,"hex");let s=Buffer.concat(t),o=await Wn(s),l=Buffer.alloc(20);return l.write(o,"hex"),Buffer.concat([s,l])}async load({pack:t}){this.pack=t}async unload(){this.pack=null}async read({oid:t}){if(!this.offsets.get(t)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(t);throw new ce(`Could not read object ${t} from packfile`)}let n=this.offsets.get(t);return this.readSlice({start:n})}async readSlice({start:t}){if(this.offsetCache[t])return Object.assign({},this.offsetCache[t]);this.readDepth++;let n={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new ce("Tried to read from a GitPackIndex with no packfile loaded into memory");let r=(await this.pack).slice(t),i=new nn(r),a=i.readUInt8(),s=a&112,o=n[s];if(o===void 0)throw new ce("Unrecognized type: 0b"+s.toString(2));let l=a&15,c=l;a&128&&(c=d6(i,l));let f=null,h=null;if(o==="ofs_delta"){let p=h6(i),m=t-p;({object:f,type:o}=await this.readSlice({start:m}))}if(o==="ref_delta"){let p=i.slice(20).toString("hex");({object:f,type:o}=await this.read({oid:p}))}let d=r.slice(i.tell());if(h=Buffer.from(await vy(d)),h.byteLength!==c)throw new ce(`Packfile told us object would have length ${c} but it had length ${h.byteLength}`);return f&&(h=Buffer.from(a6(h,f))),this.readDepth>3&&(this.offsetCache[t]={type:o,object:h}),{type:o,format:"content",object:h}}},tl=Symbol("PackfileCache");async function p6({fs:e,filename:t,getExternalRefDelta:n,emitter:r,emitterPrefix:i}){let a=await e.read(t);return ys.fromIdx({idx:a,getExternalRefDelta:n})}function wh({fs:e,cache:t,filename:n,getExternalRefDelta:r,emitter:i,emitterPrefix:a}){t[tl]||(t[tl]=new Map);let s=t[tl].get(n);return s||(s=p6({fs:e,filename:n,getExternalRefDelta:r,emitter:i,emitterPrefix:a}),t[tl].set(n,s)),s}async function m6({fs:e,cache:t,gitdir:n,oid:r,format:i="content",getExternalRefDelta:a}){let s=await e.readdir(B(n,"objects/pack"));s=s.filter(o=>o.endsWith(".idx"));for(let o of s){let l=`${n}/objects/pack/${o}`,c=await wh({fs:e,cache:t,filename:l,getExternalRefDelta:a});if(c.error)throw new ce(c.error);if(c.offsets.has(r)){if(!c.pack){let f=l.replace(/idx$/,"pack");c.pack=e.read(f)}let u=await c.read({oid:r,getExternalRefDelta:a});return u.format="content",u.source=`objects/pack/${o.replace(/idx$/,"pack")}`,u}}return null}async function Xe({fs:e,cache:t,gitdir:n,oid:r,format:i="content"}){let a=u=>Xe({fs:e,cache:t,gitdir:n,oid:u}),s;if(r==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(s={format:"wrapped",object:Buffer.from("tree 0\0")}),s||(s=await i6({fs:e,gitdir:n,oid:r})),!s){if(s=await m6({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:a}),!s)throw new Be(r);return s}if(i==="deflated"||(s.format==="deflated"&&(s.object=Buffer.from(await vy(s.object)),s.format="wrapped"),i==="wrapped"))return s;let o=await Wn(s.object);if(o!==r)throw new ce(`SHA check failed! Expected ${r}, computed ${o}`);let{object:l,type:c}=pr.unwrap(s.object);if(s.type=c,s.object=l,s.format="content",i==="content")return s;throw new ce(`invalid requested format "${i}"`)}var mn=class e extends ge{constructor(t,n,r=!0){super(`Failed to create ${t} at ${n} because it already exists.${r?` (Hint: use 'force: true' parameter to overwrite existing ${t}.)`:""}`),this.code=this.name=e.code,this.data={noun:t,where:n,canForce:r}}};mn.code="AlreadyExistsError";var vs=class e extends ge{constructor(t,n,r){super(`Found multiple ${t} matching "${n}" (${r.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=e.code,this.data={nouns:t,short:n,matches:r}}};vs.code="AmbiguousError";var ws=class e extends ge{constructor(t){super(`Your local changes to the following files would be overwritten by checkout: ${t.join(", ")}`),this.code=this.name=e.code,this.data={filepaths:t}}};ws.code="CheckoutConflictError";var bs=class e extends ge{constructor(t,n){super(`Failed to checkout "${t}" because commit ${n} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=e.code,this.data={ref:t,oid:n}}};bs.code="CommitNotFetchedError";var xs=class e extends ge{constructor(){super("Empty response from git server."),this.code=this.name=e.code,this.data={}}};xs.code="EmptyServerResponseError";var _s=class e extends ge{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=e.code,this.data={}}};_s.code="FastForwardError";var Ss=class e extends ge{constructor(t,n){super(`One or more branches were not updated: ${t}`),this.code=this.name=e.code,this.data={prettyDetails:t,result:n}}};Ss.code="GitPushError";var Di=class e extends ge{constructor(t,n,r){super(`HTTP Error: ${t} ${n}`),this.code=this.name=e.code,this.data={statusCode:t,statusMessage:n,response:r}}};Di.code="HttpError";var mr=class e extends ge{constructor(t){let n="invalid filepath";t==="leading-slash"||t==="trailing-slash"?n='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':t==="directory"&&(n='"filepath" should not be a directory.'),super(n),this.code=this.name=e.code,this.data={reason:t}}};mr.code="InvalidFilepathError";var qn=class e extends ge{constructor(t,n){super(`"${t}" would be an invalid git reference. (Hint: a valid alternative would be "${n}".)`),this.code=this.name=e.code,this.data={ref:t,suggestion:n}}};qn.code="InvalidRefNameError";var Es=class e extends ge{constructor(t){super(`Maximum search depth of ${t} exceeded.`),this.code=this.name=e.code,this.data={depth:t}}};Es.code="MaxDepthError";var Bi=class e extends ge{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=e.code,this.data={}}};Bi.code="MergeNotSupportedError";var Ni=class e extends ge{constructor(t,n,r,i){super(`Automatic merge failed with one or more merge conflicts in the following files: ${t.toString()}. Fix conflicts then commit the result.`),this.code=this.name=e.code,this.data={filepaths:t,bothModified:n,deleteByUs:r,deleteByTheirs:i}}};Ni.code="MergeConflictError";var Ft=class e extends ge{constructor(t){super(`No name was provided for ${t} in the argument or in the .git/config file.`),this.code=this.name=e.code,this.data={role:t}}};Ft.code="MissingNameError";var It=class e extends ge{constructor(t){super(`The function requires a "${t}" parameter but none was provided.`),this.code=this.name=e.code,this.data={parameter:t}}};It.code="MissingParameterError";var ks=class e extends ge{constructor(t){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=e.code,this.data={errors:t},this.errors=t}};ks.code="MultipleGitError";var Xr=class e extends ge{constructor(t,n){super(`Expected "${t}" but received "${n}".`),this.code=this.name=e.code,this.data={expected:t,actual:n}}};Xr.code="ParseError";var $i=class e extends ge{constructor(t){let n="";t==="not-fast-forward"?n=" because it was not a simple fast-forward":t==="tag-exists"&&(n=" because tag already exists"),super(`Push rejected${n}. Use "force: true" to override.`),this.code=this.name=e.code,this.data={reason:t}}};$i.code="PushRejectedError";var fr=class e extends ge{constructor(t,n){super(`Remote does not support the "${t}" so the "${n}" parameter cannot be used.`),this.code=this.name=e.code,this.data={capability:t,parameter:n}}};fr.code="RemoteCapabilityError";var As=class e extends ge{constructor(t,n){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${t}`),this.code=this.name=e.code,this.data={preview:t,response:n}}};As.code="SmartHttpError";var Cs=class e extends ge{constructor(t,n,r){super(`Git remote "${t}" uses an unrecognized transport protocol: "${n}"`),this.code=this.name=e.code,this.data={url:t,transport:n,suggestion:r}}};Cs.code="UnknownTransportError";var Ts=class e extends ge{constructor(t){super(`Cannot parse remote URL: "${t}"`),this.code=this.name=e.code,this.data={url:t}}};Ts.code="UrlParseError";var Hi=class e extends ge{constructor(){super("The operation was canceled."),this.code=this.name=e.code,this.data={}}};Hi.code="UserCanceledError";var Fs=class e extends ge{constructor(t){super(`Could not merge index: Entry for '${t}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=e.code,this.data={filepath:t}}};Fs.code="IndexResetError";var Ms=class e extends ge{constructor(t){super(`"${t}" does not point to any commit. You're maybe working on a repository with no commits yet. `),this.code=this.name=e.code,this.data={ref:t}}};Ms.code="NoCommitError";var Os=Object.freeze({__proto__:null,AlreadyExistsError:mn,AmbiguousError:vs,CheckoutConflictError:ws,CommitNotFetchedError:bs,EmptyServerResponseError:xs,FastForwardError:_s,GitPushError:Ss,HttpError:Di,InternalError:ce,InvalidFilepathError:mr,InvalidOidError:dr,InvalidRefNameError:qn,MaxDepthError:Es,MergeNotSupportedError:Bi,MergeConflictError:Ni,MissingNameError:Ft,MissingParameterError:It,MultipleGitError:ks,NoRefspecError:gs,NotFoundError:Be,ObjectTypeError:Tt,ParseError:Xr,PushRejectedError:$i,RemoteCapabilityError:fr,SmartHttpError:As,UnknownTransportError:Cs,UnsafeFilepathError:Ii,UrlParseError:Ts,UserCanceledError:Hi,UnmergedPathsError:ms,IndexResetError:Fs,NoCommitError:Ms});function fh({name:e,email:t,timestamp:n,timezoneOffset:r}){return r=g6(r),`${e} <${t}> ${n} ${r}`}function g6(e){let t=y6(v6(e));e=Math.abs(e);let n=Math.floor(e/60);e-=n*60;let r=String(n),i=String(e);return r.length<2&&(r="0"+r),i.length<2&&(i="0"+i),(t===-1?"-":"+")+r+i}function y6(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}function v6(e){return e===0?e:-e}function Vn(e){return e=e.replace(/\r/g,""),e=e.replace(/^\n+/,""),e=e.replace(/\n+$/,"")+`
`,e}function ll(e){let[,t,n,r,i]=e.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:t,email:n,timestamp:Number(r),timezoneOffset:w6(i)}}function w6(e){let[,t,n,r]=e.match(/(\+|-)(\d\d)(\d\d)/);return r=(t==="+"?1:-1)*(Number(n)*60+Number(r)),b6(r)}function b6(e){return e===0?e:-e}var zt=class e{constructor(t){if(typeof t=="string")this._tag=t;else if(Buffer.isBuffer(t))this._tag=t.toString("utf8");else if(typeof t=="object")this._tag=e.render(t);else throw new ce("invalid type passed to GitAnnotatedTag constructor")}static from(t){return new e(t)}static render(t){return`object ${t.object}
type ${t.type}
tag ${t.tag}
tagger ${fh(t.tagger)}

${t.message}
${t.gpgsig?t.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){let t=this.withoutSignature();return t.slice(t.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){let t=this.justHeaders().split(`
`),n=[];for(let i of t)i[0]===" "?n[n.length-1]+=`
`+i.slice(1):n.push(i);let r={};for(let i of n){let a=i.slice(0,i.indexOf(" ")),s=i.slice(i.indexOf(" ")+1);Array.isArray(r[a])?r[a].push(s):r[a]=s}return r.tagger&&(r.tagger=ll(r.tagger)),r.committer&&(r.committer=ll(r.committer)),r}withoutSignature(){let t=Vn(this._tag);return t.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?t:t.slice(0,t.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;let t=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return Vn(t)}payload(){return this.withoutSignature()+`
`}toObject(){return Buffer.from(this._tag,"utf8")}static async sign(t,n,r){let i=t.payload(),{signature:a}=await n({payload:i,secretKey:r});a=Vn(a);let s=i+a;return e.from(s)}};function eh(e){return e.trim().split(`
`).map(t=>" "+t).join(`
`)+`
`}function x6(e){return e.split(`
`).map(t=>t.replace(/^ /,"")).join(`
`)}var jt=class e{constructor(t){if(typeof t=="string")this._commit=t;else if(Buffer.isBuffer(t))this._commit=t.toString("utf8");else if(typeof t=="object")this._commit=e.render(t);else throw new ce("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:t,signature:n}){let r=e.justHeaders(t),i=e.justMessage(t),a=Vn(r+`
gpgsig`+eh(n)+`
`+i);return new e(a)}static from(t){return new e(t)}toObject(){return Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return e.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(t){return Vn(t.slice(t.indexOf(`

`)+2))}static justHeaders(t){return t.slice(0,t.indexOf(`

`))}parseHeaders(){let t=e.justHeaders(this._commit).split(`
`),n=[];for(let i of t)i[0]===" "?n[n.length-1]+=`
`+i.slice(1):n.push(i);let r={parent:[]};for(let i of n){let a=i.slice(0,i.indexOf(" ")),s=i.slice(i.indexOf(" ")+1);Array.isArray(r[a])?r[a].push(s):r[a]=s}return r.author&&(r.author=ll(r.author)),r.committer&&(r.committer=ll(r.committer)),r}static renderHeaders(t){let n="";if(t.tree?n+=`tree ${t.tree}
`:n+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,t.parent){if(t.parent.length===void 0)throw new ce("commit 'parent' property should be an array");for(let a of t.parent)n+=`parent ${a}
`}let r=t.author;n+=`author ${fh(r)}
`;let i=t.committer||t.author;return n+=`committer ${fh(i)}
`,t.gpgsig&&(n+="gpgsig"+eh(t.gpgsig)),n}static render(t){return e.renderHeaders(t)+`
`+Vn(t.message)}render(){return this._commit}withoutSignature(){let t=Vn(this._commit);if(t.indexOf(`
gpgsig`)===-1)return t;let n=t.slice(0,t.indexOf(`
gpgsig`)),r=t.slice(t.indexOf(`-----END PGP SIGNATURE-----
`)+28);return Vn(n+`
`+r)}isolateSignature(){let t=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return x6(t)}static async sign(t,n,r){let i=t.withoutSignature(),a=e.justMessage(t._commit),{signature:s}=await n({payload:i,secretKey:r});s=Vn(s);let l=e.justHeaders(t._commit)+`
gpgsig`+eh(s)+`
`+a;return e.from(l)}};async function Ui({fs:e,cache:t,gitdir:n,oid:r}){if(r==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:Lt.from([]),oid:r};let{type:i,object:a}=await Xe({fs:e,cache:t,gitdir:n,oid:r});if(i==="tag")return r=zt.from(a).parse().object,Ui({fs:e,cache:t,gitdir:n,oid:r});if(i==="commit")return r=jt.from(a).parse().tree,Ui({fs:e,cache:t,gitdir:n,oid:r});if(i!=="tree")throw new Tt(r,i,"tree");return{tree:Lt.from(a),oid:r}}var hh=class{constructor({fs:t,gitdir:n,ref:r,cache:i}){this.fs=t,this.cache=i,this.gitdir=n,this.mapPromise=(async()=>{let s=new Map,o;try{o=await q.resolve({fs:t,gitdir:n,ref:r})}catch(c){c instanceof Be&&(o="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}let l=await Ui({fs:t,cache:this.cache,gitdir:n,oid:o});return l.type="tree",l.mode="40000",s.set(".",l),s})();let a=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){let n=t._fullpath,{fs:r,cache:i,gitdir:a}=this,s=await this.mapPromise,o=s.get(n);if(!o)throw new Error(`No obj for ${n}`);let l=o.oid;if(!l)throw new Error(`No oid for obj ${JSON.stringify(o)}`);if(o.type!=="tree")return null;let{type:c,object:u}=await Xe({fs:r,cache:i,gitdir:a,oid:l});if(c!==o.type)throw new Tt(l,c,o.type);let f=Lt.from(u);for(let h of f)s.set(B(n,h.path),h);return f.entries().map(h=>B(n,h.path))}async type(t){if(t._type===!1){let n=await this.mapPromise,{type:r}=n.get(t._fullpath);t._type=r}return t._type}async mode(t){if(t._mode===!1){let n=await this.mapPromise,{mode:r}=n.get(t._fullpath);t._mode=dy(parseInt(r,8))}return t._mode}async stat(t){}async content(t){if(t._content===!1){let n=await this.mapPromise,{fs:r,cache:i,gitdir:a}=this,o=n.get(t._fullpath).oid,{type:l,object:c}=await Xe({fs:r,cache:i,gitdir:a,oid:o});l!=="blob"?t._content=void 0:t._content=new Uint8Array(c)}return t._content}async oid(t){if(t._oid===!1){let r=(await this.mapPromise).get(t._fullpath);t._oid=r.oid}return t._oid}};function hr({ref:e="HEAD"}={}){let t=Object.create(null);return Object.defineProperty(t,ml,{value:function({fs:n,gitdir:r,cache:i}){return new hh({fs:n,gitdir:r,ref:e,cache:i})}}),Object.freeze(t),t}var dh=class{constructor({fs:t,dir:n,gitdir:r,cache:i}){this.fs=t,this.cache=i,this.dir=n,this.gitdir=r;let a=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){let n=t._fullpath,{fs:r,dir:i}=this,a=await r.readdir(B(i,n));return a===null?null:a.map(s=>B(n,s))}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){let{fs:n,dir:r}=this,i=await n.lstat(`${r}/${t._fullpath}`);if(!i)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let a=i.isDirectory()?"tree":"blob";a==="blob"&&!i.isFile()&&!i.isSymbolicLink()&&(a="special"),t._type=a,i=Li(i),t._mode=i.mode,i.size===-1&&t._actualSize&&(i.size=t._actualSize),t._stat=i}return t._stat}async content(t){if(t._content===!1){let{fs:n,dir:r,gitdir:i}=this;if(await t.type()==="tree")t._content=void 0;else{let s=await(await qe.get({fs:n,gitdir:i})).get("core.autocrlf"),o=await n.read(`${r}/${t._fullpath}`,{autocrlf:s});t._actualSize=o.length,t._stat&&t._stat.size===-1&&(t._stat.size=t._actualSize),t._content=new Uint8Array(o)}}return t._content}async oid(t){if(t._oid===!1){let{fs:n,gitdir:r,cache:i}=this,a;await ht.acquire({fs:n,gitdir:r,cache:i},async function(s){let o=s.entriesMap.get(t._fullpath),l=await t.stat(),u=await(await qe.get({fs:n,gitdir:r})).get("core.filemode"),f=typeof process!="undefined"?process.platform!=="win32":!0;!o||rl(l,o,u,f)?await t.content()===void 0?a=void 0:(a=await Wn(pr.wrap({type:"blob",object:await t.content()})),o&&a===o.oid&&(!u||l.mode===o.mode)&&rl(l,o,u,f)&&s.insert({filepath:t._fullpath,stats:l,oid:a})):a=o.oid}),t._oid=a}return t._oid}};function yl(){let e=Object.create(null);return Object.defineProperty(e,ml,{value:function({fs:t,dir:n,gitdir:r,cache:i}){return new dh({fs:t,dir:n,gitdir:r,cache:i})}}),Object.freeze(e),e}function _6(e,t){let n=t-e;return Array.from({length:n},(r,i)=>e+i)}var wy=typeof Array.prototype.flat=="undefined"?e=>e.reduce((t,n)=>t.concat(n),[]):e=>e.flat(),ph=class{constructor(){this.value=null}consider(t){t!=null&&(this.value===null?this.value=t:t<this.value&&(this.value=t))}reset(){this.value=null}};function*S6(e){let t=new ph,n,r=[],i=e.length;for(let a=0;a<i;a++)r[a]=e[a].next().value,r[a]!==void 0&&t.consider(r[a]);if(t.value!==null)for(;;){let a=[];n=t.value,t.reset();for(let s=0;s<i;s++)r[s]!==void 0&&r[s]===n?(a[s]=r[s],r[s]=e[s].next().value):a[s]=null,r[s]!==void 0&&t.consider(r[s]);if(yield a,t.value===null)return}}async function Gi({fs:e,cache:t,dir:n,gitdir:r,trees:i,map:a=async(l,c)=>c,reduce:s=async(l,c)=>{let u=wy(c);return l!==void 0&&u.unshift(l),u},iterate:o=(l,c)=>Promise.all([...c].map(l))}){let l=i.map(d=>d[ml]({fs:e,dir:n,gitdir:r,cache:t})),c=new Array(l.length).fill("."),u=_6(0,l.length),f=async d=>{u.map(g=>{d[g]=d[g]&&new l[g].ConstructEntry(d[g])});let m=(await Promise.all(u.map(g=>d[g]?l[g].readdir(d[g]):[]))).map(g=>g===null?[]:g).map(g=>g[Symbol.iterator]());return{entries:d,children:S6(m)}},h=async d=>{let{entries:p,children:m}=await f(d),g=p.find(x=>x&&x._fullpath)._fullpath,y=await a(g,p);if(y!==null){let x=await o(h,m);return x=x.filter(_=>_!==void 0),s(y,x)}};return h(c)}async function mh(e,t){let n=await e.readdir(t);n==null?await e.rm(t):n.length?await Promise.all(n.map(r=>{let i=B(t,r);return e.lstat(i).then(a=>{if(a)return a.isDirectory()?mh(e,i):e.rm(i)})})).then(()=>e.rmdir(t)):await e.rmdir(t)}function E6(e){return k6(e)&&J1(e.then)&&J1(e.catch)}function k6(e){return e&&typeof e=="object"}function J1(e){return typeof e=="function"}function Q1(e){return E6((n=>{try{return n.readFile().catch(r=>r)}catch(r){return r}})(e))}var ey=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function ty(e,t){if(Q1(t))for(let n of ey)e[`_${n}`]=t[n].bind(t);else for(let n of ey)e[`_${n}`]=(0,nl.default)(t[n].bind(t));Q1(t)?t.rm?e._rm=t.rm.bind(t):t.rmdir.length>1?e._rm=t.rmdir.bind(t):e._rm=mh.bind(null,e):t.rm?e._rm=(0,nl.default)(t.rm.bind(t)):t.rmdir.length>2?e._rm=(0,nl.default)(t.rmdir.bind(t)):e._rm=mh.bind(null,e)}var Q=class{constructor(t){if(typeof t._original_unwrapped_fs!="undefined")return t;let n=Object.getOwnPropertyDescriptor(t,"promises");n&&n.enumerable?ty(this,t.promises):ty(this,t),this._original_unwrapped_fs=t}async exists(t,n={}){try{return await this._stat(t),!0}catch(r){if(r.code==="ENOENT"||r.code==="ENOTDIR")return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',r),r}}async read(t,n={}){try{let r=await this._readFile(t,n);if(n.autocrlf==="true")try{r=new TextDecoder("utf8",{fatal:!0}).decode(r),r=r.replace(/\r\n/g,`
`),r=new TextEncoder().encode(r)}catch(i){}return typeof r!="string"&&(r=Buffer.from(r)),r}catch(r){return null}}async write(t,n,r={}){try{await this._writeFile(t,n,r);return}catch(i){await this.mkdir(ji(t)),await this._writeFile(t,n,r)}}async mkdir(t,n=!1){try{await this._mkdir(t);return}catch(r){if(r===null||r.code==="EEXIST")return;if(n)throw r;if(r.code==="ENOENT"){let i=ji(t);if(i==="."||i==="/"||i===t)throw r;await this.mkdir(i),await this.mkdir(t,!0)}}}async rm(t){try{await this._unlink(t)}catch(n){if(n.code!=="ENOENT")throw n}}async rmdir(t,n){try{n&&n.recursive?await this._rm(t,n):await this._rmdir(t)}catch(r){if(r.code!=="ENOENT")throw r}}async readdir(t){try{let n=await this._readdir(t);return n.sort(pl),n}catch(n){return n.code==="ENOTDIR"?null:[]}}async readdirDeep(t){let n=await this._readdir(t);return(await Promise.all(n.map(async i=>{let a=t+"/"+i;return(await this._stat(a)).isDirectory()?this.readdirDeep(a):a}))).reduce((i,a)=>i.concat(a),[])}async lstat(t){try{return await this._lstat(t)}catch(n){if(n.code==="ENOENT")return null;throw n}}async readlink(t,n={encoding:"buffer"}){try{let r=await this._readlink(t,n);return Buffer.isBuffer(r)?r:Buffer.from(r)}catch(r){if(r.code==="ENOENT")return null;throw r}}async writelink(t,n){return this._symlink(n.toString("utf8"),t)}};function F(e,t){if(t===void 0)throw new It(e)}async function cl(e,t){return!e&&!t?!1:e&&!t||!e&&t?!0:!(await e.type()==="tree"&&await t.type()==="tree"||await e.type()===await t.type()&&await e.mode()===await t.mode()&&await e.oid()===await t.oid())}async function A6({fs:e,dir:t,gitdir:n=B(t,".git"),commit:r="HEAD",cache:i={}}){try{F("fs",e),F("dir",t),F("gitdir",n);let a=new Q(e),s=[hr({ref:r}),yl(),gl()],o=[];await ht.acquire({fs:a,gitdir:n,cache:i},async function(c){o=c.unmergedPaths});let l=await Gi({fs:a,cache:i,dir:t,gitdir:n,trees:s,map:async function(c,[u,f,h]){let d=!await cl(f,h),p=o.includes(c),m=!await cl(h,u);if(d||p)return u?{path:c,mode:await u.mode(),oid:await u.oid(),type:await u.type(),content:await u.content()}:void 0;if(m)return!1;throw new Fs(c)}});await ht.acquire({fs:a,gitdir:n,cache:i},async function(c){for(let u of l)if(u!==!1){if(!u){await a.rmdir(`${t}/${u.path}`,{recursive:!0}),c.delete({filepath:u.path});continue}if(u.type==="blob"){let f=new TextDecoder().decode(u.content);await a.write(`${t}/${u.path}`,f,{mode:u.mode}),c.insert({filepath:u.path,oid:u.oid,stage:0})}}})}catch(a){throw a.caller="git.abortMerge",a}}var zi=class{static async isIgnored({fs:t,dir:n,gitdir:r=B(n,".git"),filepath:i}){if(il(i)===".git")return!0;if(i===".")return!1;let a="",s=B(r,"info","exclude");await t.exists(s)&&(a=await t.read(s,"utf8"));let o=[{gitignore:B(n,".gitignore"),filepath:i}],l=i.split("/").filter(Boolean);for(let u=1;u<l.length;u++){let f=l.slice(0,u).join("/"),h=l.slice(u).join("/");o.push({gitignore:B(n,f,".gitignore"),filepath:h})}let c=!1;for(let u of o){let f;try{f=await t.read(u.gitignore,"utf8")}catch(p){if(p.code==="NOENT")continue}let h=(0,uy.default)().add(a);h.add(f);let d=ji(u.filepath);if(d!=="."&&h.ignores(d))return!0;c?c=!h.test(u.filepath).unignored:c=h.test(u.filepath).ignored}return c}};async function C6({fs:e,gitdir:t,object:n,format:r,oid:i}){if(r!=="deflated")throw new ce("GitObjectStoreLoose expects objects to write to be in deflated format");let a=`objects/${i.slice(0,2)}/${i.slice(2)}`,s=`${t}/${a}`;await e.exists(s)||await e.write(s,n)}var th=null;async function by(e){return th===null&&(th=F6()),th?T6(e):dl.default.deflate(e)}async function T6(e){let t=new CompressionStream("deflate"),n=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(n).arrayBuffer())}function F6(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch(e){return!1}}async function Vt({fs:e,gitdir:t,type:n,object:r,format:i="content",oid:a=void 0,dryRun:s=!1}){return i!=="deflated"&&(i!=="wrapped"&&(r=pr.wrap({type:n,object:r})),a=await Wn(r),r=Buffer.from(await by(r))),s||await C6({fs:e,gitdir:t,object:r,format:"deflated",oid:a}),a}function M6(e){let t;for(;~(t=e.indexOf(92));)e[t]=47;return e}async function P6({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,cache:i={},force:a=!1,parallel:s=!0}){try{F("fs",e),F("dir",t),F("gitdir",n),F("filepath",r);let o=new Q(e);await ht.acquire({fs:o,gitdir:n,cache:i},async l=>gh({dir:t,gitdir:n,fs:o,filepath:r,index:l,force:a,parallel:s}))}catch(o){throw o.caller="git.add",o}}async function gh({dir:e,gitdir:t,fs:n,filepath:r,index:i,force:a,parallel:s}){r=Array.isArray(r)?r:[r];let o=r.map(async f=>{if(!a&&await zi.isIgnored({fs:n,dir:e,gitdir:t,filepath:f}))return;let h=await n.lstat(B(e,f));if(!h)throw new Be(f);if(h.isDirectory()){let d=await n.readdir(B(e,f));if(s){let p=d.map(m=>gh({dir:e,gitdir:t,fs:n,filepath:[B(f,m)],index:i,force:a,parallel:s}));await Promise.all(p)}else for(let p of d)await gh({dir:e,gitdir:t,fs:n,filepath:[B(f,p)],index:i,force:a,parallel:s})}else{let p=await(await qe.get({fs:n,gitdir:t})).get("core.autocrlf"),m=h.isSymbolicLink()?await n.readlink(B(e,f)).then(M6):await n.read(B(e,f),{autocrlf:p});if(m===null)throw new Be(f);let g=await Vt({fs:n,gitdir:t,type:"blob",object:m});i.insert({filepath:f,stats:h,oid:g})}}),l=await Promise.allSettled(o),c=l.filter(f=>f.status==="rejected").map(f=>f.reason);if(c.length>1)throw new ks(c);if(c.length===1)throw c[0];return l.filter(f=>f.status==="fulfilled"&&f.value).map(f=>f.value)}async function Ps({fs:e,gitdir:t,path:n}){return(await qe.get({fs:e,gitdir:t})).get(n)}function xy(e,...t){for(let n of t)if(n)for(let r of Object.keys(n)){let i=n[r];i!==void 0&&(e[r]=i)}return e}async function Yr({fs:e,gitdir:t,author:n,commit:r}){let i=Math.floor(Date.now()/1e3),a={name:await Ps({fs:e,gitdir:t,path:"user.name"}),email:await Ps({fs:e,gitdir:t,path:"user.email"})||"",timestamp:i,timezoneOffset:new Date(i*1e3).getTimezoneOffset()},s=xy({},a,r?r.author:void 0,n);if(s.name!==void 0)return s}async function Vi({fs:e,gitdir:t,author:n,committer:r,commit:i}){let a=Math.floor(Date.now()/1e3),s={name:await Ps({fs:e,gitdir:t,path:"user.name"}),email:await Ps({fs:e,gitdir:t,path:"user.email"})||"",timestamp:a,timezoneOffset:new Date(a*1e3).getTimezoneOffset()},o=xy({},s,i?i.committer:void 0,n,r);if(o.name!==void 0)return o}async function _y({fs:e,cache:t,gitdir:n,oid:r}){let{type:i,object:a}=await Xe({fs:e,cache:t,gitdir:n,oid:r});if(i==="tag")return r=zt.from(a).parse().object,_y({fs:e,cache:t,gitdir:n,oid:r});if(i!=="commit")throw new Tt(r,i,"commit");return{commit:jt.from(a),oid:r}}async function ul({fs:e,cache:t,gitdir:n,oid:r}){let{commit:i,oid:a}=await _y({fs:e,cache:t,gitdir:n,oid:r});return{oid:a,commit:i.parse(),payload:i.withoutSignature()}}async function vl({fs:e,cache:t,onSign:n,gitdir:r,message:i,author:a,committer:s,signingKey:o,amend:l=!1,dryRun:c=!1,noUpdateBranch:u=!1,ref:f,parent:h,tree:d}){let p=!1;f||(f=await q.resolve({fs:e,gitdir:r,ref:"HEAD",depth:2}));let m,g;try{m=await q.resolve({fs:e,gitdir:r,ref:f}),g=await ul({fs:e,gitdir:r,oid:m,cache:{}})}catch(_){p=!0}if(l&&p)throw new Ms(f);let y=l?await Yr({fs:e,gitdir:r,author:a,commit:g.commit}):await Yr({fs:e,gitdir:r,author:a});if(!y)throw new Ft("author");let x=l?await Vi({fs:e,gitdir:r,author:y,committer:s,commit:g.commit}):await Vi({fs:e,gitdir:r,author:y,committer:s});if(!x)throw new Ft("committer");return ht.acquire({fs:e,gitdir:r,cache:t,allowUnmerged:!1},async function(_){let b=my(_.entries).get(".");if(d||(d=await Sy({fs:e,gitdir:r,inode:b,dryRun:c})),h?h=await Promise.all(h.map(k=>q.resolve({fs:e,gitdir:r,ref:k}))):l?h=g.commit.parent:h=m?[m]:[],!i)if(l)i=g.commit.message;else throw new It("message");let A=jt.from({tree:d,parent:h,author:y,committer:x,message:i});o&&(A=await jt.sign(A,n,o));let v=await Vt({fs:e,gitdir:r,type:"commit",object:A.toObject(),dryRun:c});return!u&&!c&&await q.writeRef({fs:e,gitdir:r,ref:f,value:v}),v})}async function Sy({fs:e,gitdir:t,inode:n,dryRun:r}){let i=n.children;for(let l of i)l.type==="tree"&&(l.metadata.mode="040000",l.metadata.oid=await Sy({fs:e,gitdir:t,inode:l,dryRun:r}));let a=i.map(l=>({mode:l.metadata.mode,path:l.basename,oid:l.metadata.oid,type:l.type})),s=Lt.from(a);return await Vt({fs:e,gitdir:t,type:"tree",object:s.toObject(),dryRun:r})}async function Rs({fs:e,cache:t,gitdir:n,oid:r,filepath:i}){if(i.startsWith("/"))throw new mr("leading-slash");if(i.endsWith("/"))throw new mr("trailing-slash");let a=r,s=await Ui({fs:e,cache:t,gitdir:n,oid:r}),o=s.tree;if(i==="")r=s.oid;else{let l=i.split("/");r=await Ey({fs:e,cache:t,gitdir:n,tree:o,pathArray:l,oid:a,filepath:i})}return r}async function Ey({fs:e,cache:t,gitdir:n,tree:r,pathArray:i,oid:a,filepath:s}){let o=i.shift();for(let l of r)if(l.path===o){if(i.length===0)return l.oid;{let{type:c,object:u}=await Xe({fs:e,cache:t,gitdir:n,oid:l.oid});if(c!=="tree")throw new Tt(a,c,"tree",s);return r=Lt.from(u),Ey({fs:e,cache:t,gitdir:n,tree:r,pathArray:i,oid:a,filepath:s})}}throw new Be(`file or directory found at "${a}:${s}"`)}async function Xi({fs:e,cache:t,gitdir:n,oid:r,filepath:i=void 0}){i!==void 0&&(r=await Rs({fs:e,cache:t,gitdir:n,oid:r,filepath:i}));let{tree:a,oid:s}=await Ui({fs:e,cache:t,gitdir:n,oid:r});return{oid:s,tree:a.entries()}}async function bh({fs:e,gitdir:t,tree:n}){let r=Lt.from(n).toObject();return await Vt({fs:e,gitdir:t,type:"tree",object:r,format:"content"})}async function O6({fs:e,cache:t,onSign:n,gitdir:r,ref:i,oid:a,note:s,force:o,author:l,committer:c,signingKey:u}){let f;try{f=await q.resolve({gitdir:r,fs:e,ref:i})}catch(y){if(!(y instanceof Be))throw y}let d=(await Xi({fs:e,cache:t,gitdir:r,oid:f||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;if(o)d=d.filter(y=>y.path!==a);else for(let y of d)if(y.path===a)throw new mn("note",a);typeof s=="string"&&(s=Buffer.from(s,"utf8"));let p=await Vt({fs:e,gitdir:r,type:"blob",object:s,format:"content"});d.push({mode:"100644",path:a,oid:p,type:"blob"});let m=await bh({fs:e,gitdir:r,tree:d});return await vl({fs:e,cache:t,onSign:n,gitdir:r,ref:i,tree:m,parent:f&&[f],message:`Note added by 'isomorphic-git addNote'
`,author:l,committer:c,signingKey:u})}async function R6({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ref:i="refs/notes/commits",oid:a,note:s,force:o,author:l,committer:c,signingKey:u,cache:f={}}){try{F("fs",e),F("gitdir",r),F("oid",a),F("note",s),u&&F("onSign",t);let h=new Q(e),d=await Yr({fs:h,gitdir:r,author:l});if(!d)throw new Ft("author");let p=await Vi({fs:h,gitdir:r,author:d,committer:c});if(!p)throw new Ft("committer");return await O6({fs:new Q(h),cache:f,onSign:t,gitdir:r,ref:i,oid:a,note:s,force:o,author:d,committer:p,signingKey:u})}catch(h){throw h.caller="git.addNote",h}}async function ky({fs:e,gitdir:t,remote:n,url:r,force:i}){if(n!==pn.default.clean(n))throw new qn(n,pn.default.clean(n));let a=await qe.get({fs:e,gitdir:t});if(!i&&(await a.getSubsections("remote")).includes(n)&&r!==await a.get(`remote.${n}.url`))throw new mn("remote",n);await a.set(`remote.${n}.url`,r),await a.set(`remote.${n}.fetch`,`+refs/heads/*:refs/remotes/${n}/*`),await qe.save({fs:e,gitdir:t,config:a})}async function I6({fs:e,dir:t,gitdir:n=B(t,".git"),remote:r,url:i,force:a=!1}){try{return F("fs",e),F("gitdir",n),F("remote",r),F("url",i),await ky({fs:new Q(e),gitdir:n,remote:r,url:i,force:a})}catch(s){throw s.caller="git.addRemote",s}}async function L6({fs:e,cache:t,onSign:n,gitdir:r,ref:i,tagger:a,message:s=i,gpgsig:o,object:l,signingKey:c,force:u=!1}){if(i=i.startsWith("refs/tags/")?i:`refs/tags/${i}`,!u&&await q.exists({fs:e,gitdir:r,ref:i}))throw new mn("tag",i);let f=await q.resolve({fs:e,gitdir:r,ref:l||"HEAD"}),{type:h}=await Xe({fs:e,cache:t,gitdir:r,oid:f}),d=zt.from({object:f,type:h,tag:i.replace("refs/tags/",""),tagger:a,message:s,gpgsig:o});c&&(d=await zt.sign(d,n,c));let p=await Vt({fs:e,gitdir:r,type:"tag",object:d.toObject()});await q.writeRef({fs:e,gitdir:r,ref:i,value:p})}async function j6({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ref:i,tagger:a,message:s=i,gpgsig:o,object:l,signingKey:c,force:u=!1,cache:f={}}){try{F("fs",e),F("gitdir",r),F("ref",i),c&&F("onSign",t);let h=new Q(e),d=await Yr({fs:h,gitdir:r,author:a});if(!d)throw new Ft("tagger");return await L6({fs:h,cache:f,onSign:t,gitdir:r,ref:i,tagger:d,message:s,gpgsig:o,object:l,signingKey:c,force:u})}catch(h){throw h.caller="git.annotatedTag",h}}async function D6({fs:e,gitdir:t,ref:n,object:r,checkout:i=!1,force:a=!1}){if(n!==pn.default.clean(n))throw new qn(n,pn.default.clean(n));let s=`refs/heads/${n}`;if(!a&&await q.exists({fs:e,gitdir:t,ref:s}))throw new mn("branch",n,!1);let o;try{o=await q.resolve({fs:e,gitdir:t,ref:r||"HEAD"})}catch(l){}o&&await q.writeRef({fs:e,gitdir:t,ref:s,value:o}),i&&await q.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function B6({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,object:i,checkout:a=!1,force:s=!1}){try{return F("fs",e),F("gitdir",n),F("ref",r),await D6({fs:new Q(e),gitdir:n,ref:r,object:i,checkout:a,force:s})}catch(o){throw o.caller="git.branch",o}}var Ay=(e,t)=>e==="."||t==null||t.length===0||t==="."?!0:t.length>=e.length?t.startsWith(e):e.startsWith(t);async function xh({fs:e,cache:t,onProgress:n,onPostCheckout:r,dir:i,gitdir:a,remote:s,ref:o,filepaths:l,noCheckout:c,noUpdateHead:u,dryRun:f,force:h,track:d=!0}){let p;if(r)try{p=await q.resolve({fs:e,gitdir:a,ref:"HEAD"})}catch(g){p="0000000000000000000000000000000000000000"}let m;try{m=await q.resolve({fs:e,gitdir:a,ref:o})}catch(g){if(o==="HEAD")throw g;let y=`${s}/${o}`;if(m=await q.resolve({fs:e,gitdir:a,ref:y}),d){let x=await qe.get({fs:e,gitdir:a});await x.set(`branch.${o}.remote`,s),await x.set(`branch.${o}.merge`,`refs/heads/${o}`),await qe.save({fs:e,gitdir:a,config:x})}await q.writeRef({fs:e,gitdir:a,ref:`refs/heads/${o}`,value:m})}if(!c){let g;try{g=await N6({fs:e,cache:t,onProgress:n,dir:i,gitdir:a,ref:o,force:h,filepaths:l})}catch(b){throw b instanceof Be&&b.data.what===m?new bs(o,m):b}let y=g.filter(([b])=>b==="conflict").map(([b,A])=>A);if(y.length>0)throw new ws(y);let x=g.filter(([b])=>b==="error").map(([b,A])=>A);if(x.length>0)throw new ce(x.join(", "));if(f){r&&await r({previousHead:p,newHead:m,type:l!=null&&l.length>0?"file":"branch"});return}let _=0,S=g.length;await ht.acquire({fs:e,gitdir:a,cache:t},async function(b){await Promise.all(g.filter(([A])=>A==="delete"||A==="delete-index").map(async function([A,v]){let k=`${i}/${v}`;A==="delete"&&await e.rm(k),b.delete({filepath:v}),n&&await n({phase:"Updating workdir",loaded:++_,total:S})}))}),await ht.acquire({fs:e,gitdir:a,cache:t},async function(b){for(let[A,v]of g)if(A==="rmdir"||A==="rmdir-index"){let k=`${i}/${v}`;try{A==="rmdir-index"&&b.delete({filepath:v}),await e.rmdir(k),n&&await n({phase:"Updating workdir",loaded:++_,total:S})}catch(E){if(E.code==="ENOTEMPTY")console.log(`Did not delete ${v} because directory is not empty`);else throw E}}}),await Promise.all(g.filter(([b])=>b==="mkdir"||b==="mkdir-index").map(async function([b,A]){let v=`${i}/${A}`;await e.mkdir(v),n&&await n({phase:"Updating workdir",loaded:++_,total:S})})),await ht.acquire({fs:e,gitdir:a,cache:t},async function(b){await Promise.all(g.filter(([A])=>A==="create"||A==="create-index"||A==="update"||A==="mkdir-index").map(async function([A,v,k,E,T]){let M=`${i}/${v}`;try{if(A!=="create-index"&&A!=="mkdir-index"){let{object:N}=await Xe({fs:e,cache:t,gitdir:a,oid:k});if(T&&await e.rm(M),E===33188)await e.write(M,N);else if(E===33261)await e.write(M,N,{mode:511});else if(E===40960)await e.writelink(M,N);else throw new ce(`Invalid mode 0o${E.toString(8)} detected in blob ${k}`)}let L=await e.lstat(M);E===33261&&(L.mode=493),A==="mkdir-index"&&(L.mode=57344),b.insert({filepath:v,stats:L,oid:k}),n&&await n({phase:"Updating workdir",loaded:++_,total:S})}catch(L){console.log(L)}}))}),r&&await r({previousHead:p,newHead:m,type:l!=null&&l.length>0?"file":"branch"})}if(!u){let g=await q.expand({fs:e,gitdir:a,ref:o});g.startsWith("refs/heads")?await q.writeSymbolicRef({fs:e,gitdir:a,ref:"HEAD",value:g}):await q.writeRef({fs:e,gitdir:a,ref:"HEAD",value:m})}}async function N6({fs:e,cache:t,onProgress:n,dir:r,gitdir:i,ref:a,force:s,filepaths:o}){let l=0;return Gi({fs:e,cache:t,dir:r,gitdir:i,trees:[hr({ref:a}),yl(),gl()],map:async function(c,[u,f,h]){if(c===".")return;if(o&&!o.some(p=>Ay(c,p)))return null;switch(n&&await n({phase:"Analyzing workdir",loaded:++l}),[!!h,!!u,!!f].map(Number).join("")){case"000":return;case"001":return s&&o&&o.includes(c)?["delete",c]:void 0;case"010":switch(await u.type()){case"tree":return["mkdir",c];case"blob":return["create",c,await u.oid(),await u.mode()];case"commit":return["mkdir-index",c,await u.oid(),await u.mode()];default:return["error",`new entry Unhandled type ${await u.type()}`]}case"011":switch(`${await u.type()}-${await f.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",c];case"blob-blob":return await u.oid()!==await f.oid()?s?["update",c,await u.oid(),await u.mode(),await u.mode()!==await f.mode()]:["conflict",c]:await u.mode()!==await f.mode()?s?["update",c,await u.oid(),await u.mode(),!0]:["conflict",c]:["create-index",c,await u.oid(),await u.mode()];case"commit-tree":return;case"commit-blob":return["conflict",c];default:return["error",`new entry Unhandled type ${u.type}`]}case"100":return["delete-index",c];case"101":switch(await h.type()){case"tree":return["rmdir",c];case"blob":return await h.oid()!==await f.oid()?s?["delete",c]:["conflict",c]:["delete",c];case"commit":return["rmdir-index",c];default:return["error",`delete entry Unhandled type ${await h.type()}`]}case"110":case"111":switch(`${await h.type()}-${await u.type()}`){case"tree-tree":return;case"blob-blob":{if(await h.oid()===await u.oid()&&await h.mode()===await u.mode()&&!s)return;if(f){if(await f.oid()!==await h.oid()&&await f.oid()!==await u.oid())return s?["update",c,await u.oid(),await u.mode(),await u.mode()!==await f.mode()]:["conflict",c]}else if(s)return["update",c,await u.oid(),await u.mode(),await u.mode()!==await h.mode()];return await u.mode()!==await h.mode()?["update",c,await u.oid(),await u.mode(),!0]:await u.oid()!==await h.oid()?["update",c,await u.oid(),await u.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",c,await u.oid()];case"blob-tree":return["update-blob-to-tree",c];case"commit-commit":return["mkdir-index",c,await u.oid(),await u.mode()];default:return["error",`update entry Unhandled type ${await h.type()}-${await u.type()}`]}}},reduce:async function(c,u){return u=wy(u),c?c&&c[0]==="rmdir"?(u.push(c),u):(u.unshift(c),u):u}})}async function $6({fs:e,onProgress:t,onPostCheckout:n,dir:r,gitdir:i=B(r,".git"),remote:a="origin",ref:s,filepaths:o,noCheckout:l=!1,noUpdateHead:c=s===void 0,dryRun:u=!1,force:f=!1,track:h=!0,cache:d={}}){try{F("fs",e),F("dir",r),F("gitdir",i);let p=s||"HEAD";return await xh({fs:new Q(e),cache:d,onProgress:t,onPostCheckout:n,dir:r,gitdir:i,remote:a,ref:p,filepaths:o,noCheckout:l,noUpdateHead:c,dryRun:u,force:f,track:h})}catch(p){throw p.caller="git.checkout",p}}var H6=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function qr(e){let t=H6.exec(e);return t?t[1]==="remotes/"&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}async function Kr({fs:e,gitdir:t,fullname:n=!1,test:r=!1}){let i=await q.resolve({fs:e,gitdir:t,ref:"HEAD",depth:2});if(r)try{await q.resolve({fs:e,gitdir:t,ref:i})}catch(a){return}if(i.startsWith("refs/"))return n?i:qr(i)}function U6(e){return e=e.replace(/^git@([^:]+):/,"https://$1/"),e=e.replace(/^ssh:\/\//,"https://"),e}function Cy({username:e="",password:t=""}){return`Basic ${Buffer.from(`${e}:${t}`).toString("base64")}`}async function Is(e,t){let n=yy(e);for(;;){let{value:r,done:i}=await n.next();if(r&&await t(r),i)break}n.return&&n.return()}async function fl(e){let t=0,n=[];await Is(e,a=>{n.push(a),t+=a.byteLength});let r=new Uint8Array(t),i=0;for(let a of n)r.set(a,i),i+=a.byteLength;return r}function ny(e){let t=e.match(/^https?:\/\/([^/]+)@/);if(t==null)return{url:e,auth:{}};t=t[1];let[n,r]=t.split(":");return e=e.replace(`${t}@`,""),{url:e,auth:{username:n,password:r}}}function yh(e,t){let n=t.toString(16);return"0".repeat(e-n.length)+n}var We=class{static flush(){return Buffer.from("0000","utf8")}static delim(){return Buffer.from("0001","utf8")}static encode(t){typeof t=="string"&&(t=Buffer.from(t));let n=t.length+4,r=yh(4,n);return Buffer.concat([Buffer.from(r,"utf8"),t])}static streamReader(t){let n=new ol(t);return async function(){try{let i=await n.read(4);if(i==null)return!0;if(i=parseInt(i.toString("utf8"),16),i===0||i===1)return null;let a=await n.read(i-4);return a==null?!0:a}catch(i){return t.error=i,!0}}}};async function ry(e){let t={},n;for(;n=await e(),n!==!0;){if(n===null)continue;n=n.toString("utf8").replace(/\n$/,"");let r=n.indexOf("=");if(r>-1){let i=n.slice(0,r),a=n.slice(r+1);t[i]=a}else t[n]=!0}return{protocolVersion:2,capabilities2:t}}async function iy(e,{service:t}){let n=new Set,r=new Map,i=new Map,a=We.streamReader(e),s=await a();for(;s===null;)s=await a();if(s===!0)throw new xs;if(s.includes("version 2"))return ry(a);if(s.toString("utf8").replace(/\n$/,"")!==`# service=${t}`)throw new Xr(`# service=${t}\\n`,s.toString("utf8"));let o=await a();for(;o===null;)o=await a();if(o===!0)return{capabilities:n,refs:r,symrefs:i};if(o=o.toString("utf8"),o.includes("version 2"))return ry(a);let[l,c]=nh(o,"\0","\\x00");if(c.split(" ").map(u=>n.add(u)),l!=="0000000000000000000000000000000000000000 capabilities^{}"){let[u,f]=nh(l," "," ");for(r.set(f,u);;){let h=await a();if(h===!0)break;if(h!==null){let[d,p]=nh(h.toString("utf8")," "," ");r.set(p,d)}}}for(let u of n)if(u.startsWith("symref=")){let f=u.match(/symref=([^:]+):(.*)/);f.length===3&&i.set(f[1],f[2])}return{protocolVersion:1,capabilities:n,refs:r,symrefs:i}}function nh(e,t,n){let r=e.trim().split(t);if(r.length!==2)throw new Xr(`Two strings separated by '${n}'`,e.toString("utf8"));return r}var ay=(e,t)=>e.endsWith("?")?`${e}${t}`:`${e}/${t.replace(/^https?:\/\//,"")}`,sy=(e,t)=>{(t.username||t.password)&&(e.Authorization=Cy(t)),t.headers&&Object.assign(e,t.headers)},rh=async e=>{try{let t=Buffer.from(await fl(e.body)),n=t.toString("utf8");return{preview:n.length<256?n:n.slice(0,256)+"...",response:n,data:t}}catch(t){return{}}},Wi=class{static async capabilities(){return["discover","connect"]}static async discover({http:t,onProgress:n,onAuth:r,onAuthSuccess:i,onAuthFailure:a,corsProxy:s,service:o,url:l,headers:c,protocolVersion:u}){let{url:f,auth:h}=ny(l),d=s?ay(s,f):f;(h.username||h.password)&&(c.Authorization=Cy(h)),u===2&&(c["Git-Protocol"]="version=2");let p,m,g=!1;do if(p=await t.request({onProgress:n,method:"GET",url:`${d}/info/refs?service=${o}`,headers:c}),m=!1,p.statusCode===401||p.statusCode===203){let y=g?a:r;if(y){if(h=await y(f,{...h,headers:{...c}}),h&&h.cancel)throw new Hi;h&&(sy(c,h),g=!0,m=!0)}}else p.statusCode===200&&g&&i&&await i(f,h);while(m);if(p.statusCode!==200){let{response:y}=await rh(p);throw new Di(p.statusCode,p.statusMessage,y)}if(p.headers["content-type"]===`application/x-${o}-advertisement`){let y=await iy(p.body,{service:o});return y.auth=h,y}else{let{preview:y,response:x,data:_}=await rh(p);try{let S=await iy([_],{service:o});return S.auth=h,S}catch(S){throw new As(y,x)}}}static async connect({http:t,onProgress:n,corsProxy:r,service:i,url:a,auth:s,body:o,headers:l}){let c=ny(a);c&&(a=c.url),r&&(a=ay(r,a)),l["content-type"]=`application/x-${i}-request`,l.accept=`application/x-${i}-result`,sy(l,s);let u=await t.request({onProgress:n,method:"POST",url:`${a}/${i}`,body:o,headers:l});if(u.statusCode!==200){let{response:f}=rh(u);throw new Di(u.statusCode,u.statusMessage,f)}return u}};function G6({url:e}){if(e.startsWith("git@"))return{transport:"ssh",address:e};let t=e.match(/(\w+)(:\/\/|::)(.*)/);if(t!==null){if(t[2]==="://")return{transport:t[1],address:t[0]};if(t[2]==="::")return{transport:t[1],address:t[3]}}}var qi=class{static getRemoteHelperFor({url:t}){let n=new Map;n.set("http",Wi),n.set("https",Wi);let r=G6({url:t});if(!r)throw new Ts(t);if(n.has(r.transport))return n.get(r.transport);throw new Cs(t,r.transport,r.transport==="ssh"?U6(t):void 0)}},Wr=null,Zr=class{static async read({fs:t,gitdir:n}){Wr===null&&(Wr=new ps.default);let r=B(n,"shallow"),i=new Set;return await Wr.acquire(r,async function(){let a=await t.read(r,{encoding:"utf8"});if(a===null||a.trim()==="")return i;a.trim().split(`
`).map(s=>i.add(s))}),i}static async write({fs:t,gitdir:n,oids:r}){Wr===null&&(Wr=new ps.default);let i=B(n,"shallow");if(r.size>0){let a=[...r].join(`
`)+`
`;await Wr.acquire(i,async function(){await t.write(i,a,{encoding:"utf8"})})}else await Wr.acquire(i,async function(){await t.rm(i)})}};async function z6({fs:e,gitdir:t,oid:n}){let r=`objects/${n.slice(0,2)}/${n.slice(2)}`;return e.exists(`${t}/${r}`)}async function V6({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:i}){let a=await e.readdir(B(n,"objects/pack"));a=a.filter(s=>s.endsWith(".idx"));for(let s of a){let o=`${n}/objects/pack/${s}`,l=await wh({fs:e,cache:t,filename:o,getExternalRefDelta:i});if(l.error)throw new ce(l.error);if(l.offsets.has(r))return!0}return!1}async function oy({fs:e,cache:t,gitdir:n,oid:r,format:i="content"}){let a=o=>Xe({fs:e,cache:t,gitdir:n,oid:o}),s=await z6({fs:e,gitdir:n,oid:r});return s||(s=await V6({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:a})),s}function W6(e){let i="5041434b"+"00000002"+"00000000";return e.slice(0,12).toString("hex")===i}function Ty(e,t){let n=e.map(r=>r.split("=",1)[0]);return t.filter(r=>{let i=r.split("=",1)[0];return n.includes(i)})}var wl={name:"isomorphic-git",version:"1.27.1",agent:"git/isomorphic-git@1.27.1"},Ri=class{constructor(){this._queue=[]}write(t){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){let n=this._waiting;this._waiting=null,n({value:t})}else this._queue.push(t)}end(){if(this._ended=!0,this._waiting){let t=this._waiting;this._waiting=null,t({done:!0})}}destroy(t){this.error=t,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(t=>{this._waiting=t})}};function q6(e){let t=e.indexOf("\r"),n=e.indexOf(`
`);return t===-1&&n===-1?-1:t===-1?n+1:n===-1?t+1:n===t+1?n+1:Math.min(t,n)+1}function Fy(e){let t=new Ri,n="";return(async()=>(await Is(e,r=>{for(r=r.toString("utf8"),n+=r;;){let i=q6(n);if(i===-1)break;t.write(n.slice(0,i)),n=n.slice(i)}}),n.length>0&&t.write(n),t.end()))(),t}var hl=class{static demux(t){let n=We.streamReader(t),r=new Ri,i=new Ri,a=new Ri,s=async function(){let o=await n();if(o===null)return s();if(o===!0){r.end(),a.end(),t.error?i.destroy(t.error):i.end();return}switch(o[0]){case 1:{i.write(o.slice(1));break}case 2:{a.write(o.slice(1));break}case 3:{let l=o.slice(1);a.write(l),r.end(),a.end(),i.destroy(new Error(l.toString("utf8")));return}default:r.write(o)}s()};return s(),{packetlines:r,packfile:i,progress:a}}};async function X6(e){let{packetlines:t,packfile:n,progress:r}=hl.demux(e),i=[],a=[],s=[],o=!1,l=!1;return new Promise((c,u)=>{Is(t,f=>{let h=f.toString("utf8").trim();if(h.startsWith("shallow")){let d=h.slice(-41).trim();d.length!==40&&u(new dr(d)),i.push(d)}else if(h.startsWith("unshallow")){let d=h.slice(-41).trim();d.length!==40&&u(new dr(d)),a.push(d)}else if(h.startsWith("ACK")){let[,d,p]=h.split(" ");s.push({oid:d,status:p}),p||(l=!0)}else h.startsWith("NAK")?(o=!0,l=!0):(l=!0,o=!0);l&&(e.error?u(e.error):c({shallows:i,unshallows:a,acks:s,nak:o,packfile:n,progress:r}))}).finally(()=>{l||(e.error?u(e.error):c({shallows:i,unshallows:a,acks:s,nak:o,packfile:n,progress:r}))})})}function Y6({capabilities:e=[],wants:t=[],haves:n=[],shallows:r=[],depth:i=null,since:a=null,exclude:s=[]}){let o=[];t=[...new Set(t)];let l=` ${e.join(" ")}`;for(let c of t)o.push(We.encode(`want ${c}${l}
`)),l="";for(let c of r)o.push(We.encode(`shallow ${c}
`));i!==null&&o.push(We.encode(`deepen ${i}
`)),a!==null&&o.push(We.encode(`deepen-since ${Math.floor(a.valueOf()/1e3)}
`));for(let c of s)o.push(We.encode(`deepen-not ${c}
`));o.push(We.flush());for(let c of n)o.push(We.encode(`have ${c}
`));return o.push(We.encode(`done
`)),o}async function _h({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,gitdir:l,ref:c,remoteRef:u,remote:f,url:h,corsProxy:d,depth:p=null,since:m=null,exclude:g=[],relative:y=!1,tags:x=!1,singleBranch:_=!1,headers:S={},prune:b=!1,pruneTags:A=!1}){let v=c||await Kr({fs:e,gitdir:l,test:!0}),k=await qe.get({fs:e,gitdir:l}),E=f||v&&await k.get(`branch.${v}.remote`)||"origin",T=h||await k.get(`remote.${E}.url`);if(typeof T=="undefined")throw new It("remote OR url");let M=u||v&&await k.get(`branch.${v}.merge`)||c||"HEAD";d===void 0&&(d=await k.get("http.corsProxy"));let L=qi.getRemoteHelperFor({url:T}),N=await L.discover({http:n,onAuth:a,onAuthSuccess:s,onAuthFailure:o,corsProxy:d,service:"git-upload-pack",url:T,headers:S,protocolVersion:1}),j=N.auth,Y=N.refs;if(Y.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(p!==null&&!N.capabilities.has("shallow"))throw new fr("shallow","depth");if(m!==null&&!N.capabilities.has("deepen-since"))throw new fr("deepen-since","since");if(g.length>0&&!N.capabilities.has("deepen-not"))throw new fr("deepen-not","exclude");if(y===!0&&!N.capabilities.has("deepen-relative"))throw new fr("deepen-relative","relative");let{oid:le,fullref:fe}=q.resolveAgainstMap({ref:M,map:Y});for(let G of Y.keys())G===fe||G==="HEAD"||G.startsWith("refs/heads/")||x&&G.startsWith("refs/tags/")||Y.delete(G);let ae=Ty([...N.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${wl.agent}`]);y&&ae.push("deepen-relative");let Re=_?[le]:Y.values(),he=_?[v]:await q.listRefs({fs:e,gitdir:l,filepath:"refs"}),$=[];for(let G of he)try{G=await q.expand({fs:e,gitdir:l,ref:G});let at=await q.resolve({fs:e,gitdir:l,ref:G});await oy({fs:e,cache:t,gitdir:l,oid:at})&&$.push(at)}catch(at){}$=[...new Set($)];let V=await Zr.read({fs:e,gitdir:l}),D=N.capabilities.has("shallow")?[...V]:[],se=Y6({capabilities:ae,wants:Re,haves:$,shallows:D,depth:p,since:m,exclude:g}),Ae=Buffer.from(await fl(se)),wt=await L.connect({http:n,onProgress:r,corsProxy:d,service:"git-upload-pack",url:T,auth:j,body:[Ae],headers:S}),_e=await X6(wt.body);wt.headers&&(_e.headers=wt.headers);for(let G of _e.shallows)if(!V.has(G))try{let{object:at}=await Xe({fs:e,cache:t,gitdir:l,oid:G}),H=new jt(at),Z=await Promise.all(H.headers().parent.map(Qe=>oy({fs:e,cache:t,gitdir:l,oid:Qe})));Z.length===0||Z.every(Qe=>Qe)||V.add(G)}catch(at){V.add(G)}for(let G of _e.unshallows)V.delete(G);if(await Zr.write({fs:e,gitdir:l,oids:V}),_){let G=new Map([[fe,le]]),at=new Map,H=10,Z=fe;for(;H--;){let kt=N.symrefs.get(Z);if(kt===void 0)break;at.set(Z,kt),Z=kt}let ve=Y.get(Z);ve&&G.set(Z,ve);let{pruned:Qe}=await q.updateRemoteRefs({fs:e,gitdir:l,remote:E,refs:G,symrefs:at,tags:x,prune:b});b&&(_e.pruned=Qe)}else{let{pruned:G}=await q.updateRemoteRefs({fs:e,gitdir:l,remote:E,refs:Y,symrefs:N.symrefs,tags:x,prune:b,pruneTags:A});b&&(_e.pruned=G)}if(_e.HEAD=N.symrefs.get("HEAD"),_e.HEAD===void 0){let{oid:G}=q.resolveAgainstMap({ref:"HEAD",map:Y});for(let[at,H]of Y.entries())if(at!=="HEAD"&&H===G){_e.HEAD=at;break}}let ut=fe.startsWith("refs/tags")?"tag":"branch";if(_e.FETCH_HEAD={oid:le,description:`${ut} '${qr(fe)}' of ${T}`},r||i){let G=Fy(_e.progress);Is(G,async at=>{if(i&&await i(at),r){let H=at.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);H&&await r({phase:H[1].trim(),loaded:parseInt(H[2],10),total:parseInt(H[3],10)})}})}let ee=Buffer.from(await fl(_e.packfile));if(wt.body.error)throw wt.body.error;let De=ee.slice(-20).toString("hex"),Ce={defaultBranch:_e.HEAD,fetchHead:_e.FETCH_HEAD.oid,fetchHeadDescription:_e.FETCH_HEAD.description};if(_e.headers&&(Ce.headers=_e.headers),b&&(Ce.pruned=_e.pruned),De!==""&&!W6(ee)){Ce.packfile=`objects/pack/pack-${De}.pack`;let G=B(l,Ce.packfile);await e.write(G,ee);let at=Z=>Xe({fs:e,cache:t,gitdir:l,oid:Z}),H=await ys.fromPack({pack:ee,getExternalRefDelta:at,onProgress:r});await e.write(G.replace(/\.pack$/,".idx"),await H.toBuffer())}return Ce}async function My({fs:e,bare:t=!1,dir:n,gitdir:r=t?n:B(n,".git"),defaultBranch:i="master"}){if(await e.exists(r+"/config"))return;let a=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];a=a.map(s=>r+"/"+s);for(let s of a)await e.mkdir(s);await e.write(r+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${t}
`+(t?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await e.write(r+"/HEAD",`ref: refs/heads/${i}
`)}async function Z6({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,onPostCheckout:l,dir:c,gitdir:u,url:f,corsProxy:h,ref:d,remote:p,depth:m,since:g,exclude:y,relative:x,singleBranch:_,noCheckout:S,noTags:b,headers:A}){try{if(await My({fs:e,gitdir:u}),await ky({fs:e,gitdir:u,remote:p,url:f,force:!1}),h){let E=await qe.get({fs:e,gitdir:u});await E.set("http.corsProxy",h),await qe.save({fs:e,gitdir:u,config:E})}let{defaultBranch:v,fetchHead:k}=await _h({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,gitdir:u,ref:d,remote:p,corsProxy:h,depth:m,since:g,exclude:y,relative:x,singleBranch:_,headers:A,tags:!b});if(k===null)return;d=d||v,d=d.replace("refs/heads/",""),await xh({fs:e,cache:t,onProgress:r,onPostCheckout:l,dir:c,gitdir:u,ref:d,remote:p,noCheckout:S})}catch(v){throw await e.rmdir(u,{recursive:!0,maxRetries:10}).catch(()=>{}),v}}async function K6({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPostCheckout:o,dir:l,gitdir:c=B(l,".git"),url:u,corsProxy:f=void 0,ref:h=void 0,remote:d="origin",depth:p=void 0,since:m=void 0,exclude:g=[],relative:y=!1,singleBranch:x=!1,noCheckout:_=!1,noTags:S=!1,headers:b={},cache:A={}}){try{return F("fs",e),F("http",t),F("gitdir",c),_||F("dir",l),F("url",u),await Z6({fs:new Q(e),cache:A,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPostCheckout:o,dir:l,gitdir:c,url:u,corsProxy:f,ref:h,remote:d,depth:p,since:m,exclude:g,relative:y,singleBranch:x,noCheckout:_,noTags:S,headers:b})}catch(v){throw v.caller="git.clone",v}}async function J6({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),message:i,author:a,committer:s,signingKey:o,amend:l=!1,dryRun:c=!1,noUpdateBranch:u=!1,ref:f,parent:h,tree:d,cache:p={}}){try{F("fs",e),l||F("message",i),o&&F("onSign",t);let m=new Q(e);return await vl({fs:m,cache:p,onSign:t,gitdir:r,message:i,author:a,committer:s,signingKey:o,amend:l,dryRun:c,noUpdateBranch:u,ref:f,parent:h,tree:d})}catch(m){throw m.caller="git.commit",m}}async function Q6({fs:e,dir:t,gitdir:n=B(t,".git"),fullname:r=!1,test:i=!1}){try{return F("fs",e),F("gitdir",n),await Kr({fs:new Q(e),gitdir:n,fullname:r,test:i})}catch(a){throw a.caller="git.currentBranch",a}}async function e8({fs:e,gitdir:t,ref:n}){if(n=n.startsWith("refs/heads/")?n:`refs/heads/${n}`,!await q.exists({fs:e,gitdir:t,ref:n}))throw new Be(n);let i=await q.expand({fs:e,gitdir:t,ref:n}),a=await Kr({fs:e,gitdir:t,fullname:!0});if(i===a){let l=await q.resolve({fs:e,gitdir:t,ref:i});await q.writeRef({fs:e,gitdir:t,ref:"HEAD",value:l})}await q.deleteRef({fs:e,gitdir:t,ref:i});let s=qr(n),o=await qe.get({fs:e,gitdir:t});await o.deleteSection("branch",s),await qe.save({fs:e,gitdir:t,config:o})}async function t8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{return F("fs",e),F("ref",r),await e8({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.deleteBranch",i}}async function n8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{F("fs",e),F("ref",r),await q.deleteRef({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.deleteRef",i}}async function r8({fs:e,gitdir:t,remote:n}){let r=await qe.get({fs:e,gitdir:t});await r.deleteSection("remote",n),await qe.save({fs:e,gitdir:t,config:r})}async function i8({fs:e,dir:t,gitdir:n=B(t,".git"),remote:r}){try{return F("fs",e),F("remote",r),await r8({fs:new Q(e),gitdir:n,remote:r})}catch(i){throw i.caller="git.deleteRemote",i}}async function a8({fs:e,gitdir:t,ref:n}){n=n.startsWith("refs/tags/")?n:`refs/tags/${n}`,await q.deleteRef({fs:e,gitdir:t,ref:n})}async function s8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{return F("fs",e),F("ref",r),await a8({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.deleteTag",i}}async function o8({fs:e,gitdir:t,oid:n}){let r=n.slice(0,2);return(await e.readdir(`${t}/objects/${r}`)).map(a=>`${r}${a}`).filter(a=>a.startsWith(n))}async function l8({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:i}){let a=[],s=await e.readdir(B(n,"objects/pack"));s=s.filter(o=>o.endsWith(".idx"));for(let o of s){let l=`${n}/objects/pack/${o}`,c=await wh({fs:e,cache:t,filename:l,getExternalRefDelta:i});if(c.error)throw new ce(c.error);for(let u of c.offsets.keys())u.startsWith(r)&&a.push(u)}return a}async function c8({fs:e,cache:t,gitdir:n,oid:r}){let i=o=>Xe({fs:e,cache:t,gitdir:n,oid:o}),a=await o8({fs:e,gitdir:n,oid:r}),s=await l8({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:i});for(let o of s)a.indexOf(o)===-1&&a.push(o);if(a.length===1)return a[0];throw a.length>1?new vs("oids",r,a):new Be(`an object matching "${r}"`)}async function u8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await c8({fs:new Q(e),cache:i,gitdir:n,oid:r})}catch(a){throw a.caller="git.expandOid",a}}async function f8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{return F("fs",e),F("gitdir",n),F("ref",r),await q.expand({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.expandRef",i}}async function Sh({fs:e,cache:t,gitdir:n,oids:r}){let i={},a=r.length,s=r.map((o,l)=>({index:l,oid:o}));for(;s.length;){let o=new Set;for(let{oid:c,index:u}of s)i[c]||(i[c]=new Set),i[c].add(u),i[c].size===a&&o.add(c);if(o.size>0)return[...o];let l=new Map;for(let{oid:c,index:u}of s)try{let{object:f}=await Xe({fs:e,cache:t,gitdir:n,oid:c}),h=jt.from(f),{parent:d}=h.parseHeaders();for(let p of d)(!i[p]||!i[p].has(u))&&l.set(p+":"+u,{oid:p,index:u})}catch(f){}s=Array.from(l.values())}return[]}var ih=/^.*(\r?\n|$)/gm;function h8({branches:e,contents:t}){let n=e[1],r=e[2],i=t[0],a=t[1],s=t[2],o=a.match(ih),l=i.match(ih),c=s.match(ih),u=(0,fy.default)(o,l,c),f=7,h="",d=!0;for(let p of u)p.ok&&(h+=p.ok.join("")),p.conflict&&(d=!1,h+=`${"<".repeat(f)} ${n}
`,h+=p.conflict.a.join(""),h+=`${"=".repeat(f)}
`,h+=p.conflict.b.join(""),h+=`${">".repeat(f)} ${r}
`);return{cleanMerge:d,mergedText:h}}async function d8({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),index:i,ourOid:a,baseOid:s,theirOid:o,ourName:l="ours",baseName:c="base",theirName:u="theirs",dryRun:f=!1,abortOnConflict:h=!0,mergeDriver:d}){let p=hr({ref:a}),m=hr({ref:s}),g=hr({ref:o}),y=[],x=[],_=[],S=[],b=await Gi({fs:e,cache:t,dir:n,gitdir:r,trees:[p,m,g],map:async function(A,[v,k,E]){let T=il(A),M=await cl(v,k),L=await cl(E,k);switch(`${M}-${L}`){case"false-false":return{mode:await k.mode(),path:T,oid:await k.oid(),type:await k.type()};case"false-true":return E?{mode:await E.mode(),path:T,oid:await E.oid(),type:await E.type()}:void 0;case"true-false":return v?{mode:await v.mode(),path:T,oid:await v.oid(),type:await v.type()}:void 0;case"true-true":{if(v&&k&&E&&await v.type()==="blob"&&await k.type()==="blob"&&await E.type()==="blob")return p8({fs:e,gitdir:r,path:T,ours:v,base:k,theirs:E,ourName:l,baseName:c,theirName:u,mergeDriver:d}).then(async N=>{if(N.cleanMerge)h||i.insert({filepath:A,oid:N.mergeResult.oid,stage:0});else if(y.push(A),x.push(A),!h){let j=await k.oid(),Y=await v.oid(),le=await E.oid();i.delete({filepath:A}),i.insert({filepath:A,oid:j,stage:1}),i.insert({filepath:A,oid:Y,stage:2}),i.insert({filepath:A,oid:le,stage:3})}return N.mergeResult});if(k&&!v&&E&&await k.type()==="blob"&&await E.type()==="blob"){if(y.push(A),_.push(A),!h){let N=await k.oid(),j=await E.oid();i.delete({filepath:A}),i.insert({filepath:A,oid:N,stage:1}),i.insert({filepath:A,oid:j,stage:3})}return{mode:await E.mode(),oid:await E.oid(),type:"blob",path:T}}if(k&&v&&!E&&await k.type()==="blob"&&await v.type()==="blob"){if(y.push(A),S.push(A),!h){let N=await k.oid(),j=await v.oid();i.delete({filepath:A}),i.insert({filepath:A,oid:N,stage:1}),i.insert({filepath:A,oid:j,stage:2})}return{mode:await v.mode(),oid:await v.oid(),type:"blob",path:T}}if(k&&!v&&!E&&await k.type()==="blob")return;throw new Bi}}},reduce:y.length!==0&&(!n||h)?void 0:async(A,v)=>{let k=v.filter(Boolean);if(A&&!(A&&A.type==="tree"&&k.length===0)){if(k.length>0){let T=new Lt(k).toObject(),M=await Vt({fs:e,gitdir:r,type:"tree",object:T,dryRun:f});A.oid=M}return A}}});return y.length!==0?(n&&!h&&await Gi({fs:e,cache:t,dir:n,gitdir:r,trees:[hr({ref:b.oid})],map:async function(A,[v]){let k=`${n}/${A}`;if(await v.type()==="blob"){let E=await v.mode(),T=new TextDecoder().decode(await v.content());await e.write(k,T,{mode:E})}return!0}}),new Ni(y,x,_,S)):b.oid}async function p8({fs:e,gitdir:t,path:n,ours:r,base:i,theirs:a,ourName:s,theirName:o,baseName:l,dryRun:c,mergeDriver:u=h8}){let f="blob",h=await i.mode()===await r.mode()?await a.mode():await r.mode();if(await r.oid()===await a.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:n,oid:await r.oid(),type:f}};if(await r.oid()===await i.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:n,oid:await a.oid(),type:f}};if(await a.oid()===await i.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:n,oid:await r.oid(),type:f}};let d=Buffer.from(await r.content()).toString("utf8"),p=Buffer.from(await i.content()).toString("utf8"),m=Buffer.from(await a.content()).toString("utf8"),{mergedText:g,cleanMerge:y}=await u({branches:[l,s,o],contents:[p,d,m],path:n}),x=await Vt({fs:e,gitdir:t,type:"blob",object:Buffer.from(g,"utf8"),dryRun:c});return{cleanMerge:y,mergeResult:{mode:h,path:n,oid:x,type:f}}}async function Py({fs:e,cache:t,dir:n,gitdir:r,ours:i,theirs:a,fastForward:s=!0,fastForwardOnly:o=!1,dryRun:l=!1,noUpdateBranch:c=!1,abortOnConflict:u=!0,message:f,author:h,committer:d,signingKey:p,onSign:m,mergeDriver:g}){i===void 0&&(i=await Kr({fs:e,gitdir:r,fullname:!0})),i=await q.expand({fs:e,gitdir:r,ref:i}),a=await q.expand({fs:e,gitdir:r,ref:a});let y=await q.resolve({fs:e,gitdir:r,ref:i}),x=await q.resolve({fs:e,gitdir:r,ref:a}),_=await Sh({fs:e,cache:t,gitdir:r,oids:[y,x]});if(_.length!==1)throw new Bi;let S=_[0];if(S===x)return{oid:y,alreadyMerged:!0};if(s&&S===y)return!l&&!c&&await q.writeRef({fs:e,gitdir:r,ref:i,value:x}),{oid:x,fastForward:!0};{if(o)throw new _s;let b=await ht.acquire({fs:e,gitdir:r,cache:t,allowUnmerged:!1},async v=>d8({fs:e,cache:t,dir:n,gitdir:r,index:v,ourOid:y,theirOid:x,baseOid:S,ourName:qr(i),baseName:"base",theirName:qr(a),dryRun:l,abortOnConflict:u,mergeDriver:g}));if(b instanceof Ni)throw b;return f||(f=`Merge branch '${qr(a)}' into ${qr(i)}`),{oid:await vl({fs:e,cache:t,gitdir:r,message:f,ref:i,tree:b,parent:[y,x],author:h,committer:d,signingKey:p,onSign:m,dryRun:l,noUpdateBranch:c}),tree:b,mergeCommit:!0}}}async function Oy({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,dir:l,gitdir:c,ref:u,url:f,remote:h,remoteRef:d,prune:p,pruneTags:m,fastForward:g,fastForwardOnly:y,corsProxy:x,singleBranch:_,headers:S,author:b,committer:A,signingKey:v}){try{if(!u){let T=await Kr({fs:e,gitdir:c});if(!T)throw new It("ref");u=T}let{fetchHead:k,fetchHeadDescription:E}=await _h({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,gitdir:c,corsProxy:x,ref:u,url:f,remote:h,remoteRef:d,singleBranch:_,headers:S,prune:p,pruneTags:m});await Py({fs:e,cache:t,gitdir:c,ours:u,theirs:k,fastForward:g,fastForwardOnly:y,message:`Merge ${E}`,author:b,committer:A,signingKey:v,dryRun:!1,noUpdateBranch:!1}),await xh({fs:e,cache:t,onProgress:r,dir:l,gitdir:c,ref:u,remote:h,noCheckout:!1})}catch(k){throw k.caller="git.pull",k}}async function m8({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l=B(o,".git"),ref:c,url:u,remote:f,remoteRef:h,corsProxy:d,singleBranch:p,headers:m={},cache:g={}}){try{F("fs",e),F("http",t),F("gitdir",l);let y={name:"",email:"",timestamp:Date.now(),timezoneOffset:0};return await Oy({fs:new Q(e),cache:g,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l,ref:c,url:u,remote:f,remoteRef:h,fastForwardOnly:!0,corsProxy:d,singleBranch:p,headers:m,author:y,committer:y})}catch(y){throw y.caller="git.fastForward",y}}async function g8({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l=B(o,".git"),ref:c,remote:u,remoteRef:f,url:h,corsProxy:d,depth:p=null,since:m=null,exclude:g=[],relative:y=!1,tags:x=!1,singleBranch:_=!1,headers:S={},prune:b=!1,pruneTags:A=!1,cache:v={}}){try{return F("fs",e),F("http",t),F("gitdir",l),await _h({fs:new Q(e),cache:v,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,gitdir:l,ref:c,remote:u,remoteRef:f,url:h,corsProxy:d,depth:p,since:m,exclude:g,relative:y,tags:x,singleBranch:_,headers:S,prune:b,pruneTags:A})}catch(k){throw k.caller="git.fetch",k}}async function y8({fs:e,dir:t,gitdir:n=B(t,".git"),oids:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oids",r),await Sh({fs:new Q(e),cache:i,gitdir:n,oids:r})}catch(a){throw a.caller="git.findMergeBase",a}}async function Ry({fs:e,filepath:t}){if(await e.exists(B(t,".git")))return t;{let n=ji(t);if(n===t)throw new Be(`git root for ${t}`);return Ry({fs:e,filepath:n})}}async function v8({fs:e,filepath:t}){try{return F("fs",e),F("filepath",t),await Ry({fs:new Q(e),filepath:t})}catch(n){throw n.caller="git.findRoot",n}}async function w8({fs:e,dir:t,gitdir:n=B(t,".git"),path:r}){try{return F("fs",e),F("gitdir",n),F("path",r),await Ps({fs:new Q(e),gitdir:n,path:r})}catch(i){throw i.caller="git.getConfig",i}}async function b8({fs:e,gitdir:t,path:n}){return(await qe.get({fs:e,gitdir:t})).getall(n)}async function x8({fs:e,dir:t,gitdir:n=B(t,".git"),path:r}){try{return F("fs",e),F("gitdir",n),F("path",r),await b8({fs:new Q(e),gitdir:n,path:r})}catch(i){throw i.caller="git.getConfigAll",i}}async function _8({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,url:a,headers:s={},forPush:o=!1}){try{F("http",e),F("url",a);let c=await qi.getRemoteHelperFor({url:a}).discover({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,headers:s,protocolVersion:1}),u={capabilities:[...c.capabilities]};for(let[f,h]of c.refs){let d=f.split("/"),p=d.pop(),m=u;for(let g of d)m[g]=m[g]||{},m=m[g];m[p]=h}for(let[f,h]of c.symrefs){let d=f.split("/"),p=d.pop(),m=u;for(let g of d)m[g]=m[g]||{},m=m[g];m[p]=h}return u}catch(l){throw l.caller="git.getRemoteInfo",l}}function Iy(e,t,n,r){let i=[];for(let[a,s]of e.refs){if(t&&!a.startsWith(t))continue;if(a.endsWith("^{}")){if(r){let l=a.replace("^{}",""),c=i[i.length-1],u=c.ref===l?c:i.find(f=>f.ref===l);if(u===void 0)throw new Error("I did not expect this to happen");u.peeled=s}continue}let o={ref:a,oid:s};n&&e.symrefs.has(a)&&(o.target=e.symrefs.get(a)),i.push(o)}return i}async function S8({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,url:a,headers:s={},forPush:o=!1,protocolVersion:l=2}){try{F("http",e),F("url",a);let u=await qi.getRemoteHelperFor({url:a}).discover({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,headers:s,protocolVersion:l});if(u.protocolVersion===2)return{protocolVersion:u.protocolVersion,capabilities:u.capabilities2};let f={};for(let h of u.capabilities){let[d,p]=h.split("=");p?f[d]=p:f[d]=!0}return{protocolVersion:1,capabilities:f,refs:Iy(u,void 0,!0,!0)}}catch(c){throw c.caller="git.getRemoteInfo2",c}}async function E8({type:e,object:t,format:n="content",oid:r=void 0}){return n!=="deflated"&&(n!=="wrapped"&&(t=pr.wrap({type:e,object:t})),r=await Wn(t)),{oid:r,object:t}}async function k8({object:e}){try{F("object",e),typeof e=="string"?e=Buffer.from(e,"utf8"):e=Buffer.from(e);let t="blob",{oid:n,object:r}=await E8({type:"blob",format:"content",object:e});return{oid:n,type:t,object:new Uint8Array(r),format:"wrapped"}}catch(t){throw t.caller="git.hashBlob",t}}async function A8({fs:e,cache:t,onProgress:n,dir:r,gitdir:i,filepath:a}){try{a=B(r,a);let s=await e.read(a),o=c=>Xe({fs:e,cache:t,gitdir:i,oid:c}),l=await ys.fromPack({pack:s,getExternalRefDelta:o,onProgress:n});return await e.write(a.replace(/\.pack$/,".idx"),await l.toBuffer()),{oids:[...l.hashes]}}catch(s){throw s.caller="git.indexPack",s}}async function C8({fs:e,onProgress:t,dir:n,gitdir:r=B(n,".git"),filepath:i,cache:a={}}){try{return F("fs",e),F("dir",n),F("gitdir",n),F("filepath",i),await A8({fs:new Q(e),cache:a,onProgress:t,dir:n,gitdir:r,filepath:i})}catch(s){throw s.caller="git.indexPack",s}}async function T8({fs:e,bare:t=!1,dir:n,gitdir:r=t?n:B(n,".git"),defaultBranch:i="master"}){try{return F("fs",e),F("gitdir",r),t||F("dir",n),await My({fs:new Q(e),bare:t,dir:n,gitdir:r,defaultBranch:i})}catch(a){throw a.caller="git.init",a}}async function Ly({fs:e,cache:t,gitdir:n,oid:r,ancestor:i,depth:a}){let s=await Zr.read({fs:e,gitdir:n});if(!r)throw new It("oid");if(!i)throw new It("ancestor");if(r===i)return!1;let o=[r],l=new Set,c=0;for(;o.length;){if(c++===a)throw new Es(a);let u=o.shift(),{type:f,object:h}=await Xe({fs:e,cache:t,gitdir:n,oid:u});if(f!=="commit")throw new Tt(u,f,"commit");let d=jt.from(h).parse();for(let p of d.parent)if(p===i)return!0;if(!s.has(u))for(let p of d.parent)l.has(p)||(o.push(p),l.add(p))}return!1}async function F8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,ancestor:i,depth:a=-1,cache:s={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),F("ancestor",i),await Ly({fs:new Q(e),cache:s,gitdir:n,oid:r,ancestor:i,depth:a})}catch(o){throw o.caller="git.isDescendent",o}}async function M8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r}){try{return F("fs",e),F("dir",t),F("gitdir",n),F("filepath",r),zi.isIgnored({fs:new Q(e),dir:t,gitdir:n,filepath:r})}catch(i){throw i.caller="git.isIgnored",i}}async function P8({fs:e,dir:t,gitdir:n=B(t,".git"),remote:r}){try{return F("fs",e),F("gitdir",n),q.listBranches({fs:new Q(e),gitdir:n,remote:r})}catch(i){throw i.caller="git.listBranches",i}}async function O8({fs:e,gitdir:t,ref:n,cache:r}){if(n){let i=await q.resolve({gitdir:t,fs:e,ref:n}),a=[];return await jy({fs:e,cache:r,gitdir:t,oid:i,filenames:a,prefix:""}),a}else return ht.acquire({fs:e,gitdir:t,cache:r},async function(i){return i.entries.map(a=>a.path)})}async function jy({fs:e,cache:t,gitdir:n,oid:r,filenames:i,prefix:a}){let{tree:s}=await Xi({fs:e,cache:t,gitdir:n,oid:r});for(let o of s)o.type==="tree"?await jy({fs:e,cache:t,gitdir:n,oid:o.oid,filenames:i,prefix:B(a,o.path)}):i.push(B(a,o.path))}async function R8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),await O8({fs:new Q(e),cache:i,gitdir:n,ref:r})}catch(a){throw a.caller="git.listFiles",a}}async function I8({fs:e,cache:t,gitdir:n,ref:r}){let i;try{i=await q.resolve({gitdir:n,fs:e,ref:r})}catch(o){if(o instanceof Be)return[]}return(await Xi({fs:e,cache:t,gitdir:n,oid:i})).tree.map(o=>({target:o.path,note:o.oid}))}async function L8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r="refs/notes/commits",cache:i={}}){try{return F("fs",e),F("gitdir",n),F("ref",r),await I8({fs:new Q(e),cache:i,gitdir:n,ref:r})}catch(a){throw a.caller="git.listNotes",a}}async function j8({fs:e,gitdir:t}){let n=await qe.get({fs:e,gitdir:t}),r=await n.getSubsections("remote");return Promise.all(r.map(async a=>{let s=await n.get(`remote.${a}.url`);return{remote:a,url:s}}))}async function D8({fs:e,dir:t,gitdir:n=B(t,".git")}){try{return F("fs",e),F("gitdir",n),await j8({fs:new Q(e),gitdir:n})}catch(r){throw r.caller="git.listRemotes",r}}async function B8(e){let t=We.streamReader(e),n=[],r;for(;r=await t(),r!==!0;){if(r===null)continue;r=r.toString("utf8").replace(/\n$/,"");let[i,a,...s]=r.split(" "),o={ref:a,oid:i};for(let l of s){let[c,u]=l.split(":");c==="symref-target"?o.target=u:c==="peeled"&&(o.peeled=u)}n.push(o)}return n}async function N8({prefix:e,symrefs:t,peelTags:n}){let r=[];return r.push(We.encode(`command=ls-refs
`)),r.push(We.encode(`agent=${wl.agent}
`)),(n||t||e)&&r.push(We.delim()),n&&r.push(We.encode("peel")),t&&r.push(We.encode("symrefs")),e&&r.push(We.encode(`ref-prefix ${e}`)),r.push(We.flush()),r}async function $8({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,url:a,headers:s={},forPush:o=!1,protocolVersion:l=2,prefix:c,symrefs:u,peelTags:f}){try{F("http",e),F("url",a);let h=await Wi.discover({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,headers:s,protocolVersion:l});if(h.protocolVersion===1)return Iy(h,c,u,f);let d=await N8({prefix:c,symrefs:u,peelTags:f}),p=await Wi.connect({http:e,auth:h.auth,headers:s,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,body:d});return B8(p.body)}catch(h){throw h.caller="git.listServerRefs",h}}async function H8({fs:e,dir:t,gitdir:n=B(t,".git")}){try{return F("fs",e),F("gitdir",n),q.listTags({fs:new Q(e),gitdir:n})}catch(r){throw r.caller="git.listTags",r}}function U8(e,t){return e.committer.timestamp-t.committer.timestamp}var G8="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";async function ly({fs:e,cache:t,gitdir:n,oid:r,fileId:i}){if(i===G8)return;let a=r,s,o=await Ui({fs:e,cache:t,gitdir:n,oid:r}),l=o.tree;return i===o.oid?s=o.path:(s=await Dy({fs:e,cache:t,gitdir:n,tree:l,fileId:i,oid:a}),Array.isArray(s)&&(s.length===0?s=void 0:s.length===1&&(s=s[0]))),s}async function Dy({fs:e,cache:t,gitdir:n,tree:r,fileId:i,oid:a,filepaths:s=[],parentPath:o=""}){let l=r.entries().map(function(c){let u;return c.oid===i?(u=B(o,c.path),s.push(u)):c.type==="tree"&&(u=Xe({fs:e,cache:t,gitdir:n,oid:c.oid}).then(function({object:f}){return Dy({fs:e,cache:t,gitdir:n,tree:Lt.from(f),fileId:i,oid:a,filepaths:s,parentPath:B(o,c.path)})})),u});return await Promise.all(l),s}async function z8({fs:e,cache:t,gitdir:n,filepath:r,ref:i,depth:a,since:s,force:o,follow:l}){let c=typeof s=="undefined"?void 0:Math.floor(s.valueOf()/1e3),u=[],f=await Zr.read({fs:e,gitdir:n}),h=await q.resolve({fs:e,gitdir:n,ref:i}),d=[await ul({fs:e,cache:t,gitdir:n,oid:h})],p,m,g;function y(x){g&&r&&u.push(x)}for(;d.length>0;){let x=d.pop();if(c!==void 0&&x.commit.committer.timestamp<=c)break;if(r){let _;try{_=await Rs({fs:e,cache:t,gitdir:n,oid:x.commit.tree,filepath:r}),m&&p!==_&&u.push(m),p=_,m=x,g=!0}catch(S){if(S instanceof Be){let b=l&&p;if(b&&(b=await ly({fs:e,cache:t,gitdir:n,oid:x.commit.tree,fileId:p}),b))if(Array.isArray(b)){if(m){let A=await ly({fs:e,cache:t,gitdir:n,oid:m.commit.tree,fileId:p});if(Array.isArray(A))if(b=b.filter(v=>A.indexOf(v)===-1),b.length===1)b=b[0],r=b,m&&u.push(m);else{b=!1,m&&u.push(m);break}}}else r=b,m&&u.push(m);if(!b){if(g&&p&&(u.push(m),!o))break;if(!o&&!l)throw S}m=x,g=!1}else throw S}}else u.push(x);if(a!==void 0&&u.length===a){y(x);break}if(!f.has(x.oid))for(let _ of x.commit.parent){let S=await ul({fs:e,cache:t,gitdir:n,oid:_});d.map(b=>b.oid).includes(S.oid)||d.push(S)}d.length===0&&y(x),d.sort((_,S)=>U8(_.commit,S.commit))}return u}async function V8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,ref:i="HEAD",depth:a,since:s,force:o,follow:l,cache:c={}}){try{return F("fs",e),F("gitdir",n),F("ref",i),await z8({fs:new Q(e),cache:c,gitdir:n,filepath:r,ref:i,depth:a,since:s,force:o,follow:l})}catch(u){throw u.caller="git.log",u}}async function W8({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ours:i,theirs:a,fastForward:s=!0,fastForwardOnly:o=!1,dryRun:l=!1,noUpdateBranch:c=!1,abortOnConflict:u=!0,message:f,author:h,committer:d,signingKey:p,cache:m={},mergeDriver:g}){try{F("fs",e),p&&F("onSign",t);let y=new Q(e),x=await Yr({fs:y,gitdir:r,author:h});if(!x&&(!o||!s))throw new Ft("author");let _=await Vi({fs:y,gitdir:r,author:x,committer:d});if(!_&&(!o||!s))throw new Ft("committer");return await Py({fs:y,cache:m,dir:n,gitdir:r,ours:i,theirs:a,fastForward:s,fastForwardOnly:o,dryRun:l,noUpdateBranch:c,abortOnConflict:u,message:f,author:x,committer:_,signingKey:p,onSign:t,mergeDriver:g})}catch(y){throw y.caller="git.merge",y}}var q8={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function By({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),oids:i}){let a=new vh.default,s=[];function o(u,f){let h=Buffer.from(u,f);s.push(h),a.update(h)}async function l({stype:u,object:f}){let h=q8[u],d=f.length,p=d>15?128:0,m=d&15;d=d>>>4;let g=(p|h|m).toString(16);for(o(g,"hex");p;)p=d>127?128:0,g=p|d&127,o(yh(2,g),"hex"),d=d>>>7;o(Buffer.from(await by(f)))}o("PACK"),o("00000002","hex"),o(yh(8,i.length),"hex");for(let u of i){let{type:f,object:h}=await Xe({fs:e,cache:t,gitdir:r,oid:u});await l({write:o,object:h,stype:f})}let c=a.digest();return s.push(c),s}async function X8({fs:e,cache:t,gitdir:n,oids:r,write:i}){let a=await By({fs:e,cache:t,gitdir:n,oids:r}),s=Buffer.from(await fl(a)),l=`pack-${s.slice(-20).toString("hex")}.pack`;return i?(await e.write(B(n,`objects/pack/${l}`),s),{filename:l}):{filename:l,packfile:new Uint8Array(s)}}async function Y8({fs:e,dir:t,gitdir:n=B(t,".git"),oids:r,write:i=!1,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("oids",r),await X8({fs:new Q(e),cache:a,gitdir:n,oids:r,write:i})}catch(s){throw s.caller="git.packObjects",s}}async function Z8({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l=B(o,".git"),ref:c,url:u,remote:f,remoteRef:h,prune:d=!1,pruneTags:p=!1,fastForward:m=!0,fastForwardOnly:g=!1,corsProxy:y,singleBranch:x,headers:_={},author:S,committer:b,signingKey:A,cache:v={}}){try{F("fs",e),F("gitdir",l);let k=new Q(e),E=await Yr({fs:k,gitdir:l,author:S});if(!E)throw new Ft("author");let T=await Vi({fs:k,gitdir:l,author:E,committer:b});if(!T)throw new Ft("committer");return await Oy({fs:k,cache:v,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l,ref:c,url:u,remote:f,remoteRef:h,fastForward:m,fastForwardOnly:g,corsProxy:y,singleBranch:x,headers:_,author:E,committer:T,signingKey:A,prune:d,pruneTags:p})}catch(k){throw k.caller="git.pull",k}}async function K8({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),start:i,finish:a}){let s=await Zr.read({fs:e,gitdir:r}),o=new Set,l=new Set;for(let f of i)o.add(await q.resolve({fs:e,gitdir:r,ref:f}));for(let f of a)try{let h=await q.resolve({fs:e,gitdir:r,ref:f});l.add(h)}catch(h){}let c=new Set;async function u(f){c.add(f);let{type:h,object:d}=await Xe({fs:e,cache:t,gitdir:r,oid:f});if(h==="tag"){let m=zt.from(d).headers().object;return u(m)}if(h!=="commit")throw new Tt(f,h,"commit");if(!s.has(f)){let m=jt.from(d).headers().parent;for(f of m)!l.has(f)&&!c.has(f)&&await u(f)}}for(let f of o)await u(f);return c}async function ah({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),oids:i}){let a=new Set;async function s(o){if(a.has(o))return;a.add(o);let{type:l,object:c}=await Xe({fs:e,cache:t,gitdir:r,oid:o});if(l==="tag"){let f=zt.from(c).headers().object;await s(f)}else if(l==="commit"){let f=jt.from(c).headers().tree;await s(f)}else if(l==="tree"){let u=Lt.from(c);for(let f of u)f.type==="blob"&&a.add(f.oid),f.type==="tree"&&await s(f.oid)}}for(let o of i)await s(o);return a}async function J8(e){let t={},n="",r=We.streamReader(e),i=await r();for(;i!==!0;)i!==null&&(n+=i.toString("utf8")+`
`),i=await r();let a=n.toString("utf8").split(`
`);if(i=a.shift(),!i.startsWith("unpack "))throw new Xr('unpack ok" or "unpack [error message]',i);t.ok=i==="unpack ok",t.ok||(t.error=i.slice(7)),t.refs={};for(let s of a){if(s.trim()==="")continue;let o=s.slice(0,2),l=s.slice(3),c=l.indexOf(" ");c===-1&&(c=l.length);let u=l.slice(0,c),f=l.slice(c+1);t.refs[u]={ok:o==="ok",error:f}}return t}async function Q8({capabilities:e=[],triplets:t=[]}){let n=[],r=`\0 ${e.join(" ")}`;for(let i of t)n.push(We.encode(`${i.oldoid} ${i.oid} ${i.fullRef}${r}
`)),r="";return n.push(We.flush()),n}async function e4({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,onPrePush:l,gitdir:c,ref:u,remoteRef:f,remote:h,url:d,force:p=!1,delete:m=!1,corsProxy:g,headers:y={}}){let x=u||await Kr({fs:e,gitdir:c});if(typeof x=="undefined")throw new It("ref");let _=await qe.get({fs:e,gitdir:c});h=h||await _.get(`branch.${x}.pushRemote`)||await _.get("remote.pushDefault")||await _.get(`branch.${x}.remote`)||"origin";let S=d||await _.get(`remote.${h}.pushurl`)||await _.get(`remote.${h}.url`);if(typeof S=="undefined")throw new It("remote OR url");let b=f||await _.get(`branch.${x}.merge`);if(typeof S=="undefined")throw new It("remoteRef");g===void 0&&(g=await _.get("http.corsProxy"));let A=await q.expand({fs:e,gitdir:c,ref:x}),v=m?"0000000000000000000000000000000000000000":await q.resolve({fs:e,gitdir:c,ref:A}),k=qi.getRemoteHelperFor({url:S}),E=await k.discover({http:n,onAuth:a,onAuthSuccess:s,onAuthFailure:o,corsProxy:g,service:"git-receive-pack",url:S,headers:y,protocolVersion:1}),T=E.auth,M;if(!b)M=A;else try{M=await q.expandAgainstMap({ref:b,map:E.refs})}catch(V){if(V instanceof Be)M=b.startsWith("refs/")?b:`refs/heads/${b}`;else throw V}let L=E.refs.get(M)||"0000000000000000000000000000000000000000";if(l&&!await l({remote:h,url:S,localRef:{ref:m?"(delete)":A,oid:v},remoteRef:{ref:M,oid:L}}))throw new Hi;let N=!E.capabilities.has("no-thin"),j=new Set;if(!m){let V=[...E.refs.values()],D=new Set;if(L!=="0000000000000000000000000000000000000000"){let se=await Sh({fs:e,cache:t,gitdir:c,oids:[v,L]});for(let Ae of se)V.push(Ae);N&&(D=await ah({fs:e,cache:t,gitdir:c,oids:se}))}if(!V.includes(v)){let se=await K8({fs:e,cache:t,gitdir:c,start:[v],finish:V});j=await ah({fs:e,cache:t,gitdir:c,oids:se})}if(N){try{let se=await q.resolve({fs:e,gitdir:c,ref:`refs/remotes/${h}/HEAD`,depth:2}),{oid:Ae}=await q.resolveAgainstMap({ref:se.replace(`refs/remotes/${h}/`,""),fullref:se,map:E.refs}),wt=[Ae];for(let _e of await ah({fs:e,cache:t,gitdir:c,oids:wt}))D.add(_e)}catch(se){}for(let se of D)j.delete(se)}if(v===L&&(p=!0),!p){if(A.startsWith("refs/tags")&&L!=="0000000000000000000000000000000000000000")throw new $i("tag-exists");if(v!=="0000000000000000000000000000000000000000"&&L!=="0000000000000000000000000000000000000000"&&!await Ly({fs:e,cache:t,gitdir:c,oid:v,ancestor:L,depth:-1}))throw new $i("not-fast-forward")}}let Y=Ty([...E.capabilities],["report-status","side-band-64k",`agent=${wl.agent}`]),le=await Q8({capabilities:Y,triplets:[{oldoid:L,oid:v,fullRef:M}]}),fe=m?[]:await By({fs:e,cache:t,gitdir:c,oids:[...j]}),ae=await k.connect({http:n,onProgress:r,corsProxy:g,service:"git-receive-pack",url:S,auth:T,headers:y,body:[...le,...fe]}),{packfile:Re,progress:he}=await hl.demux(ae.body);if(i){let V=Fy(he);Is(V,async D=>{await i(D)})}let $=await J8(Re);if(ae.headers&&($.headers=ae.headers),h&&$.ok&&$.refs[M].ok&&!A.startsWith("refs/tags")){let V=`refs/remotes/${h}/${M.replace("refs/heads","")}`;m?await q.deleteRef({fs:e,gitdir:c,ref:V}):await q.writeRef({fs:e,gitdir:c,ref:V,value:v})}if($.ok&&Object.values($.refs).every(V=>V.ok))return $;{let V=Object.entries($.refs).filter(([D,se])=>!se.ok).map(([D,se])=>`
  - ${D}: ${se.error}`).join("");throw new Ss(V,$)}}async function t4({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPrePush:o,dir:l,gitdir:c=B(l,".git"),ref:u,remoteRef:f,remote:h="origin",url:d,force:p=!1,delete:m=!1,corsProxy:g,headers:y={},cache:x={}}){try{return F("fs",e),F("http",t),F("gitdir",c),await e4({fs:new Q(e),cache:x,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPrePush:o,gitdir:c,ref:u,remoteRef:f,remote:h,url:d,force:p,delete:m,corsProxy:g,headers:y})}catch(_){throw _.caller="git.push",_}}async function Ny({fs:e,cache:t,gitdir:n,oid:r}){let{type:i,object:a}=await Xe({fs:e,cache:t,gitdir:n,oid:r});if(i==="tag")return r=zt.from(a).parse().object,Ny({fs:e,cache:t,gitdir:n,oid:r});if(i!=="blob")throw new Tt(r,i,"blob");return{oid:r,blob:new Uint8Array(a)}}async function $y({fs:e,cache:t,gitdir:n,oid:r,filepath:i=void 0}){return i!==void 0&&(r=await Rs({fs:e,cache:t,gitdir:n,oid:r,filepath:i})),await Ny({fs:e,cache:t,gitdir:n,oid:r})}async function Ls({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,filepath:i,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await $y({fs:new Q(e),cache:a,gitdir:n,oid:r,filepath:i})}catch(s){throw s.caller="git.readBlob",s}}async function n4({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await ul({fs:new Q(e),cache:i,gitdir:n,oid:r})}catch(a){throw a.caller="git.readCommit",a}}async function r4({fs:e,cache:t,gitdir:n,ref:r="refs/notes/commits",oid:i}){let a=await q.resolve({gitdir:n,fs:e,ref:r}),{blob:s}=await $y({fs:e,cache:t,gitdir:n,oid:a,filepath:i});return s}async function i4({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r="refs/notes/commits",oid:i,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("ref",r),F("oid",i),await r4({fs:new Q(e),cache:a,gitdir:n,ref:r,oid:i})}catch(s){throw s.caller="git.readNote",s}}async function a4({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,format:i="parsed",filepath:a=void 0,encoding:s=void 0,cache:o={}}){try{F("fs",e),F("gitdir",n),F("oid",r);let l=new Q(e);a!==void 0&&(r=await Rs({fs:l,cache:o,gitdir:n,oid:r,filepath:a}));let u=await Xe({fs:l,cache:o,gitdir:n,oid:r,format:i==="parsed"?"content":i});if(u.oid=r,i==="parsed")switch(u.format="parsed",u.type){case"commit":u.object=jt.from(u.object).parse();break;case"tree":u.object=Lt.from(u.object).entries();break;case"blob":s?u.object=u.object.toString(s):(u.object=new Uint8Array(u.object),u.format="content");break;case"tag":u.object=zt.from(u.object).parse();break;default:throw new Tt(u.oid,u.type,"blob|commit|tag|tree")}else(u.format==="deflated"||u.format==="wrapped")&&(u.type=u.format);return u}catch(l){throw l.caller="git.readObject",l}}async function s4({fs:e,cache:t,gitdir:n,oid:r}){let{type:i,object:a}=await Xe({fs:e,cache:t,gitdir:n,oid:r,format:"content"});if(i!=="tag")throw new Tt(r,i,"tag");let s=zt.from(a);return{oid:r,tag:s.parse(),payload:s.payload()}}async function o4({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await s4({fs:new Q(e),cache:i,gitdir:n,oid:r})}catch(a){throw a.caller="git.readTag",a}}async function l4({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,filepath:i=void 0,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await Xi({fs:new Q(e),cache:a,gitdir:n,oid:r,filepath:i})}catch(s){throw s.caller="git.readTree",s}}async function c4({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,cache:i={}}){try{F("fs",e),F("gitdir",n),F("filepath",r),await ht.acquire({fs:new Q(e),gitdir:n,cache:i},async function(a){a.delete({filepath:r})})}catch(a){throw a.caller="git.remove",a}}async function u4({fs:e,cache:t,onSign:n,gitdir:r,ref:i="refs/notes/commits",oid:a,author:s,committer:o,signingKey:l}){let c;try{c=await q.resolve({gitdir:r,fs:e,ref:i})}catch(p){if(!(p instanceof Be))throw p}let f=(await Xi({fs:e,gitdir:r,oid:c||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;f=f.filter(p=>p.path!==a);let h=await bh({fs:e,gitdir:r,tree:f});return await vl({fs:e,cache:t,onSign:n,gitdir:r,ref:i,tree:h,parent:c&&[c],message:`Note removed by 'isomorphic-git removeNote'
`,author:s,committer:o,signingKey:l})}async function f4({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ref:i="refs/notes/commits",oid:a,author:s,committer:o,signingKey:l,cache:c={}}){try{F("fs",e),F("gitdir",r),F("oid",a);let u=new Q(e),f=await Yr({fs:u,gitdir:r,author:s});if(!f)throw new Ft("author");let h=await Vi({fs:u,gitdir:r,author:f,committer:o});if(!h)throw new Ft("committer");return await u4({fs:u,cache:c,onSign:t,gitdir:r,ref:i,oid:a,author:f,committer:h,signingKey:l})}catch(u){throw u.caller="git.removeNote",u}}async function h4({fs:e,gitdir:t,oldref:n,ref:r,checkout:i=!1}){if(r!==pn.default.clean(r))throw new qn(r,pn.default.clean(r));if(n!==pn.default.clean(n))throw new qn(n,pn.default.clean(n));let a=`refs/heads/${n}`,s=`refs/heads/${r}`;if(await q.exists({fs:e,gitdir:t,ref:s}))throw new mn("branch",r,!1);let l=await q.resolve({fs:e,gitdir:t,ref:a,depth:1});await q.writeRef({fs:e,gitdir:t,ref:s,value:l}),await q.deleteRef({fs:e,gitdir:t,ref:a});let u=await Kr({fs:e,gitdir:t,fullname:!0})===a;(i||u)&&await q.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function d4({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,oldref:i,checkout:a=!1}){try{return F("fs",e),F("gitdir",n),F("ref",r),F("oldref",i),await h4({fs:new Q(e),gitdir:n,ref:r,oldref:i,checkout:a})}catch(s){throw s.caller="git.renameBranch",s}}async function Hy({gitdir:e,type:t,object:n}){return Wn(pr.wrap({type:t,object:n}))}async function p4({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,ref:i,cache:a={}}){try{F("fs",e),F("gitdir",n),F("filepath",r);let s=new Q(e),o,l;try{o=await q.resolve({fs:s,gitdir:n,ref:i||"HEAD"})}catch(f){if(i)throw f}if(o)try{o=await Rs({fs:s,cache:a,gitdir:n,oid:o,filepath:r})}catch(f){o=null}let c={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0},u=t&&await s.read(B(t,r));u&&(l=await Hy({gitdir:n,type:"blob",object:u}),o===l&&(c=await s.lstat(B(t,r)))),await ht.acquire({fs:s,gitdir:n,cache:a},async function(f){f.delete({filepath:r}),o&&f.insert({filepath:r,stats:c,oid:o})})}catch(s){throw s.caller="git.reset",s}}async function m4({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,depth:i}){try{return F("fs",e),F("gitdir",n),F("ref",r),await q.resolve({fs:new Q(e),gitdir:n,ref:r,depth:i})}catch(a){throw a.caller="git.resolveRef",a}}async function g4({fs:e,dir:t,gitdir:n=B(t,".git"),path:r,value:i,append:a=!1}){try{F("fs",e),F("gitdir",n),F("path",r);let s=new Q(e),o=await qe.get({fs:s,gitdir:n});a?await o.append(r,i):await o.set(r,i),await qe.save({fs:s,gitdir:n,config:o})}catch(s){throw s.caller="git.setConfig",s}}async function y4({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,cache:i={}}){try{F("fs",e),F("gitdir",n),F("filepath",r);let a=new Q(e);if(await zi.isIgnored({fs:a,gitdir:n,dir:t,filepath:r}))return"ignored";let o=await v4({fs:a,cache:i,gitdir:n}),l=await Uy({fs:a,cache:i,gitdir:n,tree:o,path:r}),c=await ht.acquire({fs:a,gitdir:n,cache:i},async function(m){for(let g of m)if(g.path===r)return g;return null}),u=await a.lstat(B(t,r)),f=l!==null,h=c!==null,d=u!==null,p=async()=>{if(h&&!rl(c,u))return c.oid;{let m=await a.read(B(t,r)),g=await Hy({gitdir:n,type:"blob",object:m});return h&&c.oid===g&&u.size!==-1&&ht.acquire({fs:a,gitdir:n,cache:i},async function(y){y.insert({filepath:r,stats:u,oid:g})}),g}};if(!f&&!d&&!h)return"absent";if(!f&&!d&&h)return"*absent";if(!f&&d&&!h)return"*added";if(!f&&d&&h)return await p()===c.oid?"added":"*added";if(f&&!d&&!h)return"deleted";if(f&&!d&&h)return l===c.oid,"*deleted";if(f&&d&&!h)return await p()===l?"*undeleted":"*undeletemodified";if(f&&d&&h){let m=await p();return m===l?m===c.oid?"unmodified":"*unmodified":m===c.oid?"modified":"*modified"}}catch(a){throw a.caller="git.status",a}}async function Uy({fs:e,cache:t,gitdir:n,tree:r,path:i}){typeof i=="string"&&(i=i.split("/"));let a=i.shift();for(let s of r)if(s.path===a){if(i.length===0)return s.oid;let{type:o,object:l}=await Xe({fs:e,cache:t,gitdir:n,oid:s.oid});if(o==="tree"){let c=Lt.from(l);return Uy({fs:e,cache:t,gitdir:n,tree:c,path:i})}if(o==="blob")throw new Tt(s.oid,o,"blob",i.join("/"))}return null}async function v4({fs:e,cache:t,gitdir:n}){let r;try{r=await q.resolve({fs:e,gitdir:n,ref:"HEAD"})}catch(a){if(a instanceof Be)return[]}let{tree:i}=await Xi({fs:e,cache:t,gitdir:n,oid:r});return i}async function w4({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r="HEAD",filepaths:i=["."],filter:a,cache:s={},ignored:o=!1}){try{F("fs",e),F("gitdir",n),F("ref",r);let l=new Q(e);return await Gi({fs:l,cache:s,dir:t,gitdir:n,trees:[hr({ref:r}),yl(),gl()],map:async function(c,[u,f,h]){if(!u&&!h&&f&&!o&&await zi.isIgnored({fs:l,dir:t,filepath:c})||!i.some(A=>Ay(c,A)))return null;if(a&&!a(c))return;let[d,p,m]=await Promise.all([u&&u.type(),f&&f.type(),h&&h.type()]),g=[d,p,m].includes("blob");if((d==="tree"||d==="special")&&!g)return;if(d==="commit")return null;if((p==="tree"||p==="special")&&!g)return;if(m==="commit")return null;if((m==="tree"||m==="special")&&!g)return;let y=d==="blob"?await u.oid():void 0,x=m==="blob"?await h.oid():void 0,_;d!=="blob"&&p==="blob"&&m!=="blob"?_="42":p==="blob"&&(_=await f.oid());let S=[void 0,y,_,x],b=S.map(A=>S.indexOf(A));return b.shift(),[c,...b]}})}catch(l){throw l.caller="git.statusMatrix",l}}async function b4({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,object:i,force:a=!1}){try{F("fs",e),F("gitdir",n),F("ref",r);let s=new Q(e);if(r===void 0)throw new It("ref");r=r.startsWith("refs/tags/")?r:`refs/tags/${r}`;let o=await q.resolve({fs:s,gitdir:n,ref:i||"HEAD"});if(!a&&await q.exists({fs:s,gitdir:n,ref:r}))throw new mn("tag",r);await q.writeRef({fs:s,gitdir:n,ref:r,value:o})}catch(s){throw s.caller="git.tag",s}}async function x4({fs:e,dir:t,gitdir:n=B(t,".git"),cache:r={},filepath:i,oid:a,mode:s,add:o,remove:l,force:c}){try{F("fs",e),F("gitdir",n),F("filepath",i);let u=new Q(e);if(l)return await ht.acquire({fs:u,gitdir:n,cache:r},async function(h){let d;if(!c&&(d=await u.lstat(B(t,i)),d)){if(d.isDirectory())throw new mr("directory");return}h.has({filepath:i})&&h.delete({filepath:i})});let f;if(!a){if(f=await u.lstat(B(t,i)),!f)throw new Be(`file at "${i}" on disk and "remove" not set`);if(f.isDirectory())throw new mr("directory")}return await ht.acquire({fs:u,gitdir:n,cache:r},async function(h){if(!o&&!h.has({filepath:i}))throw new Be(`file at "${i}" in index and "add" not set`);let d={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:s,uid:0,gid:0,size:0};if(!a){d=f;let p=d.isSymbolicLink()?await u.readlink(B(t,i)):await u.read(B(t,i));a=await Vt({fs:u,gitdir:n,type:"blob",format:"content",object:p})}return h.insert({filepath:i,oid:a,stats:d}),a})}catch(u){throw u.caller="git.updateIndex",u}}function _4(){try{return wl.version}catch(e){throw e.caller="git.version",e}}async function S4({fs:e,dir:t,gitdir:n=B(t,".git"),trees:r,map:i,reduce:a,iterate:s,cache:o={}}){try{return F("fs",e),F("gitdir",n),F("trees",r),await Gi({fs:new Q(e),cache:o,dir:t,gitdir:n,trees:r,map:i,reduce:a,iterate:s})}catch(l){throw l.caller="git.walk",l}}async function E4({fs:e,dir:t,gitdir:n=B(t,".git"),blob:r}){try{return F("fs",e),F("gitdir",n),F("blob",r),await Vt({fs:new Q(e),gitdir:n,type:"blob",object:r,format:"content"})}catch(i){throw i.caller="git.writeBlob",i}}async function k4({fs:e,gitdir:t,commit:n}){let r=jt.from(n).toObject();return await Vt({fs:e,gitdir:t,type:"commit",object:r,format:"content"})}async function A4({fs:e,dir:t,gitdir:n=B(t,".git"),commit:r}){try{return F("fs",e),F("gitdir",n),F("commit",r),await k4({fs:new Q(e),gitdir:n,commit:r})}catch(i){throw i.caller="git.writeCommit",i}}async function C4({fs:e,dir:t,gitdir:n=B(t,".git"),type:r,object:i,format:a="parsed",oid:s,encoding:o=void 0}){try{let l=new Q(e);if(a==="parsed"){switch(r){case"commit":i=jt.from(i).toObject();break;case"tree":i=Lt.from(i).toObject();break;case"blob":i=Buffer.from(i,o);break;case"tag":i=zt.from(i).toObject();break;default:throw new Tt(s||"",r,"blob|commit|tag|tree")}a="content"}return s=await Vt({fs:l,gitdir:n,type:r,object:i,oid:s,format:a}),s}catch(l){throw l.caller="git.writeObject",l}}async function T4({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,value:i,force:a=!1,symbolic:s=!1}){try{F("fs",e),F("gitdir",n),F("ref",r),F("value",i);let o=new Q(e);if(r!==pn.default.clean(r))throw new qn(r,pn.default.clean(r));if(!a&&await q.exists({fs:o,gitdir:n,ref:r}))throw new mn("ref",r);s?await q.writeSymbolicRef({fs:o,gitdir:n,ref:r,value:i}):(i=await q.resolve({fs:o,gitdir:n,ref:i}),await q.writeRef({fs:o,gitdir:n,ref:r,value:i}))}catch(o){throw o.caller="git.writeRef",o}}async function F4({fs:e,gitdir:t,tag:n}){let r=zt.from(n).toObject();return await Vt({fs:e,gitdir:t,type:"tag",object:r,format:"content"})}async function M4({fs:e,dir:t,gitdir:n=B(t,".git"),tag:r}){try{return F("fs",e),F("gitdir",n),F("tag",r),await F4({fs:new Q(e),gitdir:n,tag:r})}catch(i){throw i.caller="git.writeTag",i}}async function P4({fs:e,dir:t,gitdir:n=B(t,".git"),tree:r}){try{return F("fs",e),F("gitdir",n),F("tree",r),await bh({fs:new Q(e),gitdir:n,tree:r})}catch(i){throw i.caller="git.writeTree",i}}var O4={Errors:Os,STAGE:gl,TREE:hr,WORKDIR:yl,add:P6,abortMerge:A6,addNote:R6,addRemote:I6,annotatedTag:j6,branch:B6,checkout:$6,clone:K6,commit:J6,getConfig:w8,getConfigAll:x8,setConfig:g4,currentBranch:Q6,deleteBranch:t8,deleteRef:n8,deleteRemote:i8,deleteTag:s8,expandOid:u8,expandRef:f8,fastForward:m8,fetch:g8,findMergeBase:y8,findRoot:v8,getRemoteInfo:_8,getRemoteInfo2:S8,hashBlob:k8,indexPack:C8,init:T8,isDescendent:F8,isIgnored:M8,listBranches:P8,listFiles:R8,listNotes:L8,listRemotes:D8,listServerRefs:$8,listTags:H8,log:V8,merge:W8,packObjects:Y8,pull:Z8,push:t4,readBlob:Ls,readCommit:n4,readNote:i4,readObject:a4,readTag:o4,readTree:l4,remove:c4,removeNote:f4,renameBranch:d4,resetIndex:p4,updateIndex:x4,resolveRef:m4,status:y4,statusMatrix:w4,tag:b4,version:_4,walk:S4,writeBlob:E4,writeCommit:A4,writeObject:C4,writeRef:T4,writeTag:M4,writeTree:P4},ie=O4;var ke=require("obsidian");w();var li=require("obsidian");w();var Hp=require("child_process"),TE=Ze(_l()),Qn=Ze(require("fs/promises")),Jn=require("obsidian"),Ge=Ze(require("path")),oo=require("path");w();var jl=Ze(Xy(),1),Ol=Ze(_l(),1),bw=require("child_process"),r2=Ze(kh(),1),Qi=Ze(kh(),1),F2=require("node:events"),Il=Object.defineProperty,K4=Object.defineProperties,J4=Object.getOwnPropertyDescriptor,Q4=Object.getOwnPropertyDescriptors,Vh=Object.getOwnPropertyNames,Yy=Object.getOwnPropertySymbols,Tv=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,Zy=(e,t,n)=>t in e?Il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rn=(e,t)=>{for(var n in t||(t={}))Tv.call(t,n)&&Zy(e,n,t[n]);if(Yy)for(var n of Yy(t))eF.call(t,n)&&Zy(e,n,t[n]);return e},Bs=(e,t)=>K4(e,Q4(t)),W=(e,t)=>function(){return e&&(t=(0,e[Vh(e)[0]])(e=0)),t},tF=(e,t)=>function(){return t||(0,e[Vh(e)[0]])((t={exports:{}}).exports,t),t.exports},nt=(e,t)=>{for(var n in t)Il(e,n,{get:t[n],enumerable:!0})},nF=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vh(t))!Tv.call(e,i)&&i!==n&&Il(e,i,{get:()=>t[i],enumerable:!(r=J4(t,i))||r.enumerable});return e},Ke=e=>nF(Il({},"__esModule",{value:!0}),e),Ds=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(c){i(c)}},s=l=>{try{o(n.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(e,t)).next())});function rF(...e){let t=new String(e);return Ll.set(t,e),t}function Ml(e){return e instanceof String&&Ll.has(e)}function Ky(e){return Ll.get(e)||[]}var Ll,Us=W({"src/lib/args/pathspec.ts"(){"use strict";Ll=new WeakMap}}),Yt,yr=W({"src/lib/errors/git-error.ts"(){"use strict";Yt=class extends Error{constructor(e,t){super(t),this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),Gs,ta=W({"src/lib/errors/git-response-error.ts"(){"use strict";yr(),Gs=class extends Yt{constructor(e,t){super(void 0,t||String(e)),this.git=e}}}}),Fv,Mv=W({"src/lib/errors/task-configuration-error.ts"(){"use strict";yr(),Fv=class extends Yt{constructor(e){super(void 0,e)}}}});function Pv(e){return typeof e=="function"?e:ni}function Ov(e){return typeof e=="function"&&e!==ni}function Rv(e,t){let n=e.indexOf(t);return n<=0?[e,""]:[e.substr(0,n),e.substr(n+1)]}function Iv(e,t=0){return Lv(e)&&e.length>t?e[t]:void 0}function ti(e,t=0){if(Lv(e)&&e.length>t)return e[e.length-1-t]}function Lv(e){return!!(e&&typeof e.length=="number")}function zs(e="",t=!0,n=`
`){return e.split(n).reduce((r,i)=>{let a=t?i.trim():i;return a&&r.push(a),r},[])}function Wh(e,t){return zs(e,!0).map(n=>t(n))}function qh(e){return(0,jl.exists)(e,jl.FOLDER)}function be(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function jv(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function Dl(e,t){if(Array.isArray(e)){let n=e.indexOf(t);n>=0&&e.splice(n,1)}else e.delete(t);return t}function Pn(e){return Array.isArray(e)?e:[e]}function Dv(e){return e.replace(/[\s-]+(.)/g,(t,n)=>n.toUpperCase())}function Bv(e){return Pn(e).map(String)}function Le(e,t=0){if(e==null)return t;let n=parseInt(e,10);return isNaN(n)?t:n}function Ns(e,t){let n=[];for(let r=0,i=e.length;r<i;r++)n.push(t,e[r]);return n}function $s(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function Nv(e,t){return Object.assign({},...t.map(n=>n in e?{[n]:e[n]}:{}))}function Oh(e=0){return new Promise(t=>setTimeout(t,e))}function Rh(e){if(e!==!1)return e}var ea,ni,Vs,Bl=W({"src/lib/utils/util.ts"(){"use strict";ea="\0",ni=()=>{},Vs=Object.prototype.toString.call.bind(Object.prototype.toString)}});function On(e,t,n){return t(e)?e:arguments.length>2?n:void 0}function Xh(e,t){let n=Ml(e)?"string":typeof e;return/number|string|boolean/.test(n)&&(!t||!t.includes(n))}function Yh(e){return!!e&&Vs(e)==="[object Object]"}function $v(e){return typeof e=="function"}var Ws,bt,Hv,Pl,Zh,Uv=W({"src/lib/utils/argument-filters.ts"(){"use strict";Bl(),Us(),Ws=e=>Array.isArray(e),bt=e=>typeof e=="string",Hv=e=>Array.isArray(e)&&e.every(bt),Pl=e=>bt(e)||Array.isArray(e)&&e.every(bt),Zh=e=>e==null||"number|boolean|function".includes(typeof e)?!1:Array.isArray(e)||typeof e=="string"||typeof e.length=="number"}}),Ih,iF=W({"src/lib/utils/exit-codes.ts"(){"use strict";Ih=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.NOT_FOUND=-2]="NOT_FOUND",e[e.UNCLEAN=128]="UNCLEAN",e))(Ih||{})}}),Hs,aF=W({"src/lib/utils/git-output-streams.ts"(){"use strict";Hs=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new Hs(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),ue,gr,sF=W({"src/lib/utils/line-parser.ts"(){"use strict";ue=class{constructor(e,t){this.matches=[],this.parse=(n,r)=>(this.resetMatches(),this._regExp.every((i,a)=>this.addMatch(i,a,n(a)))?this.useMatches(r,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,n){let r=n&&e.exec(n);return r&&this.pushMatch(t,r),!!r}pushMatch(e,t){this.matches.push(...t.slice(1))}},gr=class extends ue{addMatch(e,t,n){return/^remote:\s/.test(String(n))&&super.addMatch(e,t,n)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function Gv(...e){let t=process.cwd(),n=Object.assign(rn({baseDir:t},zv),...e.filter(r=>typeof r=="object"&&r));return n.baseDir=n.baseDir||t,n.trimmed=n.trimmed===!0,n}var zv,oF=W({"src/lib/utils/simple-git-options.ts"(){"use strict";zv={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function Kh(e,t=[]){return Yh(e)?Object.keys(e).reduce((n,r)=>{let i=e[r];return Ml(i)?n.push(i):Xh(i,["boolean"])?n.push(r+"="+i):n.push(r),n},t):t}function Dt(e,t=0,n=!1){let r=[];for(let i=0,a=t<0?e.length:t;i<a;i++)"string|number".includes(typeof e[i])&&r.push(String(e[i]));return Kh(Jh(e),r),n||r.push(...lF(e)),r}function lF(e){let t=typeof ti(e)=="function";return On(ti(e,t?1:0),Ws,[])}function Jh(e){let t=$v(ti(e));return On(ti(e,t?1:0),Yh)}function Je(e,t=!0){let n=Pv(ti(e));return t||Ov(n)?n:void 0}var cF=W({"src/lib/utils/task-options.ts"(){"use strict";Uv(),Bl(),Us()}});function Lh(e,t){return e(t.stdOut,t.stdErr)}function Nt(e,t,n,r=!0){return Pn(n).forEach(i=>{for(let a=zs(i,r),s=0,o=a.length;s<o;s++){let l=(c=0)=>{if(!(s+c>=o))return a[s+c]};t.some(({parse:c})=>c(l,e))}}),e}var uF=W({"src/lib/utils/task-parser.ts"(){"use strict";Bl()}}),Vv={};nt(Vv,{ExitCodes:()=>Ih,GitOutputStreams:()=>Hs,LineParser:()=>ue,NOOP:()=>ni,NULL:()=>ea,RemoteLineParser:()=>gr,append:()=>be,appendTaskOptions:()=>Kh,asArray:()=>Pn,asCamelCase:()=>Dv,asFunction:()=>Pv,asNumber:()=>Le,asStringArray:()=>Bv,bufferToString:()=>$s,callTaskParser:()=>Lh,createInstanceConfig:()=>Gv,delay:()=>Oh,filterArray:()=>Ws,filterFunction:()=>$v,filterHasLength:()=>Zh,filterPlainObject:()=>Yh,filterPrimitives:()=>Xh,filterString:()=>bt,filterStringArray:()=>Hv,filterStringOrStringArray:()=>Pl,filterType:()=>On,first:()=>Iv,folderExists:()=>qh,forEachLineWithContent:()=>Wh,getTrailingOptions:()=>Dt,including:()=>jv,isUserFunction:()=>Ov,last:()=>ti,objectToString:()=>Vs,orVoid:()=>Rh,parseStringResponse:()=>Nt,pick:()=>Nv,prefixedArray:()=>Ns,remove:()=>Dl,splitOn:()=>Rv,toLinesWithContent:()=>zs,trailingFunctionArgument:()=>Je,trailingOptionsArgument:()=>Jh});var oe=W({"src/lib/utils/index.ts"(){"use strict";Uv(),iF(),aF(),sF(),oF(),cF(),uF(),Bl()}}),Wv={};nt(Wv,{CheckRepoActions:()=>jh,checkIsBareRepoTask:()=>Xv,checkIsRepoRootTask:()=>qv,checkIsRepoTask:()=>fF});function fF(e){switch(e){case"bare":return Xv();case"root":return qv()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:Nl,parser:Qh}}function qv(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:Nl,parser(t){return/^\.(git)?$/.test(t.trim())}}}function Xv(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:Nl,parser:Qh}}function hF(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var jh,Nl,Qh,Yv=W({"src/lib/tasks/check-is-repo.ts"(){"use strict";oe(),jh=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(jh||{}),Nl=({exitCode:e},t,n,r)=>{if(e===128&&hF(t))return n(Buffer.from("false"));r(t)},Qh=e=>e.trim()==="true"}});function dF(e,t){let n=new Zv(e),r=e?Jv:Kv;return zs(t).forEach(i=>{let a=i.replace(r,"");n.paths.push(a),(Qv.test(a)?n.folders:n.files).push(a)}),n}var Zv,Kv,Jv,Qv,pF=W({"src/lib/responses/CleanSummary.ts"(){"use strict";oe(),Zv=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},Kv=/^[a-z]+\s*/i,Jv=/^[a-z]+\s+[a-z]+\s*/i,Qv=/\/$/}}),Dh={};nt(Dh,{EMPTY_COMMANDS:()=>$l,adhocExecTask:()=>ew,configurationErrorTask:()=>Bt,isBufferTask:()=>nw,isEmptyTask:()=>rw,straightThroughBufferTask:()=>tw,straightThroughStringTask:()=>Mt});function ew(e){return{commands:$l,format:"empty",parser:e}}function Bt(e){return{commands:$l,format:"empty",parser(){throw typeof e=="string"?new Fv(e):e}}}function Mt(e,t=!1){return{commands:e,format:"utf-8",parser(n){return t?String(n).trim():n}}}function tw(e){return{commands:e,format:"buffer",parser(t){return t}}}function nw(e){return e.format==="buffer"}function rw(e){return e.format==="empty"||!e.commands.length}var $l,tt=W({"src/lib/tasks/task.ts"(){"use strict";Mv(),$l=[]}}),iw={};nt(iw,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ed,CONFIG_ERROR_MODE_REQUIRED:()=>td,CONFIG_ERROR_UNKNOWN_OPTION:()=>nd,CleanOptions:()=>Al,cleanTask:()=>aw,cleanWithOptionsTask:()=>mF,isCleanOptionsArray:()=>gF});function mF(e,t){let{cleanMode:n,options:r,valid:i}=yF(e);return n?i.options?(r.push(...t),r.some(bF)?Bt(ed):aw(n,r)):Bt(nd+JSON.stringify(e)):Bt(td)}function aw(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser(r){return dF(e==="n",r)}}}function gF(e){return Array.isArray(e)&&e.every(t=>rd.has(t))}function yF(e){let t,n=[],r={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach(i=>{vF(i)?(t=i,r.cleanMode=!0):r.options=r.options&&wF(n[n.length]=`-${i}`)}),{cleanMode:t,options:n,valid:r}}function vF(e){return e==="f"||e==="n"}function wF(e){return/^-[a-z]$/i.test(e)&&rd.has(e.charAt(1))}function bF(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:e==="--interactive"}var ed,td,nd,Al,rd,sw=W({"src/lib/tasks/clean.ts"(){"use strict";pF(),oe(),tt(),ed="Git clean interactive mode is not supported",td='Git clean mode parameter ("n" or "f") is required',nd="Git clean unknown option found in: ",Al=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(Al||{}),rd=new Set(["i",...Bv(Object.values(Al))])}});function xF(e){let t=new lw;for(let n of ow(e))t.addValue(n.file,String(n.key),n.value);return t}function _F(e,t){let n=null,r=[],i=new Map;for(let a of ow(e,t))a.key===t&&(r.push(n=a.value),i.has(a.file)||i.set(a.file,[]),i.get(a.file).push(n));return{key:t,paths:Array.from(i.keys()),scopes:i,value:n,values:r}}function SF(e){return e.replace(/^(file):/,"")}function*ow(e,t=null){let n=e.split("\0");for(let r=0,i=n.length-1;r<i;){let a=SF(n[r++]),s=n[r++],o=t;if(s.includes(`
`)){let l=Rv(s,`
`);o=l[0],s=l[1]}yield{file:a,key:o,value:s}}}var lw,EF=W({"src/lib/responses/ConfigList.ts"(){"use strict";oe(),lw=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((e,t)=>Object.assign(e,this.values[t]),{})),this._all}addFile(e){if(!(e in this.values)){let t=ti(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,n){let r=this.addFile(e);r.hasOwnProperty(t)?Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]:r[t]=n,this._all=void 0}}}});function Ah(e,t){return typeof e=="string"&&Bh.hasOwnProperty(e)?e:t}function kF(e,t,n,r){let i=["config",`--${r}`];return n&&i.push("--add"),i.push(e,t),{commands:i,format:"utf-8",parser(a){return a}}}function AF(e,t){let n=["config","--null","--show-origin","--get-all",e];return t&&n.splice(1,0,`--${t}`),{commands:n,format:"utf-8",parser(r){return _F(r,e)}}}function CF(e){let t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser(n){return xF(n)}}}function TF(){return{addConfig(e,t,...n){return this._runTask(kF(e,t,n[0]===!0,Ah(n[1],"local")),Je(arguments))},getConfig(e,t){return this._runTask(AF(e,Ah(t,void 0)),Je(arguments))},listConfig(...e){return this._runTask(CF(Ah(e[0],void 0)),Je(arguments))}}}var Bh,cw=W({"src/lib/tasks/config.ts"(){"use strict";EF(),oe(),Bh=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(Bh||{})}});function FF(e){return uw.has(e)}var Ch,uw,fw=W({"src/lib/tasks/diff-name-status.ts"(){"use strict";Ch=(e=>(e.ADDED="A",e.COPIED="C",e.DELETED="D",e.MODIFIED="M",e.RENAMED="R",e.CHANGED="T",e.UNMERGED="U",e.UNKNOWN="X",e.BROKEN="B",e))(Ch||{}),uw=new Set(Object.values(Ch))}});function MF(...e){return new dw().param(...e)}function PF(e){let t=new Set,n={};return Wh(e,r=>{let[i,a,s]=r.split(ea);t.add(i),(n[i]=n[i]||[]).push({line:Le(a),path:i,preview:s})}),{paths:t,results:n}}function OF(){return{grep(e){let t=Je(arguments),n=Dt(arguments);for(let i of hw)if(n.includes(i))return this._runTask(Bt(`git.grep: use of "${i}" is not supported.`),t);typeof e=="string"&&(e=MF().param(e));let r=["grep","--null","-n","--full-name",...n,...e];return this._runTask({commands:r,format:"utf-8",parser(i){return PF(i)}},t)}}}var hw,js,Jy,dw,pw=W({"src/lib/tasks/grep.ts"(){"use strict";oe(),tt(),hw=["-h"],js=Symbol("grepQuery"),dw=class{constructor(){this[Jy]=[]}*[(Jy=js,Symbol.iterator)](){for(let e of this[js])yield e}and(...e){return e.length&&this[js].push("--and","(",...Ns(e,"-e"),")"),this}param(...e){return this[js].push(...Ns(e,"-e")),this}}}}),mw={};nt(mw,{ResetMode:()=>Cl,getResetMode:()=>IF,resetTask:()=>RF});function RF(e,t){let n=["reset"];return gw(e)&&n.push(`--${e}`),n.push(...t),Mt(n)}function IF(e){if(gw(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function gw(e){return yw.includes(e)}var Cl,yw,vw=W({"src/lib/tasks/reset.ts"(){"use strict";tt(),Cl=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(Cl||{}),yw=Array.from(Object.values(Cl))}});function LF(){return(0,Ol.default)("simple-git")}function Qy(e,t,n){return!t||!String(t).replace(/\s*/,"")?n?(r,...i)=>{e(r,...i),n(r,...i)}:e:(r,...i)=>{e(`%s ${r}`,t,...i),n&&n(r,...i)}}function jF(e,t,{namespace:n}){if(typeof e=="string")return e;let r=t&&t.namespace||"";return r.startsWith(n)?r.substr(n.length+1):r||n}function id(e,t,n,r=LF()){let i=e&&`[${e}]`||"",a=[],s=typeof t=="string"?r.extend(t):t,o=jF(On(t,bt),s,r);return c(n);function l(u,f){return be(a,id(e,o.replace(/^[^:]+/,u),f,r))}function c(u){let f=u&&`[${u}]`||"",h=s&&Qy(s,f)||ni,d=Qy(r,`${i} ${f}`,h);return Object.assign(s?h:d,{label:e,sibling:l,info:d,step:c})}}var ww=W({"src/lib/git-logger.ts"(){"use strict";oe(),Ol.default.formatters.L=e=>String(Zh(e)?e.length:"-"),Ol.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):Vs(e)}}),El,Nh,DF=W({"src/lib/runners/tasks-pending-queue.ts"(){"use strict";yr(),ww(),El=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){let t=El.getName(e.commands[0]),n=id(this.logLabel,t);return{task:e,logger:n,name:t}}push(e){let t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(let[t,{logger:n}]of Array.from(this._queue.entries()))t===e.task?(n.info("Failed %o",e),n("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):n.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){let t=this.withProgress(e);if(!t)throw new Yt(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++El.counter}`}},Nh=El,Nh.counter=0}});function ei(e,t){return{method:Iv(e.commands)||"",commands:t}}function BF(e,t){return n=>{t("[ERROR] child process exception %o",n),e.push(Buffer.from(String(n.stack),"ascii"))}}function ev(e,t,n,r){return i=>{n("%s received %L bytes",t,i),r("%B",i),e.push(i)}}var $h,NF=W({"src/lib/runners/git-executor-chain.ts"(){"use strict";yr(),tt(),oe(),DF(),$h=class{constructor(e,t,n){this._executor=e,this._scheduler=t,this._plugins=n,this._chain=Promise.resolve(),this._queue=new Nh}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then(()=>this.attemptTask(e))}attemptTask(e){return Ds(this,null,function*(){let t=yield this._scheduler.next(),n=()=>this._queue.complete(e);try{let{logger:r}=this._queue.attempt(e);return yield rw(e)?this.attemptEmptyTask(e,r):this.attemptRemoteTask(e,r)}catch(r){throw this.onFatalException(e,r)}finally{n(),t()}})}onFatalException(e,t){let n=t instanceof Yt?Object.assign(t,{task:e}):new Yt(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(n),n}attemptRemoteTask(e,t){return Ds(this,null,function*(){let n=this._plugins.exec("spawn.binary","",ei(e,e.commands)),r=this._plugins.exec("spawn.args",[...e.commands],ei(e,e.commands)),i=yield this.gitResponse(e,n,r,this.outputHandler,t.step("SPAWN")),a=yield this.handleTaskData(e,r,i,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),nw(e)?Lh(e.parser,a):Lh(e.parser,a.asStrings())})}attemptEmptyTask(e,t){return Ds(this,null,function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)})}handleTaskData(e,t,n,r){let{exitCode:i,rejection:a,stdOut:s,stdErr:o}=n;return new Promise((l,c)=>{r("Preparing to handle process response exitCode=%d stdOut=",i);let{error:u}=this._plugins.exec("task.error",{error:a},rn(rn({},ei(e,t)),n));if(u&&e.onError)return r.info("exitCode=%s handling with custom error handler"),e.onError(n,u,f=>{r.info("custom error handler treated as success"),r("custom error returned a %s",Vs(f)),l(new Hs(Array.isArray(f)?Buffer.concat(f):f,Buffer.concat(o)))},c);if(u)return r.info("handling as error: exitCode=%s stdErr=%s rejection=%o",i,o.length,a),c(u);r.info("retrieving task output complete"),l(new Hs(Buffer.concat(s),Buffer.concat(o)))})}gitResponse(e,t,n,r,i){return Ds(this,null,function*(){let a=i.sibling("output"),s=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},ei(e,e.commands));return new Promise(o=>{let l=[],c=[];i.info("%s %o",t,n),i("%O",s);let u=this._beforeSpawn(e,n);if(u)return o({stdOut:l,stdErr:c,exitCode:9901,rejection:u});this._plugins.exec("spawn.before",void 0,Bs(rn({},ei(e,n)),{kill(h){u=h||u}}));let f=(0,bw.spawn)(t,n,s);f.stdout.on("data",ev(l,"stdOut",i,a.step("stdOut"))),f.stderr.on("data",ev(c,"stdErr",i,a.step("stdErr"))),f.on("error",BF(c,i)),r&&(i("Passing child process stdOut/stdErr to custom outputHandler"),r(t,f.stdout,f.stderr,[...n])),this._plugins.exec("spawn.after",void 0,Bs(rn({},ei(e,n)),{spawned:f,close(h,d){o({stdOut:l,stdErr:c,exitCode:h,rejection:u||d})},kill(h){f.killed||(u=h,f.kill("SIGINT"))}}))})})}_beforeSpawn(e,t){let n;return this._plugins.exec("spawn.before",void 0,Bs(rn({},ei(e,t)),{kill(r){n=r||n}})),n}}}}),xw={};nt(xw,{GitExecutor:()=>_w});var _w,$F=W({"src/lib/runners/git-executor.ts"(){"use strict";NF(),_w=class{constructor(e,t,n){this.cwd=e,this._scheduler=t,this._plugins=n,this._chain=new $h(this,this._scheduler,this._plugins)}chain(){return new $h(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function HF(e,t,n=ni){let r=a=>{n(null,a)},i=a=>{(a==null?void 0:a.task)===e&&n(a instanceof Gs?UF(a):a,void 0)};t.then(r,i)}function UF(e){let t=r=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${r} should be GitResponseError.git.${r}, this will no longer be available in version 3`),t=ni};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(n,{}));function n(r,i){return i in e||(r[i]={enumerable:!1,configurable:!1,get(){return t(i),e.git[i]}}),r}}var GF=W({"src/lib/task-callback.ts"(){"use strict";ta(),oe()}});function tv(e,t){return ew(n=>{if(!qh(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||n).cwd=e})}var zF=W({"src/lib/tasks/change-working-directory.ts"(){"use strict";oe(),tt()}});function Th(e){let t=["checkout",...e];return t[1]==="-b"&&t.includes("-B")&&(t[1]=Dl(t,"-B")),Mt(t)}function VF(){return{checkout(){return this._runTask(Th(Dt(arguments,1)),Je(arguments))},checkoutBranch(e,t){return this._runTask(Th(["-b",e,t,...Dt(arguments)]),Je(arguments))},checkoutLocalBranch(e){return this._runTask(Th(["-b",e,...Dt(arguments)]),Je(arguments))}}}var WF=W({"src/lib/tasks/checkout.ts"(){"use strict";oe(),tt()}});function qF(){return{count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0}}function XF(){return{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser(e){return Nt(qF(),[Sw],e)}})}}}var Sw,YF=W({"src/lib/tasks/count-objects.ts"(){"use strict";oe(),Sw=new ue(/([a-z-]+): (\d+)$/,(e,[t,n])=>{let r=Dv(t);e.hasOwnProperty(r)&&(e[r]=Le(n))})}});function ZF(e){return Nt({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Ew,e)}var Ew,KF=W({"src/lib/parsers/parse-commit.ts"(){"use strict";oe(),Ew=[new ue(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(e,[t,n,r])=>{e.branch=t,e.commit=r,e.root=!!n}),new ue(/\s*Author:\s(.+)/i,(e,[t])=>{let n=t.split("<"),r=n.pop();!r||!r.includes("@")||(e.author={email:r.substr(0,r.length-1),name:n.join("<").trim()})}),new ue(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(n,10)||0,e.summary.deletions=parseInt(r,10)||0}),new ue(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0;let i=parseInt(n,10)||0;r==="-"?e.summary.deletions=i:r==="+"&&(e.summary.insertions=i)})]}});function JF(e,t,n){return{commands:["-c","core.abbrev=40","commit",...Ns(e,"-m"),...t,...n],format:"utf-8",parser:ZF}}function QF(){return{commit(t,...n){let r=Je(arguments),i=e(t)||JF(Pn(t),Pn(On(n[0],Pl,[])),[...On(n[1],Ws,[]),...Dt(arguments,0,!0)]);return this._runTask(i,r)}};function e(t){return!Pl(t)&&Bt("git.commit: requires the commit message to be supplied as a string/string[]")}}var eM=W({"src/lib/tasks/commit.ts"(){"use strict";KF(),oe(),tt()}});function tM(){return{firstCommit(){return this._runTask(Mt(["rev-list","--max-parents=0","HEAD"],!0),Je(arguments))}}}var nM=W({"src/lib/tasks/first-commit.ts"(){"use strict";oe(),tt()}});function rM(e,t){let n=["hash-object",e];return t&&n.push("-w"),Mt(n,!0)}var iM=W({"src/lib/tasks/hash-object.ts"(){"use strict";tt()}});function aM(e,t,n){let r=String(n).trim(),i;if(i=kw.exec(r))return new Tl(e,t,!1,i[1]);if(i=Aw.exec(r))return new Tl(e,t,!0,i[1]);let a="",s=r.split(" ");for(;s.length;)if(s.shift()==="in"){a=s.join(" ");break}return new Tl(e,t,/^re/i.test(r),a)}var Tl,kw,Aw,sM=W({"src/lib/responses/InitSummary.ts"(){"use strict";Tl=class{constructor(e,t,n,r){this.bare=e,this.path=t,this.existing=n,this.gitDir=r}},kw=/^Init.+ repository in (.+)$/,Aw=/^Rein.+ in (.+)$/}});function oM(e){return e.includes(ad)}function lM(e=!1,t,n){let r=["init",...n];return e&&!oM(r)&&r.splice(1,0,ad),{commands:r,format:"utf-8",parser(i){return aM(r.includes("--bare"),t,i)}}}var ad,cM=W({"src/lib/tasks/init.ts"(){"use strict";sM(),ad="--bare"}});function sd(e){for(let t=0;t<e.length;t++){let n=od.exec(e[t]);if(n)return`--${n[1]}`}return""}function uM(e){return od.test(e)}var od,qs=W({"src/lib/args/log-format.ts"(){"use strict";od=/^--(stat|numstat|name-only|name-status)(=|$)/}}),Cw,fM=W({"src/lib/responses/DiffSummary.ts"(){"use strict";Cw=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function Tw(e=""){let t=Fw[e];return n=>Nt(new Cw,t,n,!1)}var Fh,nv,rv,iv,Fw,Mw=W({"src/lib/parsers/parse-diff-summary.ts"(){"use strict";qs(),fM(),fw(),oe(),Fh=[new ue(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(e,[t,n,r=""])=>{e.files.push({file:t.trim(),changes:Le(n),insertions:r.replace(/[^+]/g,"").length,deletions:r.replace(/[^-]/g,"").length,binary:!1})}),new ue(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(e,[t,n,r])=>{e.files.push({file:t.trim(),before:Le(n),after:Le(r),binary:!0})}),new ue(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(e,[t,n])=>{let r=/(\d+) i/.exec(n),i=/(\d+) d/.exec(n);e.changed=Le(t),e.insertions=Le(r==null?void 0:r[1]),e.deletions=Le(i==null?void 0:i[1])})],nv=[new ue(/(\d+)\t(\d+)\t(.+)$/,(e,[t,n,r])=>{let i=Le(t),a=Le(n);e.changed++,e.insertions+=i,e.deletions+=a,e.files.push({file:r,changes:i+a,insertions:i,deletions:a,binary:!1})}),new ue(/-\t-\t(.+)$/,(e,[t])=>{e.changed++,e.files.push({file:t,after:0,before:0,binary:!0})})],rv=[new ue(/(.+)$/,(e,[t])=>{e.changed++,e.files.push({file:t,changes:0,insertions:0,deletions:0,binary:!1})})],iv=[new ue(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(e,[t,n,r,i,a])=>{e.changed++,e.files.push({file:a!=null?a:r,changes:0,insertions:0,deletions:0,binary:!1,status:Rh(FF(t)&&t),from:Rh(!!a&&r!==a&&r),similarity:Le(n)})})],Fw={"":Fh,"--stat":Fh,"--numstat":nv,"--name-status":iv,"--name-only":rv}}});function hM(e,t){return t.reduce((n,r,i)=>(n[r]=e[i]||"",n),Object.create({diff:null}))}function Pw(e=ud,t=Ow,n=""){let r=Tw(n);return function(i){let a=zs(i.trim(),!1,ld).map(function(s){let o=s.split(cd),l=hM(o[0].split(e),t);return o.length>1&&o[1].trim()&&(l.diff=r(o[1])),l});return{all:a,latest:a.length&&a[0]||null,total:a.length}}}var ld,cd,ud,Ow,Rw=W({"src/lib/parsers/parse-list-log-summary.ts"(){"use strict";oe(),Mw(),qs(),ld="\xF2\xF2\xF2\xF2\xF2\xF2 ",cd=" \xF2\xF2",ud=" \xF2 ",Ow=["hash","date","message","refs","author_name","author_email"]}}),Iw={};nt(Iw,{diffSummaryTask:()=>dM,validateLogFormatConfig:()=>Hl});function dM(e){let t=sd(e),n=["diff"];return t===""&&(t="--stat",n.push("--stat=4096")),n.push(...e),Hl(n)||{commands:n,format:"utf-8",parser:Tw(t)}}function Hl(e){let t=e.filter(uM);if(t.length>1)return Bt(`Summary flags are mutually exclusive - pick one of ${t.join(",")}`);if(t.length&&e.includes("-z"))return Bt(`Summary flag ${t} parsing is not compatible with null termination option '-z'`)}var fd=W({"src/lib/tasks/diff.ts"(){"use strict";qs(),Mw(),tt()}});function pM(e,t){let n=[],r=[];return Object.keys(e).forEach(i=>{n.push(i),r.push(String(e[i]))}),[n,r.join(t)]}function mM(e){return Object.keys(e).reduce((t,n)=>(n in Hh||(t[n]=e[n]),t),{})}function Lw(e={},t=[]){let n=On(e.splitter,bt,ud),r=!Xh(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==!1?"%aN":"%an",author_email:e.mailMap!==!1?"%aE":"%ae"},[i,a]=pM(r,n),s=[],o=[`--pretty=format:${ld}${a}${cd}`,...t],l=e.n||e["max-count"]||e.maxCount;if(l&&o.push(`--max-count=${l}`),e.from||e.to){let c=e.symmetric!==!1?"...":"..";s.push(`${e.from||""}${c}${e.to||""}`)}return bt(e.file)&&o.push("--follow",rF(e.file)),Kh(mM(e),o),{fields:i,splitter:n,commands:[...o,...s]}}function gM(e,t,n){let r=Pw(e,t,sd(n));return{commands:["log",...n],format:"utf-8",parser:r}}function yM(){return{log(...n){let r=Je(arguments),i=Lw(Jh(arguments),On(arguments[0],Ws)),a=t(...n)||Hl(i.commands)||e(i);return this._runTask(a,r)}};function e(n){return gM(n.splitter,n.fields,n.commands)}function t(n,r){return bt(n)&&bt(r)&&Bt("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var Hh,jw=W({"src/lib/tasks/log.ts"(){"use strict";qs(),Us(),Rw(),oe(),tt(),fd(),Hh=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(Hh||{})}}),Fl,Dw,vM=W({"src/lib/responses/MergeSummary.ts"(){"use strict";Fl=class{constructor(e,t=null,n){this.reason=e,this.file=t,this.meta=n}toString(){return`${this.file}:${this.reason}`}},Dw=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Uh,Bw,wM=W({"src/lib/responses/PullSummary.ts"(){"use strict";Uh=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},Bw=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function Mh(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function av(e){let t=/^\s*(\d+)/.exec(e),n=/delta (\d+)/i.exec(e);return{count:Le(t&&t[1]||"0"),delta:Le(n&&n[1]||"0")}}var Nw,bM=W({"src/lib/parsers/parse-remote-objects.ts"(){"use strict";oe(),Nw=[new gr(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(e,[t,n])=>{let r=t.toLowerCase(),i=Mh(e.remoteMessages);Object.assign(i,{[r]:Le(n)})}),new gr(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(e,[t,n])=>{let r=t.toLowerCase(),i=Mh(e.remoteMessages);Object.assign(i,{[r]:Le(n)})}),new gr(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(e,[t,n,r])=>{let i=Mh(e.remoteMessages);i.total=av(t),i.reused=av(n),i.packReused=Le(r)})]}});function $w(e,t){return Nt({remoteMessages:new Uw},Hw,t)}var Hw,Uw,Gw=W({"src/lib/parsers/parse-remote-messages.ts"(){"use strict";oe(),bM(),Hw=[new gr(/^remote:\s*(.+)$/,(e,[t])=>(e.remoteMessages.all.push(t.trim()),!1)),...Nw,new gr([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(e,[t])=>{e.remoteMessages.pullRequestUrl=t}),new gr([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(e,[t,n,r])=>{e.remoteMessages.vulnerabilities={count:Le(t),summary:n,url:r}})],Uw=class{constructor(){this.all=[]}}}});function xM(e,t){let n=Nt(new Bw,zw,[e,t]);return n.message&&n}var sv,ov,lv,cv,zw,uv,hd,Vw=W({"src/lib/parsers/parse-pull.ts"(){"use strict";wM(),oe(),Gw(),sv=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,ov=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,lv=/^(create|delete) mode \d+ (.+)/,cv=[new ue(sv,(e,[t,n,r])=>{e.files.push(t),n&&(e.insertions[t]=n.length),r&&(e.deletions[t]=r.length)}),new ue(ov,(e,[t,,n,,r])=>n!==void 0||r!==void 0?(e.summary.changes=+t||0,e.summary.insertions=+n||0,e.summary.deletions=+r||0,!0):!1),new ue(lv,(e,[t,n])=>{be(e.files,n),be(t==="create"?e.created:e.deleted,n)})],zw=[new ue(/^from\s(.+)$/i,(e,[t])=>void(e.remote=t)),new ue(/^fatal:\s(.+)$/,(e,[t])=>void(e.message=t)),new ue(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(e,[t,n,r,i])=>{e.branch.local=r,e.hash.local=t,e.branch.remote=i,e.hash.remote=n})],uv=(e,t)=>Nt(new Uh,cv,[e,t]),hd=(e,t)=>Object.assign(new Uh,uv(e,t),$w(e,t))}}),fv,Ww,hv,_M=W({"src/lib/parsers/parse-merge.ts"(){"use strict";vM(),oe(),Vw(),fv=[new ue(/^Auto-merging\s+(.+)$/,(e,[t])=>{e.merges.push(t)}),new ue(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(e,[t,n])=>{e.conflicts.push(new Fl(t,n))}),new ue(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(e,[t,n,r])=>{e.conflicts.push(new Fl(t,n,{deleteRef:r}))}),new ue(/^CONFLICT\s+\((.+)\):/,(e,[t])=>{e.conflicts.push(new Fl(t,null))}),new ue(/^Automatic merge failed;\s+(.+)$/,(e,[t])=>{e.result=t})],Ww=(e,t)=>Object.assign(hv(e,t),hd(e,t)),hv=e=>Nt(new Dw,fv,e)}});function dv(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(t,n){let r=Ww(t,n);if(r.failed)throw new Gs(r);return r}}:Bt("Git.merge requires at least one option")}var SM=W({"src/lib/tasks/merge.ts"(){"use strict";ta(),_M(),tt()}});function EM(e,t,n){let r=n.includes("deleted"),i=n.includes("tag")||/^refs\/tags/.test(e),a=!n.includes("new");return{deleted:r,tag:i,branch:!i,new:!a,alreadyUpdated:a,local:e,remote:t}}var pv,qw,mv,kM=W({"src/lib/parsers/parse-push.ts"(){"use strict";oe(),Gw(),pv=[new ue(/^Pushing to (.+)$/,(e,[t])=>{e.repo=t}),new ue(/^updating local tracking ref '(.+)'/,(e,[t])=>{e.ref=Bs(rn({},e.ref||{}),{local:t})}),new ue(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(e,[t,n,r])=>{e.pushed.push(EM(t,n,r))}),new ue(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(e,[t,n,r])=>{e.branch=Bs(rn({},e.branch||{}),{local:t,remote:n,remoteName:r})}),new ue(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(e,[t,n,r,i])=>{e.update={head:{local:t,remote:n},hash:{from:r,to:i}}})],qw=(e,t)=>{let n=mv(e,t),r=$w(e,t);return rn(rn({},n),r)},mv=(e,t)=>Nt({pushed:[]},pv,[e,t])}}),Xw={};nt(Xw,{pushTagsTask:()=>AM,pushTask:()=>dd});function AM(e={},t){return be(t,"--tags"),dd(e,t)}function dd(e={},t){let n=["push",...t];return e.branch&&n.splice(1,0,e.branch),e.remote&&n.splice(1,0,e.remote),Dl(n,"-v"),be(n,"--verbose"),be(n,"--porcelain"),{commands:n,format:"utf-8",parser:qw}}var Yw=W({"src/lib/tasks/push.ts"(){"use strict";kM(),oe()}});function CM(){return{showBuffer(){let e=["show",...Dt(arguments,1)];return e.includes("--binary")||e.splice(1,0,"--binary"),this._runTask(tw(e),Je(arguments))},show(){let e=["show",...Dt(arguments,1)];return this._runTask(Mt(e),Je(arguments))}}}var TM=W({"src/lib/tasks/show.ts"(){"use strict";oe(),tt()}}),gv,Zw,FM=W({"src/lib/responses/FileStatusSummary.ts"(){"use strict";gv=/^(.+)\0(.+)$/,Zw=class{constructor(e,t,n){if(this.path=e,this.index=t,this.working_dir=n,t==="R"||n==="R"){let r=gv.exec(e)||[null,e,e];this.from=r[2]||"",this.path=r[1]||""}}}}});function yv(e){let[t,n]=e.split(ea);return{from:n||t,to:t}}function Xt(e,t,n){return[`${e}${t}`,n]}function Ph(e,...t){return t.map(n=>Xt(e,n,(r,i)=>be(r.conflicted,i)))}function MM(e,t){let n=t.trim();switch(" "){case n.charAt(2):return r(n.charAt(0),n.charAt(1),n.substr(3));case n.charAt(1):return r(" ",n.charAt(0),n.substr(2));default:return}function r(i,a,s){let o=`${i}${a}`,l=Kw.get(o);l&&l(e,s),o!=="##"&&o!=="!!"&&e.files.push(new Zw(s,i,a))}}var vv,Kw,Jw,PM=W({"src/lib/responses/StatusSummary.ts"(){"use strict";oe(),FM(),vv=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},Kw=new Map([Xt(" ","A",(e,t)=>be(e.created,t)),Xt(" ","D",(e,t)=>be(e.deleted,t)),Xt(" ","M",(e,t)=>be(e.modified,t)),Xt("A"," ",(e,t)=>be(e.created,t)&&be(e.staged,t)),Xt("A","M",(e,t)=>be(e.created,t)&&be(e.staged,t)&&be(e.modified,t)),Xt("D"," ",(e,t)=>be(e.deleted,t)&&be(e.staged,t)),Xt("M"," ",(e,t)=>be(e.modified,t)&&be(e.staged,t)),Xt("M","M",(e,t)=>be(e.modified,t)&&be(e.staged,t)),Xt("R"," ",(e,t)=>{be(e.renamed,yv(t))}),Xt("R","M",(e,t)=>{let n=yv(t);be(e.renamed,n),be(e.modified,n.to)}),Xt("!","!",(e,t)=>{be(e.ignored=e.ignored||[],t)}),Xt("?","?",(e,t)=>be(e.not_added,t)),...Ph("A","A","U"),...Ph("D","D","U"),...Ph("U","A","D","U"),["##",(e,t)=>{let n=/ahead (\d+)/,r=/behind (\d+)/,i=/^(.+?(?=(?:\.{3}|\s|$)))/,a=/\.{3}(\S*)/,s=/\son\s([\S]+)$/,o;o=n.exec(t),e.ahead=o&&+o[1]||0,o=r.exec(t),e.behind=o&&+o[1]||0,o=i.exec(t),e.current=o&&o[1],o=a.exec(t),e.tracking=o&&o[1],o=s.exec(t),e.current=o&&o[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),Jw=function(e){let t=e.split(ea),n=new vv;for(let r=0,i=t.length;r<i;){let a=t[r++].trim();a&&(a.charAt(0)==="R"&&(a+=ea+(t[r++]||"")),MM(n,a))}return n}}});function OM(e){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...e.filter(n=>!Qw.includes(n))],parser(n){return Jw(n)}}}var Qw,RM=W({"src/lib/tasks/status.ts"(){"use strict";PM(),Qw=["--null","-z"]}});function Rl(e=0,t=0,n=0,r="",i=!0){return Object.defineProperty({major:e,minor:t,patch:n,agent:r,installed:i},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function IM(){return Rl(0,0,0,"",!1)}function LM(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:jM,onError(e,t,n,r){if(e.exitCode===-2)return n(Buffer.from(pd));r(t)}})}}}function jM(e){return e===pd?IM():Nt(Rl(0,0,0,e),e2,e)}var pd,e2,DM=W({"src/lib/tasks/version.ts"(){"use strict";oe(),pd="installed=false",e2=[new ue(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(e,[t,n,r,i=""])=>{Object.assign(e,Rl(Le(t),Le(n),Le(r),i))}),new ue(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(e,[t,n,r,i=""])=>{Object.assign(e,Rl(Le(t),Le(n),r,i))})]}}),t2={};nt(t2,{SimpleGitApi:()=>Gh});var Gh,BM=W({"src/lib/simple-git-api.ts"(){"use strict";GF(),zF(),WF(),YF(),eM(),cw(),nM(),pw(),iM(),cM(),jw(),SM(),Yw(),TM(),RM(),tt(),DM(),oe(),Gh=class{constructor(e){this._executor=e}_runTask(e,t){let n=this._executor.chain(),r=n.push(e);return t&&HF(e,r,t),Object.create(this,{then:{value:r.then.bind(r)},catch:{value:r.catch.bind(r)},_executor:{value:n}})}add(e){return this._runTask(Mt(["add",...Pn(e)]),Je(arguments))}cwd(e){let t=Je(arguments);return typeof e=="string"?this._runTask(tv(e,this._executor),t):typeof(e==null?void 0:e.path)=="string"?this._runTask(tv(e.path,e.root&&this._executor||void 0),t):this._runTask(Bt("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(rM(e,t===!0),Je(arguments))}init(e){return this._runTask(lM(e===!0,this._executor.cwd,Dt(arguments)),Je(arguments))}merge(){return this._runTask(dv(Dt(arguments)),Je(arguments))}mergeFromTo(e,t){return bt(e)&&bt(t)?this._runTask(dv([e,t,...Dt(arguments)]),Je(arguments,!1)):this._runTask(Bt("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){let e=dd({remote:On(arguments[0],bt),branch:On(arguments[1],bt)},Dt(arguments));return this._runTask(e,Je(arguments))}stash(){return this._runTask(Mt(["stash",...Dt(arguments)]),Je(arguments))}status(){return this._runTask(OM(Dt(arguments)),Je(arguments))}},Object.assign(Gh.prototype,VF(),QF(),TF(),XF(),tM(),OF(),yM(),CM(),LM())}}),n2={};nt(n2,{Scheduler:()=>i2});var wv,i2,NM=W({"src/lib/runners/scheduler.ts"(){"use strict";oe(),ww(),wv=(()=>{let e=0;return()=>{e++;let{promise:t,done:n}=(0,r2.createDeferred)();return{promise:t,done:n,id:e}}})(),i2=class{constructor(e=2){this.concurrency=e,this.logger=id("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let e=be(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done(()=>{this.logger("Completing id=",e.id),Dl(this.running,e),this.schedule()})}next(){let{promise:e,id:t}=be(this.pending,wv());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),a2={};nt(a2,{applyPatchTask:()=>$M});function $M(e,t){return Mt(["apply",...t,...e])}var HM=W({"src/lib/tasks/apply-patch.ts"(){"use strict";tt()}});function UM(e,t){return{branch:e,hash:t,success:!0}}function GM(e){return{branch:e,hash:null,success:!1}}var s2,zM=W({"src/lib/responses/BranchDeleteSummary.ts"(){"use strict";s2=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function o2(e,t){return t===1&&zh.test(e)}var bv,zh,xv,Ul,VM=W({"src/lib/parsers/parse-branch-delete.ts"(){"use strict";zM(),oe(),bv=/(\S+)\s+\(\S+\s([^)]+)\)/,zh=/^error[^']+'([^']+)'/m,xv=[new ue(bv,(e,[t,n])=>{let r=UM(t,n);e.all.push(r),e.branches[t]=r}),new ue(zh,(e,[t])=>{let n=GM(t);e.errors.push(n),e.all.push(n),e.branches[t]=n})],Ul=(e,t)=>Nt(new s2,xv,[e,t])}}),l2,WM=W({"src/lib/responses/BranchSummary.ts"(){"use strict";l2=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,n,r,i){e==="*"&&(this.detached=t,this.current=n),this.all.push(n),this.branches[n]={current:e==="*",linkedWorkTree:e==="+",name:n,commit:r,label:i}}}}});function _v(e){return e?e.charAt(0):""}function c2(e){return Nt(new l2,u2,e)}var u2,qM=W({"src/lib/parsers/parse-branch.ts"(){"use strict";WM(),oe(),u2=[new ue(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(e,[t,n,r,i])=>{e.push(_v(t),!0,n,r,i)}),new ue(new RegExp("^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$","s"),(e,[t,n,r,i])=>{e.push(_v(t),!1,n,r,i)})]}}),f2={};nt(f2,{branchLocalTask:()=>YM,branchTask:()=>XM,containsDeleteBranchCommand:()=>h2,deleteBranchTask:()=>KM,deleteBranchesTask:()=>ZM});function h2(e){let t=["-d","-D","--delete"];return e.some(n=>t.includes(n))}function XM(e){let t=h2(e),n=["branch",...e];return n.length===1&&n.push("-a"),n.includes("-v")||n.splice(1,0,"-v"),{format:"utf-8",commands:n,parser(r,i){return t?Ul(r,i).all[0]:c2(r)}}}function YM(){return{format:"utf-8",commands:["branch","-v"],parser:c2}}function ZM(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(n,r){return Ul(n,r)},onError({exitCode:n,stdOut:r},i,a,s){if(!o2(String(i),n))return s(i);a(r)}}}function KM(e,t=!1){let n={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(r,i){return Ul(r,i).branches[e]},onError({exitCode:r,stdErr:i,stdOut:a},s,o,l){if(!o2(String(s),r))return l(s);throw new Gs(n.parser($s(a),$s(i)),String(s))}};return n}var JM=W({"src/lib/tasks/branch.ts"(){"use strict";ta(),VM(),qM(),oe()}}),d2,QM=W({"src/lib/responses/CheckIgnore.ts"(){"use strict";d2=e=>e.split(/\n/g).map(t=>t.trim()).filter(t=>!!t)}}),p2={};nt(p2,{checkIgnoreTask:()=>eP});function eP(e){return{commands:["check-ignore",...e],format:"utf-8",parser:d2}}var tP=W({"src/lib/tasks/check-ignore.ts"(){"use strict";QM()}}),m2={};nt(m2,{cloneMirrorTask:()=>rP,cloneTask:()=>g2});function nP(e){return/^--upload-pack(=|$)/.test(e)}function g2(e,t,n){let r=["clone",...n];return bt(e)&&r.push(e),bt(t)&&r.push(t),r.find(nP)?Bt("git.fetch: potential exploit argument blocked."):Mt(r)}function rP(e,t,n){return be(n,"--mirror"),g2(e,t,n)}var iP=W({"src/lib/tasks/clone.ts"(){"use strict";tt(),oe()}});function aP(e,t){return Nt({raw:e,remote:null,branches:[],tags:[],updated:[],deleted:[]},y2,[e,t])}var y2,sP=W({"src/lib/parsers/parse-fetch.ts"(){"use strict";oe(),y2=[new ue(/From (.+)$/,(e,[t])=>{e.remote=t}),new ue(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.branches.push({name:t,tracking:n})}),new ue(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.tags.push({name:t,tracking:n})}),new ue(/- \[deleted]\s+\S+\s*-> (.+)$/,(e,[t])=>{e.deleted.push({tracking:t})}),new ue(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(e,[t,n,r,i])=>{e.updated.push({name:r,tracking:i,to:n,from:t})})]}}),v2={};nt(v2,{fetchTask:()=>lP});function oP(e){return/^--upload-pack(=|$)/.test(e)}function lP(e,t,n){let r=["fetch",...n];return e&&t&&r.push(e,t),r.find(oP)?Bt("git.fetch: potential exploit argument blocked."):{commands:r,format:"utf-8",parser:aP}}var cP=W({"src/lib/tasks/fetch.ts"(){"use strict";sP(),tt()}});function uP(e){return Nt({moves:[]},w2,e)}var w2,fP=W({"src/lib/parsers/parse-move.ts"(){"use strict";oe(),w2=[new ue(/^Renaming (.+) to (.+)$/,(e,[t,n])=>{e.moves.push({from:t,to:n})})]}}),b2={};nt(b2,{moveTask:()=>hP});function hP(e,t){return{commands:["mv","-v",...Pn(e),t],format:"utf-8",parser:uP}}var dP=W({"src/lib/tasks/move.ts"(){"use strict";fP(),oe()}}),x2={};nt(x2,{pullTask:()=>pP});function pP(e,t,n){let r=["pull",...n];return e&&t&&r.splice(1,0,e,t),{commands:r,format:"utf-8",parser(i,a){return hd(i,a)},onError(i,a,s,o){let l=xM($s(i.stdOut),$s(i.stdErr));if(l)return o(new Gs(l));o(a)}}}var mP=W({"src/lib/tasks/pull.ts"(){"use strict";ta(),Vw(),oe()}});function gP(e){let t={};return _2(e,([n])=>t[n]={name:n}),Object.values(t)}function yP(e){let t={};return _2(e,([n,r,i])=>{t.hasOwnProperty(n)||(t[n]={name:n,refs:{fetch:"",push:""}}),i&&r&&(t[n].refs[i.replace(/[^a-z]/g,"")]=r)}),Object.values(t)}function _2(e,t){Wh(e,n=>t(n.split(/\s+/)))}var vP=W({"src/lib/responses/GetRemoteSummary.ts"(){"use strict";oe()}}),S2={};nt(S2,{addRemoteTask:()=>wP,getRemotesTask:()=>bP,listRemotesTask:()=>xP,remoteTask:()=>_P,removeRemoteTask:()=>SP});function wP(e,t,n){return Mt(["remote","add",...n,e,t])}function bP(e){let t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?yP:gP}}function xP(e){let t=[...e];return t[0]!=="ls-remote"&&t.unshift("ls-remote"),Mt(t)}function _P(e){let t=[...e];return t[0]!=="remote"&&t.unshift("remote"),Mt(t)}function SP(e){return Mt(["remote","remove",e])}var EP=W({"src/lib/tasks/remote.ts"(){"use strict";vP(),tt()}}),E2={};nt(E2,{stashListTask:()=>kP});function kP(e={},t){let n=Lw(e),r=["stash","list",...n.commands,...t],i=Pw(n.splitter,n.fields,sd(r));return Hl(r)||{commands:r,format:"utf-8",parser:i}}var AP=W({"src/lib/tasks/stash-list.ts"(){"use strict";qs(),Rw(),fd(),jw()}}),k2={};nt(k2,{addSubModuleTask:()=>CP,initSubModuleTask:()=>TP,subModuleTask:()=>Gl,updateSubModuleTask:()=>FP});function CP(e,t){return Gl(["add",e,t])}function TP(e){return Gl(["init",...e])}function Gl(e){let t=[...e];return t[0]!=="submodule"&&t.unshift("submodule"),Mt(t)}function FP(e){return Gl(["update",...e])}var MP=W({"src/lib/tasks/sub-module.ts"(){"use strict";tt()}});function PP(e,t){let n=isNaN(e),r=isNaN(t);return n!==r?n?1:-1:n?A2(e,t):0}function A2(e,t){return e===t?0:e>t?1:-1}function OP(e){return e.trim()}function kl(e){return typeof e=="string"&&parseInt(e.replace(/^\D+/g,""),10)||0}var Sv,C2,RP=W({"src/lib/responses/TagList.ts"(){"use strict";Sv=class{constructor(e,t){this.all=e,this.latest=t}},C2=function(e,t=!1){let n=e.split(`
`).map(OP).filter(Boolean);t||n.sort(function(i,a){let s=i.split("."),o=a.split(".");if(s.length===1||o.length===1)return PP(kl(s[0]),kl(o[0]));for(let l=0,c=Math.max(s.length,o.length);l<c;l++){let u=A2(kl(s[l]),kl(o[l]));if(u)return u}return 0});let r=t?n[0]:[...n].reverse().find(i=>i.indexOf(".")>=0);return new Sv(n,r)}}}),T2={};nt(T2,{addAnnotatedTagTask:()=>jP,addTagTask:()=>LP,tagListTask:()=>IP});function IP(e=[]){let t=e.some(n=>/^--sort=/.test(n));return{format:"utf-8",commands:["tag","-l",...e],parser(n){return C2(n,t)}}}function LP(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function jP(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var DP=W({"src/lib/tasks/tag.ts"(){"use strict";RP()}}),BP=tF({"src/git.js"(e,t){"use strict";var{GitExecutor:n}=($F(),Ke(xw)),{SimpleGitApi:r}=(BM(),Ke(t2)),{Scheduler:i}=(NM(),Ke(n2)),{configurationErrorTask:a}=(tt(),Ke(Dh)),{asArray:s,filterArray:o,filterPrimitives:l,filterString:c,filterStringOrStringArray:u,filterType:f,getTrailingOptions:h,trailingFunctionArgument:d,trailingOptionsArgument:p}=(oe(),Ke(Vv)),{applyPatchTask:m}=(HM(),Ke(a2)),{branchTask:g,branchLocalTask:y,deleteBranchesTask:x,deleteBranchTask:_}=(JM(),Ke(f2)),{checkIgnoreTask:S}=(tP(),Ke(p2)),{checkIsRepoTask:b}=(Yv(),Ke(Wv)),{cloneTask:A,cloneMirrorTask:v}=(iP(),Ke(m2)),{cleanWithOptionsTask:k,isCleanOptionsArray:E}=(sw(),Ke(iw)),{diffSummaryTask:T}=(fd(),Ke(Iw)),{fetchTask:M}=(cP(),Ke(v2)),{moveTask:L}=(dP(),Ke(b2)),{pullTask:N}=(mP(),Ke(x2)),{pushTagsTask:j}=(Yw(),Ke(Xw)),{addRemoteTask:Y,getRemotesTask:le,listRemotesTask:fe,remoteTask:ae,removeRemoteTask:Re}=(EP(),Ke(S2)),{getResetMode:he,resetTask:$}=(vw(),Ke(mw)),{stashListTask:V}=(AP(),Ke(E2)),{addSubModuleTask:D,initSubModuleTask:se,subModuleTask:Ae,updateSubModuleTask:wt}=(MP(),Ke(k2)),{addAnnotatedTagTask:_e,addTagTask:ut,tagListTask:ee}=(DP(),Ke(T2)),{straightThroughBufferTask:De,straightThroughStringTask:Ce}=(tt(),Ke(Dh));function G(H,Z){this._plugins=Z,this._executor=new n(H.baseDir,new i(H.maxConcurrentProcesses),Z),this._trimmed=H.trimmed}(G.prototype=Object.create(r.prototype)).constructor=G,G.prototype.customBinary=function(H){return this._plugins.reconfigure("binary",H),this},G.prototype.env=function(H,Z){return arguments.length===1&&typeof H=="object"?this._executor.env=H:(this._executor.env=this._executor.env||{})[H]=Z,this},G.prototype.stashList=function(H){return this._runTask(V(p(arguments)||{},o(H)&&H||[]),d(arguments))};function at(H,Z,ve,Qe){return typeof ve!="string"?a(`git.${H}() requires a string 'repoPath'`):Z(ve,f(Qe,c),h(arguments))}G.prototype.clone=function(){return this._runTask(at("clone",A,...arguments),d(arguments))},G.prototype.mirror=function(){return this._runTask(at("mirror",v,...arguments),d(arguments))},G.prototype.mv=function(H,Z){return this._runTask(L(H,Z),d(arguments))},G.prototype.checkoutLatestTag=function(H){var Z=this;return this.pull(function(){Z.tags(function(ve,Qe){Z.checkout(Qe.latest,H)})})},G.prototype.pull=function(H,Z,ve,Qe){return this._runTask(N(f(H,c),f(Z,c),h(arguments)),d(arguments))},G.prototype.fetch=function(H,Z){return this._runTask(M(f(H,c),f(Z,c),h(arguments)),d(arguments))},G.prototype.silent=function(H){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},G.prototype.tags=function(H,Z){return this._runTask(ee(h(arguments)),d(arguments))},G.prototype.rebase=function(){return this._runTask(Ce(["rebase",...h(arguments)]),d(arguments))},G.prototype.reset=function(H){return this._runTask($(he(H),h(arguments)),d(arguments))},G.prototype.revert=function(H){let Z=d(arguments);return typeof H!="string"?this._runTask(a("Commit must be a string"),Z):this._runTask(Ce(["revert",...h(arguments,0,!0),H]),Z)},G.prototype.addTag=function(H){let Z=typeof H=="string"?ut(H):a("Git.addTag requires a tag name");return this._runTask(Z,d(arguments))},G.prototype.addAnnotatedTag=function(H,Z){return this._runTask(_e(H,Z),d(arguments))},G.prototype.deleteLocalBranch=function(H,Z,ve){return this._runTask(_(H,typeof Z=="boolean"?Z:!1),d(arguments))},G.prototype.deleteLocalBranches=function(H,Z,ve){return this._runTask(x(H,typeof Z=="boolean"?Z:!1),d(arguments))},G.prototype.branch=function(H,Z){return this._runTask(g(h(arguments)),d(arguments))},G.prototype.branchLocal=function(H){return this._runTask(y(),d(arguments))},G.prototype.raw=function(H){let Z=!Array.isArray(H),ve=[].slice.call(Z?arguments:H,0);for(let kt=0;kt<ve.length&&Z;kt++)if(!l(ve[kt])){ve.splice(kt,ve.length-kt);break}ve.push(...h(arguments,0,!0));var Qe=d(arguments);return ve.length?this._runTask(Ce(ve,this._trimmed),Qe):this._runTask(a("Raw: must supply one or more command to execute"),Qe)},G.prototype.submoduleAdd=function(H,Z,ve){return this._runTask(D(H,Z),d(arguments))},G.prototype.submoduleUpdate=function(H,Z){return this._runTask(wt(h(arguments,!0)),d(arguments))},G.prototype.submoduleInit=function(H,Z){return this._runTask(se(h(arguments,!0)),d(arguments))},G.prototype.subModule=function(H,Z){return this._runTask(Ae(h(arguments)),d(arguments))},G.prototype.listRemote=function(){return this._runTask(fe(h(arguments)),d(arguments))},G.prototype.addRemote=function(H,Z,ve){return this._runTask(Y(H,Z,h(arguments)),d(arguments))},G.prototype.removeRemote=function(H,Z){return this._runTask(Re(H),d(arguments))},G.prototype.getRemotes=function(H,Z){return this._runTask(le(H===!0),d(arguments))},G.prototype.remote=function(H,Z){return this._runTask(ae(h(arguments)),d(arguments))},G.prototype.tag=function(H,Z){let ve=h(arguments);return ve[0]!=="tag"&&ve.unshift("tag"),this._runTask(Ce(ve),d(arguments))},G.prototype.updateServerInfo=function(H){return this._runTask(Ce(["update-server-info"]),d(arguments))},G.prototype.pushTags=function(H,Z){let ve=j({remote:f(H,c)},h(arguments));return this._runTask(ve,d(arguments))},G.prototype.rm=function(H){return this._runTask(Ce(["rm","-f",...s(H)]),d(arguments))},G.prototype.rmKeepLocal=function(H){return this._runTask(Ce(["rm","--cached",...s(H)]),d(arguments))},G.prototype.catFile=function(H,Z){return this._catFile("utf-8",arguments)},G.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},G.prototype._catFile=function(H,Z){var ve=d(Z),Qe=["cat-file"],kt=Z[0];if(typeof kt=="string")return this._runTask(a("Git.catFile: options must be supplied as an array of strings"),ve);Array.isArray(kt)&&Qe.push.apply(Qe,kt);let Wu=H==="buffer"?De(Qe):Ce(Qe);return this._runTask(Wu,ve)},G.prototype.diff=function(H,Z){let ve=c(H)?a("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):Ce(["diff",...h(arguments)]);return this._runTask(ve,d(arguments))},G.prototype.diffSummary=function(){return this._runTask(T(h(arguments,1)),d(arguments))},G.prototype.applyPatch=function(H){let Z=u(H)?m(s(H),h([].slice.call(arguments,1))):a("git.applyPatch requires one or more string patches as the first argument");return this._runTask(Z,d(arguments))},G.prototype.revparse=function(){let H=["rev-parse",...h(arguments,!0)];return this._runTask(Ce(H,!0),d(arguments))},G.prototype.clean=function(H,Z,ve){let Qe=E(H),kt=Qe&&H.join("")||f(H,c)||"",Wu=h([].slice.call(arguments,Qe?1:0));return this._runTask(k(kt,Wu),d(arguments))},G.prototype.exec=function(H){let Z={commands:[],format:"utf-8",parser(){typeof H=="function"&&H()}};return this._runTask(Z)},G.prototype.clearQueue=function(){return this},G.prototype.checkIgnore=function(H,Z){return this._runTask(S(s(f(H,u,[]))),d(arguments))},G.prototype.checkIsRepo=function(H,Z){return this._runTask(b(f(H,c)),d(arguments))},t.exports=G}});Us();yr();var NP=class extends Yt{constructor(e,t){super(void 0,t),this.config=e}};yr();yr();var Xn=class extends Yt{constructor(e,t,n){super(e,n),this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}};ta();Mv();Yv();sw();cw();fw();pw();vw();function $P(e){return e?[{type:"spawn.before",action(r,i){e.aborted&&i.kill(new Xn(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(r,i){function a(){i.kill(new Xn(void 0,"abort","Abort signal received"))}e.addEventListener("abort",a),i.spawned.on("close",()=>e.removeEventListener("abort",a))}}]:void 0}function HP(e){return typeof e=="string"&&e.trim().toLowerCase()==="-c"}function UP(e,t){if(HP(e)&&/^\s*protocol(.[a-z]+)?.allow/.test(t))throw new Xn(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function GP(e,t){if(/^\s*--(upload|receive)-pack/.test(e))throw new Xn(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(t==="clone"&&/^\s*-u\b/.test(e))throw new Xn(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(t==="push"&&/^\s*--exec\b/.test(e))throw new Xn(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function zP({allowUnsafeProtocolOverride:e=!1,allowUnsafePack:t=!1}={}){return{type:"spawn.args",action(n,r){return n.forEach((i,a)=>{let s=a<n.length?n[a+1]:"";e||UP(i,s),t||GP(i,r.method)}),n}}}oe();function VP(e){let t=Ns(e,"-c");return{type:"spawn.args",action(n){return[...t,...n]}}}oe();var Ev=(0,Qi.deferred)().promise;function WP({onClose:e=!0,onExit:t=50}={}){function n(){let i=-1,a={close:(0,Qi.deferred)(),closeTimeout:(0,Qi.deferred)(),exit:(0,Qi.deferred)(),exitTimeout:(0,Qi.deferred)()},s=Promise.race([e===!1?Ev:a.closeTimeout.promise,t===!1?Ev:a.exitTimeout.promise]);return r(e,a.close,a.closeTimeout),r(t,a.exit,a.exitTimeout),{close(o){i=o,a.close.done()},exit(o){i=o,a.exit.done()},get exitCode(){return i},result:s}}function r(i,a,s){i!==!1&&(i===!0?a.promise:a.promise.then(()=>Oh(i))).then(s.done)}return{type:"spawn.after",action(i,a){return Ds(this,arguments,function*(s,{spawned:o,close:l}){var c,u;let f=n(),h=!0,d=()=>void(h=!1);(c=o.stdout)==null||c.on("data",d),(u=o.stderr)==null||u.on("data",d),o.on("error",d),o.on("close",p=>f.close(p)),o.on("exit",p=>f.exit(p));try{yield f.result,h&&(yield Oh(50)),l(f.exitCode)}catch(p){l(f.exitCode,p)}})}}}oe();var qP="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",kv="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function XP(e){return!e||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(e)}function Av(e,t){if(e.length<1||e.length>2)throw new Xn(void 0,"binary",qP);if(e.some(XP))if(t)console.warn(kv);else throw new Xn(void 0,"binary",kv);let[r,i]=e;return{binary:r,prefix:i}}function YP(e,t=["git"],n=!1){let r=Av(Pn(t),n);e.on("binary",i=>{r=Av(Pn(i),n)}),e.append("spawn.binary",()=>r.binary),e.append("spawn.args",i=>r.prefix?[r.prefix,...i]:i)}yr();function ZP(e){return!!(e.exitCode&&e.stdErr.length)}function KP(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function JP(e=!1,t=ZP,n=KP){return(r,i)=>!e&&r||!t(i)?r:n(i)}function Cv(e){return{type:"task.error",action(t,n){let r=e(t.error,{stdErr:n.stdErr,stdOut:n.stdOut,exitCode:n.exitCode});return Buffer.isBuffer(r)?{error:new Yt(void 0,r.toString("utf-8"))}:{error:r}}}}oe();var QP=class{constructor(){this.plugins=new Set,this.events=new F2.EventEmitter}on(e,t){this.events.on(e,t)}reconfigure(e,t){this.events.emit(e,t)}append(e,t){let n=be(this.plugins,{type:e,action:t});return()=>this.plugins.delete(n)}add(e){let t=[];return Pn(e).forEach(n=>n&&this.plugins.add(be(t,n))),()=>{t.forEach(n=>this.plugins.delete(n))}}exec(e,t,n){let r=t,i=Object.freeze(Object.create(n));for(let a of this.plugins)a.type===e&&(r=a.action(r,i));return r}};oe();function eO(e){let t="--progress",n=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(a,s){return n.includes(s.method)?jv(a,t):a}},{type:"spawn.after",action(a,s){var o;s.commands.includes(t)&&((o=s.spawned.stderr)==null||o.on("data",l=>{let c=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(l.toString("utf8"));c&&e({method:s.method,stage:tO(c[1]),progress:Le(c[2]),processed:Le(c[3]),total:Le(c[4])})}))}}]}function tO(e){return String(e.toLowerCase().split(" ",1))||"unknown"}oe();function nO(e){let t=Nv(e,["uid","gid"]);return{type:"spawn.options",action(n){return rn(rn({},t),n)}}}function rO({block:e,stdErr:t=!0,stdOut:n=!0}){if(e>0)return{type:"spawn.after",action(r,i){var a,s;let o;function l(){o&&clearTimeout(o),o=setTimeout(u,e)}function c(){var f,h;(f=i.spawned.stdout)==null||f.off("data",l),(h=i.spawned.stderr)==null||h.off("data",l),i.spawned.off("exit",c),i.spawned.off("close",c),o&&clearTimeout(o)}function u(){c(),i.kill(new Xn(void 0,"timeout","block timeout reached"))}n&&((a=i.spawned.stdout)==null||a.on("data",l)),t&&((s=i.spawned.stderr)==null||s.on("data",l)),i.spawned.on("exit",c),i.spawned.on("close",c),l()}}}Us();function iO(){return{type:"spawn.args",action(e){let t=[],n;function r(i){(n=n||[]).push(...i)}for(let i=0;i<e.length;i++){let a=e[i];if(Ml(a)){r(Ky(a));continue}if(a==="--"){r(e.slice(i+1).flatMap(s=>Ml(s)&&Ky(s)||s));break}t.push(a)}return n?[...t,"--",...n.map(String)]:t}}}oe();var aO=BP();function sO(e,t){var n;let r=new QP,i=Gv(e&&(typeof e=="string"?{baseDir:e}:e)||{},t);if(!qh(i.baseDir))throw new NP(i,"Cannot use simple-git on a directory that does not exist");return Array.isArray(i.config)&&r.add(VP(i.config)),r.add(zP(i.unsafe)),r.add(iO()),r.add(WP(i.completion)),i.abort&&r.add($P(i.abort)),i.progress&&r.add(eO(i.progress)),i.timeout&&r.add(rO(i.timeout)),i.spawnOptions&&r.add(nO(i.spawnOptions)),r.add(Cv(JP(!0))),i.errors&&r.add(Cv(i.errors)),YP(r,i.binary,(n=i.unsafe)==null?void 0:n.allowUnsafeCustomBinary),new aO(i,r)}ta();var M2=sO;w();var P2=require("obsidian"),zl="YYYY-MM-DD",md=`${zl} HH:mm`,gd=`${zl} HH:mm:ss`,Vl=40,na="conflict-files-obsidian-git.md",Rn={commitMessage:"vault backup: {{date}}",commitDateFormat:gd,autoSaveInterval:0,autoPushInterval:0,autoPullInterval:0,autoPullOnBoot:!1,disablePush:!1,pullBeforePush:!0,disablePopups:!1,disablePopupsForNoChanges:!1,listChangedFilesInMessageBody:!1,showStatusBar:!0,updateSubmodules:!1,syncMethod:"merge",customMessageOnAutoBackup:!1,autoBackupAfterFileChange:!1,treeStructure:!1,refreshSourceControl:P2.Platform.isDesktopApp,basePath:"",differentIntervalCommitAndPush:!1,changedFilesInStatusBar:!1,showedMobileNotice:!1,refreshSourceControlTimer:7e3,showBranchStatusBar:!0,setLastSaveToLastCommit:!1,submoduleRecurseCheckout:!1,gitDir:"",showFileMenu:!0,authorInHistoryView:"hide",dateInHistoryView:!1,diffStyle:"split",lineAuthor:{show:!1,followMovement:"inactive",authorDisplay:"initials",showCommitHash:!1,dateTimeFormatOptions:"date",dateTimeFormatCustomString:md,dateTimeTimezone:"viewer-local",coloringMaxAge:"1y",colorNew:{r:255,g:150,b:150},colorOld:{r:120,g:160,b:255},textColorCss:"var(--text-muted)",ignoreWhitespace:!1,gutterSpacingFallbackLength:5}},yt={type:"git-view",name:"Source Control",icon:"git-pull-request"},an={type:"git-history-view",name:"History",icon:"history"},vr={type:"split-diff-view",name:"Diff view",icon:"diff"},wr={type:"diff-view",name:"Diff View",icon:"git-pull-request"},Wl="C:\\Program Files\\Git\\cmd\\git.exe",ql="git_credentials_input",ra="obsidian_askpass.sh",O2=`#!/bin/sh

PROMPT="$1"
TEMP_FILE="$OBSIDIAN_GIT_CREDENTIALS_INPUT"

cleanup() {
    rm -f "$TEMP_FILE" "$TEMP_FILE.response"
}
trap cleanup EXIT

echo "$PROMPT" > "$TEMP_FILE"

while [ ! -e "$TEMP_FILE.response" ]; do
    if [ ! -e "$TEMP_FILE" ]; then
        echo "Trigger file got removed: Abort" >&2
        exit 1
    fi
    sleep 0.1
done

RESPONSE=$(cat "$TEMP_FILE.response")

echo "$RESPONSE"
`,R2=["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"];w();var I2=require("obsidian"),oO={options:[],placeholder:"",allowEmpty:!1,onlySelection:!1,initialValue:void 0},je=class extends I2.SuggestModal{constructor(t,n){super(t.app),this.config={...oO,...n},this.setPlaceholder(this.config.placeholder)}openAndGetResult(){return new Promise(t=>{this.resolve=t,this.open(),this.config.initialValue!=null&&(this.inputEl.value=this.config.initialValue,this.inputEl.dispatchEvent(new Event("input")))})}onClose(){new Promise(t=>setTimeout(t,10)).then(()=>{this.resolve&&this.resolve(void 0)})}getSuggestions(t){return this.config.onlySelection?this.config.options:this.config.allowEmpty?[t.length>0?t:" ",...this.config.options]:[t.length>0?t:"...",...this.config.options]}renderSuggestion(t,n){n.setText(t)}onChooseSuggestion(t,n){if(this.resolve){let r;this.config.allowEmpty&&t===" "?r="":t==="..."?r=void 0:r=t,this.resolve(r)}}};w();function L2(e,t){let n=Object.assign({},e.lineAuthor,t.lineAuthor);return Object.assign({},e,t,{lineAuthor:n})}var ia=class extends Error{constructor(n){super("No network connection available");this.originalError=n}};w();var yE=Ze(Q2()),vE=Ze(gE()),ma=require("obsidian");var Dp=(e,t)=>e==="."||t==null||t.length===0||t==="."?!0:t.length>=e.length?t.startsWith(e):e.startsWith(t);function vn(e,t){let n;if(t){if(t.button===0||t.button===1){let r=ma.Keymap.isModEvent(t);n=e.workspace.getLeaf(r)}}else n=e.workspace.getLeaf(!1);return n}function jn(e,t,n,r,i){if(t.button==2){let a=e.vault.getAbstractFileByPath(n);if(a!=null){let s=new ma.Menu;e.workspace.trigger("file-menu",s,a,i,r),s.showAtPosition({x:t.pageX,y:t.pageY})}}}function kr(e){throw new Error("Impossible branch: "+e)}function Bp(e){return`rgb(${e.r},${e.g},${e.b})`}function wE(e){var a;let t=(a=yE.fromString(e))==null?void 0:a.toRgbaArray();if(t===void 0)return;let[n,r,i]=t;return{r:n,g:r,b:i}}function bE(e){return e.diff(ma.moment.unix(0),"seconds")}function xE(e){if(e.length!==0)return e.slice().sort()[Math.floor(e.length/2)]}function _E(e,t){return(0,vE.default)(e,t,{strict:!0})}function Ar(e,t){return new Proxy(e,{get(n,r){return r==="length"?Math.min(t,n.length):n[r]}})}function SE(e,t,n){return e.length<=t?new Array(t-e.length).fill(n).join("")+e:e.substring(e.length-t)}function EE(e,t){if(t<=0)return e;let n=new Array(t).fill(" ").join(""),r=e.substring(t,e.length);return n+r}function Np(e,t,n){return e<=t&&t<=n}function Cr(e){let[t,...n]=e.split("/");return[t,n.length===0?void 0:n.join("/")]}function $t(e){return e.endsWith("/")?e:e.split("/").last().replace(".md","")}function so(e){return e===1?"1 minute":`${e} minutes`}function cj(e){let t=e.lastIndexOf(".");return e.substring(t+1)}function ga(e){if(e.endsWith(".md"))return!1;let t=cj(e);return R2.includes(t)}w();var kE=require("obsidian"),ya=class{constructor(t){this.plugin=t,this.app=t.app}getRelativeVaultPath(t){return this.plugin.settings.basePath?this.plugin.settings.basePath+"/"+t:t}getRelativeRepoPath(t,n=!0){return n&&this.plugin.settings.basePath.length>0?t.substring(this.plugin.settings.basePath.length+1):t}unload(){}_getTreeStructure(t,n=0){let r=[];for(t=[...t];t.length>0;){let i=t.first(),a=i.path.substring(n);if(a.contains("/")){let s=a.substring(0,a.indexOf("/")),o=t.filter(c=>c.path.substring(n).startsWith(s+"/"));o.forEach(c=>t.remove(c));let l=i.path.substring(0,a.indexOf("/")+n);r.push({title:s,path:l,vaultPath:this.getRelativeVaultPath(l),children:this._getTreeStructure(o,(n>0?n+s.length:s.length)+1)})}else r.push({title:a,data:i,path:i.path,vaultPath:this.getRelativeVaultPath(i.path)}),t.remove(i)}return r}simplify(t){var n,r,i,a;for(let s of t){for(;;){let o=((n=s.children)==null?void 0:n.length)==1,l=((i=(r=s.children)==null?void 0:r.first())==null?void 0:i.data)==null;if(!(s.children!=null&&o&&l))break;let c=s.children.first();s.title+="/"+c.title,s.data=c.data,s.path=c.path,s.vaultPath=c.vaultPath,s.children=c.children}s.children!=null&&this.simplify(s.children),(a=s.children)==null||a.sort((o,l)=>{let c=(l.data==null?1:0)-(o.data==null?1:0);return c!=0?c:o.title.localeCompare(l.title)})}return t.sort((s,o)=>{let l=(o.data==null?1:0)-(s.data==null?1:0);return l!=0?l:s.title.localeCompare(o.title)})}getTreeStructure(t){let n=this._getTreeStructure(t);return this.simplify(n)}async formatCommitMessage(t){let n;if(t.includes("{{numFiles}}")){n=await this.status();let r=n.staged.length;t=t.replace("{{numFiles}}",String(r))}if(t.includes("{{hostname}}")){let r=this.plugin.localStorage.getHostname()||"";t=t.replace("{{hostname}}",r)}if(t.includes("{{files}}")){n=n!=null?n:await this.status();let r={},i="";if(n.staged.length<100){n.staged.forEach(s=>{s.index in r?r[s.index].push(s.path):r[s.index]=[s.path]});let a=[];for(let[s,o]of Object.entries(r))a.push(s+" "+o.join(" "));i=a.join(", ")}else i="Too many files to list";t=t.replace("{{files}}",i)}if(t=t.replace("{{date}}",(0,kE.moment)().format(this.plugin.settings.commitDateFormat)),this.plugin.settings.listChangedFilesInMessageBody){let r=n!=null?n:await this.status(),i="";r.staged.length<100?i=r.staged.map(a=>a.path).join(`
`):i="Too many files to list",t=t+`

Affected files:
`+i}return t}};var Se=class extends ya{constructor(n){super(n);this.useDefaultWindowsGitPath=!1}async setGitInstance(n=!1){if(this.isGitInstalled()){let r=this.app.vault.adapter,i=r.getBasePath(),a=i;this.plugin.settings.basePath&&(await r.exists((0,Jn.normalizePath)(this.plugin.settings.basePath))?a=Ge.join(i,this.plugin.settings.basePath):n||new Jn.Notice("ObsidianGit: Base path does not exist")),this.absoluteRepoPath=a,this.git=M2({baseDir:a,binary:this.plugin.localStorage.getGitPath()||(this.useDefaultWindowsGitPath?Wl:void 0),config:["core.quotepath=off"],unsafe:{allowUnsafeCustomBinary:!0}});let s=this.plugin.localStorage.getPATHPaths(),o=this.plugin.localStorage.getEnvVars(),l=this.plugin.settings.gitDir;if(s.length>0){let f=process.env.PATH+":"+s.join(":");process.env.PATH=f}l&&(process.env.GIT_DIR=l);for(let f of o){let[h,d]=f.split("=");process.env[h]=d}if(TE.default.enable("simple-git"),await this.git.checkIsRepo()){let f=await this.git.revparse("--show-cdup"),h=(0,oo.resolve)(a+oo.sep+f);this.absoluteRepoPath=h,await this.git.cwd(h)}let c=Ge.join(i,this.app.vault.configDir,"plugins","obsidian-git"),u=Ge.join(c,ra);process.env.SSH_ASKPASS==null&&(process.env.SSH_ASKPASS=u),process.env.OBSIDIAN_GIT_CREDENTIALS_INPUT=Ge.join(c,ql),process.env.SSH_ASKPASS==u&&this.askpass().catch(f=>this.plugin.displayError(f))}}getRelativeVaultPath(n){let i=this.app.vault.adapter.getBasePath(),a=Ge.join(this.absoluteRepoPath,n),s=Ge.relative(i,a);return Jn.Platform.isWin&&(s=s.replace(/\\/g,"/")),s}getRelativeRepoPath(n,r=!0){if(r){let a=this.plugin.app.vault.adapter.getBasePath(),s=this.absoluteRepoPath,o=Ge.join(a,n),l=Ge.relative(s,o);return Jn.Platform.isWin&&(l=l.replace(/\\/g,"/")),l}return n}async askpass(){let n=this.app.vault.adapter,r=n.getBasePath(),i=Ge.join(r,this.app.vault.configDir,"plugins","obsidian-git"),a=this.app.vault.configDir+"/plugins/obsidian-git/";await Qn.writeFile(Ge.join(i,ra),O2),await Qn.chmod(Ge.join(i,ra),493),this.watchAbortController=new AbortController;let{signal:s}=this.watchAbortController;try{let o=Qn.watch(i,{signal:s});for await(let l of o){if(l.filename!=ql)continue;let c=a+ql;if(!await n.exists(c))continue;let u=await n.read(c),f;u.length>60&&(f=new Jn.Notice(u,999999));let h=await new je(this.plugin,{allowEmpty:!0,placeholder:u.length>60?"Enter a response to the message.":u}).openAndGetResult();f==null||f.hide(),await n.exists(c)&&await n.write(`${c}.response`,h!=null?h:"")}}catch(o){this.plugin.displayError(o),await Qn.rm(Ge.join(i,ra),{force:!0}),await Qn.rm(Ge.join(i,`${ra}.response`),{force:!0}),await new Promise(l=>setTimeout(l,5e3)),this.plugin.log("Retry watch for ask pass"),await this.askpass()}}unload(){var n;(n=this.watchAbortController)==null||n.abort()}async status(){this.plugin.setPluginState({gitAction:1});let n=await this.git.status();this.plugin.setPluginState({gitAction:0});let r=n.files.map(i=>{let a=this.formatPath(i);return{path:a.path,from:a.from,index:i.index==="?"?"U":i.index,working_dir:i.working_dir==="?"?"U":i.working_dir,vault_path:this.getRelativeVaultPath(a.path)}});return{all:r,changed:r.filter(i=>i.working_dir!==" "),staged:r.filter(i=>i.index!==" "&&i.index!="U"),conflicted:n.conflicted.map(i=>this.formatPath({path:i}).path)}}async submoduleAwareHeadRevisonInContainingDirectory(n){let r=this.getRelativeRepoPath(n),a=["-C",Ge.dirname(r),"rev-parse","HEAD"],s=this.git.raw(a);return s.catch(o=>console.warn("obsidian-git: rev-parse error:",o)),s}async getSubmodulePaths(){return new Promise(n=>{this.git.outputHandler((r,i,a,s)=>{if(!(s.contains("submodule")&&s.contains("foreach")))return;let o="",l=this.app.vault.adapter.getBasePath()+(this.plugin.settings.basePath?"/"+this.plugin.settings.basePath:"");i.on("data",c=>{o+=c.toString("utf8")}),i.on("end",()=>{let u=o.split(`
`).map(f=>{let h=f.match(/'([^']*)'/);if(h!=null)return l+"/"+h[1]+oo.sep}).filter(f=>!!f);u.reverse(),n(u)})}),this.git.subModule(["foreach","--recursive",""]).then(()=>{this.git.outputHandler(()=>{})},r=>this.plugin.displayError(r))})}formatPath(n,r=!1){function i(a){if(a!=null)return a.startsWith('"')&&a.endsWith('"')?a.substring(1,a.length-1):a}return r?{from:i(n.from),path:i(n.path)}:{path:i(n.path)}}async blame(n,r,i){if(n=this.getRelativeRepoPath(n),!await this.isTracked(n))return"untracked";let a=await this.getSubmoduleOfFile(n),s=a?["-C",a.submodule]:[],o=a?a.relativeFilepath:n;s.push("blame","--porcelain"),i&&s.push("-w");let l=`-C${Vl}`;switch(r){case"inactive":break;case"same-commit":s.push("-C",l);break;case"all-commits":s.push("-C","-C",l);break;default:kr(r)}s.push("--",o);let c=await this.git.raw(s);return uj(c)}async isTracked(n){let r=await this.getSubmoduleOfFile(n),i=r?["-C",r.submodule]:[],a=r?r.relativeFilepath:n;return i.push("ls-files","--",a),this.git.raw(i).then(s=>s.trim()!=="")}async commitAll({message:n}){if(this.plugin.settings.updateSubmodules){this.plugin.setPluginState({gitAction:4});let i=await this.getSubmodulePaths();for(let a of i)await this.git.cwd({path:a,root:!1}).add("-A"),await this.git.cwd({path:a,root:!1}).commit(await this.formatCommitMessage(n))}this.plugin.setPluginState({gitAction:3}),await this.git.add("-A"),this.plugin.setPluginState({gitAction:4});let r=await this.git.commit(await this.formatCommitMessage(n));return this.app.workspace.trigger("obsidian-git:head-change"),r.summary.changes}async commit({message:n,amend:r}){this.plugin.setPluginState({gitAction:4});let i=(await this.git.commit(await this.formatCommitMessage(n),r?["--amend"]:[])).summary.changes;return this.app.workspace.trigger("obsidian-git:head-change"),this.plugin.setPluginState({gitAction:0}),i}async stage(n,r){this.plugin.setPluginState({gitAction:3}),n=this.getRelativeRepoPath(n,r),await this.git.add(["--",n]),this.plugin.setPluginState({gitAction:0})}async stageAll({dir:n}){this.plugin.setPluginState({gitAction:3}),await this.git.add(n!=null?n:"-A"),this.plugin.setPluginState({gitAction:0})}async unstageAll({dir:n}){this.plugin.setPluginState({gitAction:3}),await this.git.reset(n!=null?["--",n]:[]),this.plugin.setPluginState({gitAction:0})}async unstage(n,r){this.plugin.setPluginState({gitAction:3}),n=this.getRelativeRepoPath(n,r),await this.git.reset(["--",n]),this.plugin.setPluginState({gitAction:0})}async discard(n){this.plugin.setPluginState({gitAction:3}),await this.isTracked(n)?await this.git.checkout(["--",n]):await this.app.vault.adapter.rmdir(this.getRelativeVaultPath(n),!0),this.plugin.setPluginState({gitAction:0})}async hashObject(n){n=this.getRelativeRepoPath(n);let r=await this.getSubmoduleOfFile(n),i=r?["-C",r.submodule]:[],a=r?r.relativeFilepath:n;return i.push("hash-object","--",a),this.git.raw(i)}async discardAll({dir:n}){return this.discard(n!=null?n:".")}async pull(){this.plugin.setPluginState({gitAction:2});try{this.plugin.settings.updateSubmodules&&await this.git.subModule(["update","--remote","--merge","--recursive"]);let n=await this.branchInfo(),r=await this.git.revparse([n.current]);if(!n.tracking&&this.plugin.settings.updateSubmodules){this.plugin.log("No tracking branch found. Ignoring pull of main repo and updating submodules only.");return}await this.git.fetch();let i=await this.git.revparse([n.tracking]);if(r!==i){if(this.plugin.settings.syncMethod==="merge"||this.plugin.settings.syncMethod==="rebase")try{switch(this.plugin.settings.syncMethod){case"merge":await this.git.merge([n.tracking]);break;case"rebase":await this.git.rebase([n.tracking])}}catch(o){this.plugin.displayError(`Pull failed (${this.plugin.settings.syncMethod}): ${"message"in o?o.message:o}`);return}else if(this.plugin.settings.syncMethod==="reset")try{await this.git.raw(["update-ref",`refs/heads/${n.current}`,i]),await this.unstageAll({})}catch(o){this.plugin.displayError(`Sync failed (${this.plugin.settings.syncMethod}): ${"message"in o?o.message:o}`)}this.app.workspace.trigger("obsidian-git:head-change");let a=await this.git.revparse([n.current]);return(await this.git.diff([`${r}..${a}`,"--name-only"])).split(/\r\n|\r|\n/).filter(o=>o.length>0).map(o=>({path:o,working_dir:"P",vault_path:this.getRelativeVaultPath(o)}))}else return[]}catch(n){this.convertErrors(n)}}async push(){this.plugin.setPluginState({gitAction:5});try{if(this.plugin.settings.updateSubmodules){let s=await this.git.env({...process.env,OBSIDIAN_GIT:1}).subModule(["foreach","--recursive",`tracking=$(git for-each-ref --format='%(upstream:short)' "$(git symbolic-ref -q HEAD)"); echo $tracking; if [ ! -z "$(git diff --shortstat $tracking)" ]; then git push; fi`]);console.log(s)}let n=await this.git.status(),r=n.tracking,i=n.current;if(!r&&this.plugin.settings.updateSubmodules){this.plugin.log("No tracking branch found. Ignoring push of main repo and updating submodules only.");return}let a=(await this.git.diffSummary([i,r,"--"])).changed;return await this.git.env({...process.env,OBSIDIAN_GIT:1}).push(),a}catch(n){this.convertErrors(n)}}async getUnpushedCommits(){let n=await this.git.status(),r=n.tracking,i=n.current;return r==null||i==null?0:(await this.git.diffSummary([i,r,"--"])).changed}async canPush(){if(this.plugin.settings.updateSubmodules===!0)return!0;let n=await this.git.status(),r=n.tracking,i=n.current;return r?(await this.git.diffSummary([i,r,"--"])).changed!==0:!1}async checkRequirements(){return this.isGitInstalled()?await this.git.checkIsRepo()?"valid":"missing-repo":"missing-git"}async branchInfo(){let n=await this.git.status(),r=await this.git.branch(["--no-color"]);return{current:n.current||void 0,tracking:n.tracking||void 0,branches:r.all}}async getRemoteUrl(n){try{return await this.git.remote(["get-url",n])||void 0}catch(r){if(String(r).contains(n))return;throw r}}async log(n,r=!0,i){let a;return n&&(a=this.getRelativeRepoPath(n,r)),(await this.git.log({file:a,maxCount:i,"--diff-merges":"first-parent","--name-status":null})).all.map(o=>{var l,c,u,f;return{...o,author:{name:o.author_name,email:o.author_email},refs:o.refs.split(", ").filter(h=>h.length>0),diff:{...o.diff,files:(c=(l=o.diff)==null?void 0:l.files.map(h=>({...h,status:h.status,path:h.file,hash:o.hash,vault_path:this.getRelativeVaultPath(h.file),fromPath:h.from,fromVaultPath:h.from!=null?this.getRelativeVaultPath(h.from):void 0,binary:h.binary})))!=null?c:[]},fileName:(f=(u=o.diff)==null?void 0:u.files.first())==null?void 0:f.file}})}async show(n,r,i=!0){let a=this.getRelativeRepoPath(r,i);return this.git.show([n+":"+a])}async checkout(n,r){if(r&&(n=`${r}/${n}`),await this.git.checkout(n),this.plugin.settings.submoduleRecurseCheckout){let i=await this.getSubmodulePaths();for(let a of i){let s=await this.git.cwd({path:a,root:!1}).branch();Object.keys(s.branches).includes(n)&&await this.git.cwd({path:a,root:!1}).checkout(n)}}}async createBranch(n){await this.git.checkout(["-b",n])}async deleteBranch(n,r){await this.git.branch([r?"-D":"-d",n])}async branchIsMerged(n){return!(await this.git.branch(["--no-merged"])).all.contains(n)}async init(){await this.git.init(!1)}async clone(n,r,i){await this.git.clone(n,Ge.join(this.app.vault.adapter.getBasePath(),r),i?["--depth",`${i}`]:[])}async setConfig(n,r){r==null?await this.git.raw(["config","--local","--unset",n]):await this.git.addConfig(n,r)}async getConfig(n){let i=(await this.git.listConfig("local")).all[n];if(typeof i=="string"||i==null)return i;throw new Error("Config value is not a string")}async fetch(n){await this.git.fetch(n!=null?[n]:[])}async setRemote(n,r){(await this.getRemotes()).includes(n)?await this.git.remote(["set-url",n,r]):await this.git.remote(["add",n,r])}async getRemoteBranches(n){let r=await this.git.branch(["-r","--list",`${n}*`]),i=[];for(let a in r.branches)i.push(r.branches[a].name);return i}async getRemotes(){let n=await this.git.remote([]);return n?n.trim().split(`
`):[]}async removeRemote(n){await this.git.removeRemote(n)}async updateUpstreamBranch(n){try{await this.git.branch(["--set-upstream-to",n])}catch(r){try{await this.git.branch(["--set-upstream",n])}catch(i){await this.git.push(["--set-upstream",...Cr(n)])}}}updateGitPath(n){return this.setGitInstance()}updateBasePath(n){return this.setGitInstance(!0)}async getDiffString(n,r=!1,i){return r?await this.git.diff(["--cached","--",n]):i?await this.git.show([`${i}`,"--",n]):await this.git.diff(["--",n])}async diff(n,r,i){return await this.git.diff([`${r}..${i}`,"--",n])}async rawCommand(n){let r=n.split(" ");return await this.git.raw(r[0],...r.slice(1))}async getSubmoduleOfFile(n){if(!await this.app.vault.adapter.exists(Ge.dirname(n)))return;let r=await this.git.raw(["-C",Ge.dirname(n),"rev-parse","--show-toplevel"],l=>l&&console.warn("get-submodule-of-file",l==null?void 0:l.message));if(r=r.trim(),(await this.git.raw(["-C",Ge.dirname(n),"rev-parse","--show-superproject-working-tree"],l=>l&&console.warn("get-submodule-of-file",l==null?void 0:l.message))).trim()==="")return;let s=this.app.vault.adapter.getFullPath(Ge.normalize(n)),o=Ge.relative(r,s);return{submodule:r,relativeFilepath:o}}async getLastCommitTime(){let n=await this.git.log({n:1});if(n!=null&&n.latest!=null)return new Date(n.latest.date)}isGitInstalled(){let n=this.plugin.localStorage.getGitPath(),r=(0,Hp.spawnSync)(n||"git",["--version"],{stdio:"ignore"});if(r.error)if(Jn.Platform.isWin&&!n){this.plugin.log(`Git not found in PATH. Checking standard installation path(${Wl}) of Git for Windows.`);let i=(0,Hp.spawnSync)(Wl,["--version"],{stdio:"ignore"});if(i.error)return console.error(i.error),!1;this.useDefaultWindowsGitPath=!0}else return console.error(r.error),!1;else this.useDefaultWindowsGitPath=!1;return!0}convertErrors(n){if(n instanceof Yt){let r=String(n.message);if(r.contains("Could not resolve host")||r.contains("Unable to resolve host")||r.match(/ssh: connect to host .*? port .*?: Operation timed out/)!=null||r.match(/ssh: connect to host .*? port .*?: Network is unreachable/)!=null||r.match(/ssh: connect to host .*? port .*?: Undefined error: 0/)!=null)throw new ia(r)}throw n}},FE={hash:"000000",isZeroCommit:!0,summary:""};function uj(e){let n=e.replace(`\r
`,`
`).split(`
`),r={commits:new Map,hashPerLine:[void 0],originalFileLineNrPerLine:[void 0],finalFileLineNrPerLine:[void 0],groupSizePerStartingLine:new Map},i=1;for(let a=0;a<n.length;){if(AE(n[a])){let s=n[a].split(" "),o=fj(s,i,r);for(a++;AE(n[a]);a++){let l=n[a].split(" ");hj(l,r,i)}dj(r.commits.get(o)),i+=1}else if(!(n[a]===""&&a===n.length-1))throw Error(`Expected non-whitespace line or EOF, but found: ${n[a]}`);a++}return r}function fj(e,t,n){let r=e[0];if(n.hashPerLine.push(r),n.originalFileLineNrPerLine.push(parseInt(e[1])),n.finalFileLineNrPerLine.push(parseInt(e[2])),e.length>=4&&n.groupSizePerStartingLine.set(t,parseInt(e[3])),parseInt(e[2])!==t)throw Error(`git-blame output is out of order: ${t} vs ${e[2]}`);return r}function hj(e,t,n){let r=e[0],i=e.slice(1).join(" "),a=t.hashPerLine[n],s=t.commits.get(a)||{hash:a,author:{},committer:{},previous:{}};switch(r){case"summary":s.summary=i;break;case"author":s.author.name=i;break;case"author-mail":s.author.email=CE(i);break;case"author-time":s.author.epochSeconds=parseInt(i);break;case"author-tz":s.author.tz=i;break;case"committer":s.committer.name=i;break;case"committer-mail":s.committer.email=CE(i);break;case"committer-time":s.committer.epochSeconds=parseInt(i);break;case"committer-tz":s.committer.tz=i;break;case"previous":s.previous.commitHash=i;break;case"filename":s.previous.filename=i;break}t.commits.set(a,s)}function dj(e){if(e.summary===void 0)throw Error(`Summary not provided for commit: ${e.hash}`);$p(e.author)&&(e.author=void 0),$p(e.committer)&&(e.committer=void 0),$p(e.previous)&&(e.previous=void 0),e.isZeroCommit=!!e.hash.match(/^0*$/)}function $p(e){return!e||Object.keys(e).length===0}function AE(e){return e.length>0&&e[0].trim()===e[0]}function CE(e){let t=e.startsWith("<")?e.substring(1):e;return t.endsWith(">")?t.substring(0,t.length-1):t}w();var uk=require("@codemirror/state");w();var GE=require("@codemirror/state"),Yc=require("obsidian");w();var Up=class{constructor(){this.eventsPerFilepath=new Map;this.startRemoveStalesSubscribersInterval()}ifFilepathDefinedTransformSubscribers(t,n){if(t)return this.ensureInitialized(t),n(this.eventsPerFilepath.get(t))}forEachSubscriber(t){this.eventsPerFilepath.forEach(n=>n.forEach(t))}ensureInitialized(t){this.eventsPerFilepath.get(t)||this.eventsPerFilepath.set(t,new Set)}startRemoveStalesSubscribersInterval(){this.removeStalesSubscribersTimer=window.setInterval(()=>this==null?void 0:this.forEachSubscriber(t=>t==null?void 0:t.removeIfStale()),6e4)}clear(){window.clearInterval(this.removeStalesSubscribersTimer),this.eventsPerFilepath.clear()}},va=new Up;w();var Wc=require("@codemirror/state"),BE=Ze(Gp());w();var z=require("obsidian");w();w();function wn(){}wn.prototype={diff:function(t,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.callback;typeof i=="function"&&(a=i,i={});var s=this;function o(S){return S=s.postProcess(S,i),a?(setTimeout(function(){a(S)},0),!0):S}t=this.castInput(t,i),n=this.castInput(n,i),t=this.removeEmpty(this.tokenize(t,i)),n=this.removeEmpty(this.tokenize(n,i));var l=n.length,c=t.length,u=1,f=l+c;i.maxEditLength!=null&&(f=Math.min(f,i.maxEditLength));var h=(r=i.timeout)!==null&&r!==void 0?r:1/0,d=Date.now()+h,p=[{oldPos:-1,lastComponent:void 0}],m=this.extractCommon(p[0],n,t,0,i);if(p[0].oldPos+1>=c&&m+1>=l)return o(ME(s,p[0].lastComponent,n,t,s.useLongestToken));var g=-1/0,y=1/0;function x(){for(var S=Math.max(g,-u);S<=Math.min(y,u);S+=2){var b=void 0,A=p[S-1],v=p[S+1];A&&(p[S-1]=void 0);var k=!1;if(v){var E=v.oldPos-S;k=v&&0<=E&&E<l}var T=A&&A.oldPos+1<c;if(!k&&!T){p[S]=void 0;continue}if(!T||k&&A.oldPos<v.oldPos?b=s.addToPath(v,!0,!1,0,i):b=s.addToPath(A,!1,!0,1,i),m=s.extractCommon(b,n,t,S,i),b.oldPos+1>=c&&m+1>=l)return o(ME(s,b.lastComponent,n,t,s.useLongestToken));p[S]=b,b.oldPos+1>=c&&(y=Math.min(y,S-1)),m+1>=l&&(g=Math.max(g,S+1))}u++}if(a)(function S(){setTimeout(function(){if(u>f||Date.now()>d)return a();x()||S()},0)})();else for(;u<=f&&Date.now()<=d;){var _=x();if(_)return _}},addToPath:function(t,n,r,i,a){var s=t.lastComponent;return s&&!a.oneChangePerToken&&s.added===n&&s.removed===r?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:r,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:r,previousComponent:s}}},extractCommon:function(t,n,r,i,a){for(var s=n.length,o=r.length,l=t.oldPos,c=l-i,u=0;c+1<s&&l+1<o&&this.equals(r[l+1],n[c+1],a);)c++,l++,u++,a.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return u&&!a.oneChangePerToken&&(t.lastComponent={count:u,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},equals:function(t,n,r){return r.comparator?r.comparator(t,n):t===n||r.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function ME(e,t,n,r,i){for(var a=[],s;t;)a.push(t),s=t.previousComponent,delete t.previousComponent,t=s;a.reverse();for(var o=0,l=a.length,c=0,u=0;o<l;o++){var f=a[o];if(f.removed)f.value=e.join(r.slice(u,u+f.count)),u+=f.count;else{if(!f.added&&i){var h=n.slice(c,c+f.count);h=h.map(function(d,p){var m=r[u+p];return m.length>d.length?m:d}),f.value=e.join(h)}else f.value=e.join(n.slice(c,c+f.count));c+=f.count,f.added||(u+=f.count)}}return a}var sU=new wn;function PE(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function OE(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function Vp(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function Wp(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function lo(e,t){return Vp(e,t,"")}function Dc(e,t){return Wp(e,t,"")}function RE(e,t){return t.slice(0,pj(e,t))}function pj(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var i=Array(r),a=0;i[0]=0;for(var s=1;s<r;s++){for(t[s]==t[a]?i[s]=i[a]:i[s]=a;a>0&&t[s]!=t[a];)a=i[a];t[s]==t[a]&&a++}a=0;for(var o=n;o<e.length;o++){for(;a>0&&e[o]!=t[a];)a=i[a];e[o]==t[a]&&a++}return a}var Bc="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",mj=new RegExp("[".concat(Bc,"]+|\\s+|[^").concat(Bc,"]"),"ug"),$c=new wn;$c.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};$c.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(a){return a.segment})}else n=e.match(mj)||[];var r=[],i=null;return n.forEach(function(a){/\s/.test(a)?i==null?r.push(a):r.push(r.pop()+a):/\s/.test(i)?r[r.length-1]==i?r.push(r.pop()+a):r.push(i+a):r.push(a),i=a}),r};$c.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};$c.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,i=null;return e.forEach(function(a){a.added?r=a:a.removed?i=a:((r||i)&&IE(n,i,r,a),n=a,r=null,i=null)}),(r||i)&&IE(n,i,r,null),e};function IE(e,t,n,r){if(t&&n){var i=t.value.match(/^\s*/)[0],a=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],o=n.value.match(/\s*$/)[0];if(e){var l=PE(i,s);e.value=Wp(e.value,s,l),t.value=lo(t.value,l),n.value=lo(n.value,l)}if(r){var c=OE(a,o);r.value=Vp(r.value,o,c),t.value=Dc(t.value,c),n.value=Dc(n.value,c)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var u=r.value.match(/^\s*/)[0],f=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],d=PE(u,f);t.value=lo(t.value,d);var p=OE(lo(u,d),h);t.value=Dc(t.value,p),r.value=Vp(r.value,u,p),e.value=Wp(e.value,u,u.slice(0,u.length-p.length))}else if(r){var m=r.value.match(/^\s*/)[0],g=t.value.match(/\s*$/)[0],y=RE(g,m);t.value=Dc(t.value,y)}else if(e){var x=e.value.match(/\s*$/)[0],_=t.value.match(/^\s*/)[0],S=RE(x,_);t.value=lo(t.value,S)}}var gj=new wn;gj.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Bc,"]+|[^\\S\\n\\r]+|[^").concat(Bc,"]"),"ug");return e.match(t)||[]};var Hc=new wn;Hc.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var a=r[i];i%2&&!t.newlineIsToken?n[n.length-1]+=a:n.push(a)}return n};Hc.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),wn.prototype.equals.call(this,e,t,n)};function LE(e,t,n){return Hc.diff(e,t,n)}var yj=new wn;yj.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var vj=new wn;vj.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){xj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bj(e){var t=wj(e,"string");return typeof t=="symbol"?t:t+""}function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function xj(e,t,n){return t=bj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zp(e){return _j(e)||Sj(e)||Ej(e)||kj()}function _j(e){if(Array.isArray(e))return Xp(e)}function Sj(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ej(e,t){if(e){if(typeof e=="string")return Xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(e,t)}}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var co=new wn;co.useLongestToken=!0;co.tokenize=Hc.tokenize;co.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,s){return typeof s=="undefined"?n:s}:r;return typeof e=="string"?e:JSON.stringify(Yp(e,null,null,i),i,"  ")};co.equals=function(e,t,n){return wn.prototype.equals.call(co,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function Yp(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=Yp(e[a],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),qp(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var o=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.push(l);for(o.sort(),a=0;a<o.length;a+=1)l=o[a],s[l]=Yp(e[l],t,n,r,l);t.pop(),n.pop()}else s=e;return s}var Zp=new wn;Zp.tokenize=function(e){return e.slice()};Zp.join=Zp.removeEmpty=function(e){return e};function DE(e,t,n,r,i,a,s){if(s||(s={}),typeof s=="function"&&(s={callback:s}),typeof s.context=="undefined"&&(s.context=4),s.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(s.callback){var o=s,l=o.callback;LE(n,r,Nc(Nc({},s),{},{callback:function(f){var h=c(f);l(h)}}))}else return c(LE(n,r,s));function c(u){if(!u)return;u.push({value:"",lines:[]});function f(k){return k.map(function(E){return" "+E})}for(var h=[],d=0,p=0,m=[],g=1,y=1,x=function(){var E=u[_],T=E.lines||Cj(E.value);if(E.lines=T,E.added||E.removed){var M;if(!d){var L=u[_-1];d=g,p=y,L&&(m=s.context>0?f(L.lines.slice(-s.context)):[],d-=m.length,p-=m.length)}(M=m).push.apply(M,zp(T.map(function(fe){return(E.added?"+":"-")+fe}))),E.added?y+=T.length:g+=T.length}else{if(d)if(T.length<=s.context*2&&_<u.length-2){var N;(N=m).push.apply(N,zp(f(T)))}else{var j,Y=Math.min(T.length,s.context);(j=m).push.apply(j,zp(f(T.slice(0,Y))));var le={oldStart:d,oldLines:g-d+Y,newStart:p,newLines:y-p+Y,lines:m};h.push(le),d=0,p=0,m=[]}g+=T.length,y+=T.length}},_=0;_<u.length;_++)x();for(var S=0,b=h;S<b.length;S++)for(var A=b[S],v=0;v<A.lines.length;v++)A.lines[v].endsWith(`
`)?A.lines[v]=A.lines[v].slice(0,-1):(A.lines.splice(v+1,0,"\\ No newline at end of file"),v++);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:h}}}function Kp(e){if(Array.isArray(e))return e.map(Kp).join(`
`);var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader=="undefined"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader=="undefined"?"":"	"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join(`
`)+`
`}function Aj(e,t,n,r,i,a,s){var o;if(typeof s=="function"&&(s={callback:s}),(o=s)!==null&&o!==void 0&&o.callback){var c=s,u=c.callback;DE(e,t,n,r,i,a,Nc(Nc({},s),{},{callback:function(h){h?u(Kp(h)):u()}}))}else{var l=DE(e,t,n,r,i,a,s);return l?Kp(l):void 0}}function Uc(e,t,n,r,i,a){return Aj(e,e,t,n,r,i,a)}function Cj(e){var t=e.endsWith(`
`),n=e.split(`
`).map(function(r){return r+`
`});return t?n.pop():n.push(n.pop().slice(0,-1)),n}var si=require("obsidian");w();var Tr=require("obsidian"),Gc=class{constructor(t,n){this.plugin=n;this.promises={};this.adapter=t.adapter,this.vault=t,this.lastBasePath=this.plugin.settings.basePath,this.promises.readFile=this.readFile.bind(this),this.promises.writeFile=this.writeFile.bind(this),this.promises.readdir=this.readdir.bind(this),this.promises.mkdir=this.mkdir.bind(this),this.promises.rmdir=this.rmdir.bind(this),this.promises.stat=this.stat.bind(this),this.promises.unlink=this.unlink.bind(this),this.promises.lstat=this.lstat.bind(this),this.promises.readlink=this.readlink.bind(this),this.promises.symlink=this.symlink.bind(this)}async readFile(t,n){var r;if(this.maybeLog("Read: "+t+JSON.stringify(n)),n=="utf8"||n.encoding=="utf8"){let i=this.vault.getAbstractFileByPath(t);return i instanceof Tr.TFile?(this.maybeLog("Reuse"),this.vault.read(i)):this.adapter.read(t)}else{if(t.endsWith(this.gitDir+"/index"))return this.plugin.settings.basePath!=this.lastBasePath?(this.clearIndex(),this.lastBasePath=this.plugin.settings.basePath,this.adapter.readBinary(t)):(r=this.index)!=null?r:this.adapter.readBinary(t);let i=this.vault.getAbstractFileByPath(t);return i instanceof Tr.TFile?(this.maybeLog("Reuse"),this.vault.readBinary(i)):this.adapter.readBinary(t)}}async writeFile(t,n){if(this.maybeLog("Write: "+t),typeof n=="string"){let r=this.vault.getAbstractFileByPath(t);return r instanceof Tr.TFile?this.vault.modify(r,n):this.adapter.write(t,n)}else if(t.endsWith(this.gitDir+"/index"))this.index=n,this.indexmtime=Date.now();else{let r=this.vault.getAbstractFileByPath(t);return r instanceof Tr.TFile?this.vault.modifyBinary(r,n):this.adapter.writeBinary(t,n)}}async readdir(t){t==="."&&(t="/");let n=await this.adapter.list(t),r=[...n.files,...n.folders],i;return t!=="/"?i=r.map(a=>(0,Tr.normalizePath)(a.substring(t.length))):i=r,i}async mkdir(t){return this.adapter.mkdir(t)}async rmdir(t,n){var r,i;return this.adapter.rmdir(t,(i=(r=n==null?void 0:n.options)==null?void 0:r.recursive)!=null?i:!1)}async stat(t){if(t.endsWith(this.gitDir+"/index")){if(this.index!==void 0&&this.indexctime!=null&&this.indexmtime!=null)return{isFile:()=>!0,isDirectory:()=>!1,isSymbolicLink:()=>!1,size:this.index.length,type:"file",ctimeMs:this.indexctime,mtimeMs:this.indexmtime};{let r=await this.adapter.stat(t);if(r==null)throw{code:"ENOENT"};return this.indexctime=r.ctime,this.indexmtime=r.mtime,{ctimeMs:r.ctime,mtimeMs:r.mtime,size:r.size,type:"file",isFile:()=>!0,isDirectory:()=>!1,isSymbolicLink:()=>!1}}}t==="."&&(t="/");let n=this.vault.getAbstractFileByPath(t);if(this.maybeLog("Stat: "+t),n instanceof Tr.TFile)return this.maybeLog("Reuse stat"),{ctimeMs:n.stat.ctime,mtimeMs:n.stat.mtime,size:n.stat.size,type:"file",isFile:()=>!0,isDirectory:()=>!1,isSymbolicLink:()=>!1};{let r=await this.adapter.stat(t);if(r)return{ctimeMs:r.ctime,mtimeMs:r.mtime,size:r.size,type:r.type==="folder"?"directory":r.type,isFile:()=>r.type==="file",isDirectory:()=>r.type==="folder",isSymbolicLink:()=>!1};throw{code:"ENOENT"}}}async unlink(t){return this.adapter.remove(t)}async lstat(t){return this.stat(t)}async readlink(t){throw new Error(`readlink of (${t}) is not implemented.`)}async symlink(t){throw new Error(`symlink of (${t}) is not implemented.`)}async saveAndClear(){this.index!==void 0&&await this.adapter.writeBinary(this.plugin.gitManager.getRelativeVaultPath(this.gitDir+"/index"),this.index,{ctime:this.indexctime,mtime:this.indexmtime}),this.clearIndex()}clearIndex(){this.index=void 0,this.indexctime=void 0,this.indexmtime=void 0}get gitDir(){return this.plugin.settings.gitDir||".git"}maybeLog(t){}};var bn=class extends ya{constructor(n){super(n);this.FILE=0;this.HEAD=1;this.WORKDIR=2;this.STAGE=3;this.status_mapping={"000":"  ","003":"AD","020":"??","022":"A ","023":"AM",100:"D ",101:" D",103:"MD",110:"DA",111:"  ",113:"MM",120:"DA",121:" M",122:"M ",123:"MM"};this.noticeLength=999999;this.fs=new Gc(this.app.vault,this.plugin)}getRepo(){return{fs:this.fs,dir:this.plugin.settings.basePath,gitdir:this.plugin.settings.gitDir||void 0,onAuth:()=>{var n,r;return{username:(n=this.plugin.localStorage.getUsername())!=null?n:void 0,password:(r=this.plugin.localStorage.getPassword())!=null?r:void 0}},onAuthFailure:async()=>{new si.Notice("Authentication failed. Please try with different credentials");let n=await new je(this.plugin,{placeholder:"Specify your username"}).openAndGetResult();if(n){let r=await new je(this.plugin,{placeholder:"Specify your password/personal access token"}).openAndGetResult();if(r)return this.plugin.localStorage.setUsername(n),this.plugin.localStorage.setPassword(r),{username:n,password:r}}return{cancel:!0}},http:{async request({url:n,method:r,headers:i,body:a}){let s;a&&(s=(await Pj(a)).buffer);let o=await(0,si.requestUrl)({url:n,method:r,headers:i,body:s,throw:!1});return{url:n,method:r,headers:o.headers,body:[new Uint8Array(o.arrayBuffer)],statusCode:o.status,statusMessage:o.status.toString()}}}}}async wrapFS(n){try{let r=await n;return await this.fs.saveAndClear(),r}catch(r){throw await this.fs.saveAndClear(),r}}async status(){let n,r=window.setTimeout(()=>{n=new si.Notice("This takes longer: Getting status",this.noticeLength)},2e4);try{this.plugin.setPluginState({gitAction:1});let i=(await this.wrapFS(ie.statusMatrix({...this.getRepo()}))).map(l=>this.getFileStatusResult(l)),a=i.filter(l=>l.working_dir!==" "),s=i.filter(l=>l.index!==" "&&l.index!=="U"),o=[];return window.clearTimeout(r),n==null||n.hide(),{all:i,changed:a,staged:s,conflicted:o}}catch(i){throw window.clearTimeout(r),n==null||n.hide(),this.plugin.displayError(i),i}}async commitAll({message:n,status:r,unstagedFiles:i}){try{return await this.checkAuthorInfo(),await this.stageAll({status:r,unstagedFiles:i}),this.commit({message:n})}catch(a){throw this.plugin.displayError(a),a}}async commit({message:n}){try{await this.checkAuthorInfo(),this.plugin.setPluginState({gitAction:4});let r=await this.formatCommitMessage(n),i=this.plugin.localStorage.getConflict(),a;if(i){let s=await this.branchInfo();a=[s.current,s.tracking]}await this.wrapFS(ie.commit({...this.getRepo(),message:r,parent:a})),this.plugin.localStorage.setConflict(!1);return}catch(r){throw this.plugin.displayError(r),r}}async stage(n,r){let i=this.getRelativeRepoPath(n,r),a;r?a=n:a=this.getRelativeVaultPath(n);try{this.plugin.setPluginState({gitAction:3}),await this.app.vault.adapter.exists(a)?await this.wrapFS(ie.add({...this.getRepo(),filepath:i})):await this.wrapFS(ie.remove({...this.getRepo(),filepath:i}))}catch(s){throw this.plugin.displayError(s),s}}async stageAll({dir:n,status:r,unstagedFiles:i}){try{if(r)await Promise.all(r.changed.map(a=>a.working_dir!=="D"?this.wrapFS(ie.add({...this.getRepo(),filepath:a.path})):ie.remove({...this.getRepo(),filepath:a.path})));else{let a=i!=null?i:await this.getUnstagedFiles(n!=null?n:".");await Promise.all(a.map(({filepath:s,deleted:o})=>o?ie.remove({...this.getRepo(),filepath:s}):this.wrapFS(ie.add({...this.getRepo(),filepath:s}))))}}catch(a){throw this.plugin.displayError(a),a}}async unstage(n,r){try{this.plugin.setPluginState({gitAction:3}),n=this.getRelativeRepoPath(n,r),await this.wrapFS(ie.resetIndex({...this.getRepo(),filepath:n}))}catch(i){throw this.plugin.displayError(i),i}}async unstageAll({dir:n,status:r}){try{let i;r?i=r.staged.map(a=>a.path):i=(await this.getStagedFiles(n!=null?n:".")).map(({filepath:s})=>s),await this.wrapFS(Promise.all(i.map(a=>ie.resetIndex({...this.getRepo(),filepath:a}))))}catch(i){throw this.plugin.displayError(i),i}}async discard(n){try{this.plugin.setPluginState({gitAction:3}),await this.wrapFS(ie.checkout({...this.getRepo(),filepaths:[n],force:!0}))}catch(r){throw this.plugin.displayError(r),r}}async discardAll({dir:n,status:r}){let i=[];r?n!=null?i=r.changed.filter(a=>a.path.startsWith(n)).map(a=>a.path):i=r.changed.map(a=>a.path):i=(await this.getUnstagedFiles(n)).map(({filepath:a})=>a);try{await this.wrapFS(ie.checkout({...this.getRepo(),filepaths:i,force:!0}))}catch(a){throw this.plugin.displayError(a),a}}getProgressText(n,r){let i=`${n} progress:`;return r.phase&&(i=`${i} ${r.phase}:`),r.loaded&&(i=`${i} ${r.loaded}`,r.total&&(i=`${i} of ${r.total}`)),i}resolveRef(n){return this.wrapFS(ie.resolveRef({...this.getRepo(),ref:n}))}async pull(){let n=this.showNotice("Initializing pull");try{this.plugin.setPluginState({gitAction:2});let r=await this.resolveRef("HEAD");await this.fetch();let i=await this.branchInfo();await this.checkAuthorInfo(),(await this.wrapFS(ie.merge({...this.getRepo(),ours:i.current,theirs:i.tracking,abortOnConflict:!1}))).alreadyMerged||await this.wrapFS(ie.checkout({...this.getRepo(),ref:i.current,onProgress:l=>{n!==void 0&&(n.noticeEl.innerText=this.getProgressText("Checkout",l))},remote:i.remote})),n==null||n.hide();let s=await this.resolveRef("HEAD"),o=await this.getFileChangesCount(r,s);return this.showNotice("Finished pull",!1),o.map(l=>({path:l.path,working_dir:"P",index:"P",vault_path:this.getRelativeVaultPath(l.path)}))}catch(r){throw n==null||n.hide(),r instanceof Os.MergeConflictError&&await this.plugin.handleConflict(r.data.filepaths.map(i=>this.getRelativeVaultPath(i))),this.plugin.displayError(r),r}}async push(){if(!await this.canPush())return 0;let n=this.showNotice("Initializing push");try{this.plugin.setPluginState({gitAction:1});let r=await this.branchInfo(),i=r.tracking,a=r.current,s=(await this.getFileChangesCount(a,i)).length;return this.plugin.setPluginState({gitAction:5}),await this.wrapFS(ie.push({...this.getRepo(),onProgress:o=>{n!==void 0&&(n.noticeEl.innerText=this.getProgressText("Pushing",o))}})),n==null||n.hide(),s}catch(r){throw n==null||n.hide(),this.plugin.displayError(r),r}}async getUnpushedCommits(){let n=await this.branchInfo(),r=n.tracking,i=n.current;if(r==null||i==null)return 0;let a=await this.resolveRef(i),s=await this.resolveRef(r);return(await this.getFileChangesCount(a,s)).length}async canPush(){let n=await this.branchInfo(),r=n.tracking,i=n.current,a=await this.resolveRef(i),s=await this.resolveRef(r);return a!=s}async checkRequirements(){return await this.plugin.app.vault.adapter.exists(`${this.getRepo().dir}/.git/HEAD`)?"valid":"missing-repo"}async branchInfo(){var n,r;try{let i=await ie.currentBranch(this.getRepo())||"",a=await ie.listBranches(this.getRepo()),s=(n=await this.getConfig(`branch.${i}.remote`))!=null?n:"origin",o=(r=await this.getConfig(`branch.${i}.merge`))==null?void 0:r.split("refs/heads")[1],l=o?s+o:void 0;return{current:i,tracking:l,branches:a,remote:s}}catch(i){throw this.plugin.displayError(i),i}}async getCurrentRemote(){var i;let n=await ie.currentBranch(this.getRepo())||"";return(i=await this.getConfig(`branch.${n}.remote`))!=null?i:"origin"}async checkout(n,r){try{return this.wrapFS(ie.checkout({...this.getRepo(),ref:n,force:!!r,remote:r}))}catch(i){throw this.plugin.displayError(i),i}}async createBranch(n){try{await this.wrapFS(ie.branch({...this.getRepo(),ref:n,checkout:!0}))}catch(r){throw this.plugin.displayError(r),r}}async deleteBranch(n){try{await this.wrapFS(ie.deleteBranch({...this.getRepo(),ref:n}))}catch(r){throw this.plugin.displayError(r),r}}branchIsMerged(n){return Promise.resolve(!0)}async init(){try{await this.wrapFS(ie.init(this.getRepo()))}catch(n){throw this.plugin.displayError(n),n}}async clone(n,r,i){let a=this.showNotice("Initializing clone");try{await this.wrapFS(ie.clone({...this.getRepo(),dir:r,url:n,depth:i,onProgress:s=>{a!==void 0&&(a.noticeEl.innerText=this.getProgressText("Cloning",s))}})),a==null||a.hide()}catch(s){throw a==null||a.hide(),this.plugin.displayError(s),s}}async setConfig(n,r){try{return this.wrapFS(ie.setConfig({...this.getRepo(),path:n,value:r}))}catch(i){throw this.plugin.displayError(i),i}}async getConfig(n){try{return this.wrapFS(ie.getConfig({...this.getRepo(),path:n}))}catch(r){throw this.plugin.displayError(r),r}}async fetch(n){let r=this.showNotice("Initializing fetch");try{let i={...this.getRepo(),onProgress:a=>{r!==void 0&&(r.noticeEl.innerText=this.getProgressText("Fetching",a))},remote:n!=null?n:await this.getCurrentRemote()};await this.wrapFS(ie.fetch(i)),r==null||r.hide()}catch(i){throw this.plugin.displayError(i),r==null||r.hide(),i}}async setRemote(n,r){try{await this.wrapFS(ie.addRemote({...this.getRepo(),remote:n,url:r,force:!0}))}catch(i){throw this.plugin.displayError(i),i}}async getRemoteBranches(n){let r=[];return r.push(...await this.wrapFS(ie.listBranches({...this.getRepo(),remote:n}))),r.remove("HEAD"),r=r.map(i=>`${n}/${i}`),r}async getRemotes(){return(await this.wrapFS(ie.listRemotes({...this.getRepo()}))).map(n=>n.remote)}async removeRemote(n){await this.wrapFS(ie.deleteRemote({...this.getRepo(),remote:n}))}async getRemoteUrl(n){var r;return(r=(await this.wrapFS(ie.listRemotes({...this.getRepo()}))).filter(i=>i.remote==n)[0])==null?void 0:r.url}async log(n,r=!0,i){let a=await this.wrapFS(ie.log({...this.getRepo(),depth:i}));return Promise.all(a.map(async s=>{let o=s.commit.message.split(`

`);return{message:o[0],author:{name:s.commit.author.name,email:s.commit.author.email},body:o.slice(1).join(`

`),date:new Date(s.commit.committer.timestamp).toDateString(),diff:{changed:0,files:(await this.getFileChangesCount(s.commit.parent.first(),s.oid)).map(l=>({path:l.path,status:l.type,vault_path:this.getRelativeVaultPath(l.path),hash:s.oid}))},hash:s.oid,refs:[]}}))}updateBasePath(n){return this.getRepo().dir=n,Promise.resolve()}async updateUpstreamBranch(n){let[r,i]=Cr(n),a=await this.branchInfo();await this.wrapFS(ie.push({...this.getRepo(),remote:r,remoteRef:i})),await this.setConfig(`branch.${a.current}.merge`,`refs/heads/${i}`)}updateGitPath(n){return Promise.resolve()}async getFileChangesCount(n,r){return this.walkDifference({walkers:[ie.TREE({ref:n}),ie.TREE({ref:r})]})}async walkDifference({walkers:n,dir:r}){return await this.wrapFS(ie.walk({...this.getRepo(),trees:n,map:async function(a,[s,o]){if(!Dp(a,r))return null;if(await(s==null?void 0:s.type())==="tree"||await(o==null?void 0:o.type())==="tree")return;let l=await(s==null?void 0:s.oid()),c=await(o==null?void 0:o.oid()),u="equal";if(l!==c&&(u="M"),l===void 0&&(u="A"),c===void 0&&(u="D"),l===void 0&&c===void 0&&(console.log("Something weird happened:"),console.log(s),console.log(o)),u!=="equal")return{path:a,type:u}}}))}async getStagedFiles(n="."){return(await this.walkDifference({walkers:[ie.TREE({ref:"HEAD"}),ie.STAGE()],dir:n})).map(i=>({vault_path:this.getRelativeVaultPath(i.path),filepath:i.path}))}async getUnstagedFiles(n="."){let r,i=window.setTimeout(()=>{r=new si.Notice("This takes longer: Getting status",this.noticeLength)},2e4);try{let a=this.getRepo(),s=await this.wrapFS(ie.walk({...a,trees:[ie.WORKDIR(),ie.STAGE()],map:async function(o,[l,c]){if(!c&&l&&await ie.isIgnored({...a,filepath:o})||!Dp(o,n))return null;let[u,f]=await Promise.all([l&&l.type(),c&&c.type()]),h=[u,f].includes("blob");if((u==="tree"||u==="special")&&!h)return;if(f==="commit")return null;if((f==="tree"||f==="special")&&!h)return;let d=f==="blob"?await c.oid():void 0,p;return u==="blob"&&f!=="blob"?p="42":u==="blob"&&(p=await l.oid()),p?p!==d?{filepath:o,deleted:!1}:null:{filepath:o,deleted:!0}}}));return window.clearTimeout(i),r==null||r.hide(),s}catch(a){throw window.clearTimeout(i),r==null||r.hide(),this.plugin.displayError(a),a}}async getDiffString(n,r=!1,i){let a=this.getRelativeVaultPath(n),s=async(c,[u])=>{if(n==c){let f=await u.oid();return(await ie.readBlob({...this.getRepo(),oid:f})).blob}};if(i){let c=await Ls({...this.getRepo(),filepath:n,oid:i}).then(d=>new TextDecoder().decode(d.blob)).catch(d=>{if(!(d instanceof ie.Errors.NotFoundError))throw d}),u=await ie.readCommit({...this.getRepo(),oid:i}),f=await Ls({...this.getRepo(),filepath:n,oid:u.commit.parent.first()}).then(d=>new TextDecoder().decode(d.blob)).catch(d=>{if(!(d instanceof ie.Errors.NotFoundError))throw d});return Uc(a,f!=null?f:"",c!=null?c:"")}let o=(await ie.walk({...this.getRepo(),trees:[ie.STAGE()],map:s})).first(),l=new TextDecoder().decode(o);if(r){let c=await this.resolveRef("HEAD").then(f=>Ls({...this.getRepo(),filepath:n,oid:f})).then(f=>new TextDecoder().decode(f.blob)).catch(f=>{if(!(f instanceof ie.Errors.NotFoundError))throw f});return Uc(a,c!=null?c:"",l)}else{let c;return await this.app.vault.adapter.exists(a)?c=await this.app.vault.adapter.read(a):c="",Uc(a,l,c)}}async getLastCommitTime(){let n=this.getRepo(),r=await this.resolveRef("HEAD"),a=(await ie.readCommit({...n,oid:r})).commit.committer.timestamp;return new Date(a*1e3)}getFileStatusResult(n){let r=this.status_mapping[`${n[this.HEAD]}${n[this.WORKDIR]}${n[this.STAGE]}`];return{index:r[0]=="?"?"U":r[0],working_dir:r[1]=="?"?"U":r[1],path:n[this.FILE],vault_path:this.getRelativeVaultPath(n[this.FILE])}}async checkAuthorInfo(){let n=await this.getConfig("user.name"),r=await this.getConfig("user.email");if(!n||!r)throw Error("Git author name and email are not set. Please set both fields in the settings.")}showNotice(n,r=!0){if(!this.plugin.settings.disablePopups)return new si.Notice(n,r?this.noticeLength:void 0)}};function Tj(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function Fj(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:Tj(e)}async function Mj(e,t){let n=Fj(e);for(;;){let{value:r,done:i}=await n.next();if(r&&await t(r),i)break}n.return&&n.return()}async function Pj(e){let t=0,n=[];await Mj(e,a=>{n.push(a),t+=a.byteLength});let r=new Uint8Array(t),i=0;for(let a of n)r.set(a,i),i+=a.byteLength;return r}var Oj="https://momentjs.com/docs/#/parsing/string-format/",Rj="https://publish.obsidian.md/git-doc/Line+Authoring",zc=class extends z.PluginSettingTab{constructor(n,r){super(n,r);this.plugin=r;this.lineAuthorColorSettings=new Map}get settings(){return this.plugin.settings}display(){let{containerEl:n}=this,r=this.plugin,i;r.settings.differentIntervalCommitAndPush?i="commit":i="commit-and-sync";let a=r.gitReady;n.empty(),a||(n.createEl("p",{text:"Git is not ready. When all settings are correct you can configure commit-sync, etc."}),n.createEl("br"));let s;if(a){new z.Setting(n).setName("Automatic").setHeading(),new z.Setting(n).setName("Split timers for automatic commit and sync").setDesc("Enable to use one interval for commit and another for sync.").addToggle(u=>u.setValue(r.settings.differentIntervalCommitAndPush).onChange(async f=>{r.settings.differentIntervalCommitAndPush=f,await r.saveSettings(),r.automaticsManager.reload("commit","push"),this.display()})),new z.Setting(n).setName(`Auto ${i} interval (minutes)`).setDesc(`${r.settings.differentIntervalCommitAndPush?"Commit":"Commit and sync"} changes every X minutes. Set to 0 (default) to disable. (See below setting for further configuration!)`).addText(u=>u.setValue(String(r.settings.autoSaveInterval)).onChange(async f=>{isNaN(Number(f))?new z.Notice("Please specify a valid number."):(r.settings.autoSaveInterval=Number(f),await r.saveSettings(),r.automaticsManager.reload("commit"),r.settings.autoSaveInterval>0?new z.Notice(`Automatic ${i} enabled! Every ${so(r.settings.autoSaveInterval)}.`):r.settings.autoSaveInterval<=0&&new z.Notice(`Automatic ${i} disabled!`))})),s=new z.Setting(n).setName(`Auto ${i} after stopping file edits`).setDesc(`Requires the ${i} interval not to be 0.
                        If turned on, do auto ${i} every ${so(r.settings.autoSaveInterval)} after stopping file edits.
                        This also prevents auto ${i} while editing a file. If turned off, it's independent from the last file edit.`).addToggle(u=>u.setValue(r.settings.autoBackupAfterFileChange).onChange(async f=>{r.settings.autoBackupAfterFileChange=f,this.display(),await r.saveSettings(),r.automaticsManager.reload("commit")})),this.mayDisableSetting(s,r.settings.setLastSaveToLastCommit),s=new z.Setting(n).setName(`Auto ${i} after latest commit`).setDesc(`If turned on, sets last auto ${i} timestamp to the latest commit timestamp. This reduces the frequency of auto ${i} when doing manual commits.`).addToggle(u=>u.setValue(r.settings.setLastSaveToLastCommit).onChange(async f=>{r.settings.setLastSaveToLastCommit=f,await r.saveSettings(),r.automaticsManager.reload("commit"),this.display()})),this.mayDisableSetting(s,r.settings.autoBackupAfterFileChange),s=new z.Setting(n).setName("Auto push interval (minutes)").setDesc("Push commits every X minutes. Set to 0 (default) to disable.").addText(u=>u.setValue(String(r.settings.autoPushInterval)).onChange(async f=>{isNaN(Number(f))?new z.Notice("Please specify a valid number."):(r.settings.autoPushInterval=Number(f),await r.saveSettings(),r.automaticsManager.reload("push"),r.settings.autoPushInterval>0?new z.Notice(`Automatic push enabled! Every ${so(r.settings.autoPushInterval)}.`):r.settings.autoPushInterval<=0&&new z.Notice("Automatic push disabled!"))})),this.mayDisableSetting(s,!r.settings.differentIntervalCommitAndPush),new z.Setting(n).setName("Auto pull interval (minutes)").setDesc("Pull changes every X minutes. Set to 0 (default) to disable.").addText(u=>u.setValue(String(r.settings.autoPullInterval)).onChange(async f=>{isNaN(Number(f))?new z.Notice("Please specify a valid number."):(r.settings.autoPullInterval=Number(f),await r.saveSettings(),r.automaticsManager.reload("pull"),r.settings.autoPullInterval>0?new z.Notice(`Automatic pull enabled! Every ${so(r.settings.autoPullInterval)}.`):r.settings.autoPullInterval<=0&&new z.Notice("Automatic pull disabled!"))})),new z.Setting(n).setName(`Specify custom commit message on auto ${i}`).setDesc("You will get a pop up to specify your message.").addToggle(u=>u.setValue(r.settings.customMessageOnAutoBackup).onChange(async f=>{r.settings.customMessageOnAutoBackup=f,await r.saveSettings(),this.display()})),s=new z.Setting(n).setName(`Commit message on auto ${i}`).setDesc("Available placeholders: {{date}} (see below), {{hostname}} (see below), {{numFiles}} (number of changed files in the commit) and {{files}} (changed files in commit message).").addTextArea(u=>u.setPlaceholder("vault backup: {{date}}").setValue(r.settings.autoCommitMessage).onChange(async f=>{r.settings.autoCommitMessage=f,await r.saveSettings()})),this.mayDisableSetting(s,r.settings.customMessageOnAutoBackup),new z.Setting(n).setName("Commit message").setHeading(),new z.Setting(n).setName("Commit message on manual commit").setDesc("Available placeholders: {{date}} (see below), {{hostname}} (see below), {{numFiles}} (number of changed files in the commit) and {{files}} (changed files in commit message).").addTextArea(u=>u.setPlaceholder("vault backup: {{date}}").setValue(r.settings.commitMessage?r.settings.commitMessage:"").onChange(async f=>{r.settings.commitMessage=f,await r.saveSettings()}));let c=new z.Setting(n).setName("{{date}} placeholder format").addMomentFormat(u=>u.setDefaultFormat(r.settings.commitDateFormat).setValue(r.settings.commitDateFormat).onChange(async f=>{r.settings.commitDateFormat=f,await r.saveSettings()}));c.descEl.innerHTML=`
            Specify custom date format. E.g. "${gd}. See <a href="https://momentjs.com">Moment.js</a> for more formats.`,new z.Setting(n).setName("{{hostname}} placeholder replacement").setDesc("Specify custom hostname for every device.").addText(u=>{var f;return u.setValue((f=r.localStorage.getHostname())!=null?f:"").onChange(h=>{r.localStorage.setHostname(h)})}),new z.Setting(n).setName("Preview commit message").addButton(u=>u.setButtonText("Preview").onClick(async()=>{let f=await r.gitManager.formatCommitMessage(r.settings.commitMessage);new z.Notice(`${f}`)})),new z.Setting(n).setName("List filenames affected by commit in the commit body").addToggle(u=>u.setValue(r.settings.listChangedFilesInMessageBody).onChange(async f=>{r.settings.listChangedFilesInMessageBody=f,await r.saveSettings()})),new z.Setting(n).setName("Pull").setHeading(),r.gitManager instanceof Se&&new z.Setting(n).setName("Merge strategy").setDesc("Decide how to integrate commits from your remote branch into your local branch.").addDropdown(u=>{let f={merge:"Merge",rebase:"Rebase",reset:"Other sync service (Only updates the HEAD without touching the working directory)"};u.addOptions(f),u.setValue(r.settings.syncMethod),u.onChange(async h=>{r.settings.syncMethod=h,await r.saveSettings()})}),new z.Setting(n).setName("Pull on startup").setDesc("Automatically pull commits when Obsidian starts.").addToggle(u=>u.setValue(r.settings.autoPullOnBoot).onChange(async f=>{r.settings.autoPullOnBoot=f,await r.saveSettings()})),new z.Setting(n).setName("Commit-and-sync").setDesc("Commit-and-sync with default settings means staging everything -> committing -> pulling -> pushing. Ideally this is a single action that you do regularly to keep your local and remote repository in sync.").setHeading(),s=new z.Setting(n).setName("Push on commit-and-sync").setDesc(`Most of the time you want to push after committing. Turning this off turns a commit-and-sync action into commit ${r.settings.pullBeforePush?"and pull ":""}only. It will still be called commit-and-sync.`).addToggle(u=>u.setValue(!r.settings.disablePush).onChange(async f=>{r.settings.disablePush=!f,this.display(),await r.saveSettings()})),new z.Setting(n).setName("Pull on commit-and-sync").setDesc(`On commit-and-sync, pull commits as well. Turning this off turns a commit-and-sync action into commit ${r.settings.disablePush?"":"and push "}only.`).addToggle(u=>u.setValue(r.settings.pullBeforePush).onChange(async f=>{r.settings.pullBeforePush=f,this.display(),await r.saveSettings()})),r.gitManager instanceof Se&&(new z.Setting(n).setName("Line author information").setHeading(),this.addLineAuthorInfoSettings())}new z.Setting(n).setName("History view").setHeading(),new z.Setting(n).setName("Show Author").setDesc("Show the author of the commit in the history view.").addDropdown(c=>{let u={hide:"Hide",full:"Full",initials:"Initials"};c.addOptions(u),c.setValue(r.settings.authorInHistoryView),c.onChange(async f=>{r.settings.authorInHistoryView=f,await r.saveSettings(),await r.refresh()})}),new z.Setting(n).setName("Show Date").setDesc("Show the date of the commit in the history view. The {{date}} placeholder format is used to display the date.").addToggle(c=>c.setValue(r.settings.dateInHistoryView).onChange(async u=>{r.settings.dateInHistoryView=u,await r.saveSettings(),await r.refresh()})),new z.Setting(n).setName("Source control view").setHeading(),new z.Setting(n).setName("Automatically refresh source control view on file changes").setDesc("On slower machines this may cause lags. If so, just disable this option.").addToggle(c=>c.setValue(r.settings.refreshSourceControl).onChange(async u=>{r.settings.refreshSourceControl=u,await r.saveSettings()})),new z.Setting(n).setName("Source control view refresh interval").setDesc("Milliseconds to wait after file change before refreshing the Source Control View.").addText(c=>c.setValue(r.settings.refreshSourceControlTimer.toString()).setPlaceholder("7000").onChange(async u=>{r.settings.refreshSourceControlTimer=Math.max(parseInt(u),500),await r.saveSettings(),r.setRefreshDebouncer()})),new z.Setting(n).setName("Miscellaneous").setHeading(),r.gitManager instanceof Se&&new z.Setting(n).setName("Diff view style").setDesc('Set the style for the diff view. Note that the actual diff in "Split" mode is not generated by Git, but the editor itself instead so it may differ from the diff generated by Git. One advantage of this is that you can edit the text in that view.').addDropdown(c=>{let u={split:"Split",git_unified:"Unified"};c.addOptions(u),c.setValue(r.settings.diffStyle),c.onChange(async f=>{r.settings.diffStyle=f,await r.saveSettings()})}),new z.Setting(n).setName("Disable notifications").setDesc("Disable notifications for git operations to minimize distraction (refer to status bar for updates). Errors are still shown as notifications even if you enable this setting.").addToggle(c=>c.setValue(r.settings.disablePopups).onChange(async u=>{r.settings.disablePopups=u,this.display(),await r.saveSettings()})),r.settings.disablePopups||new z.Setting(n).setName("Hide notifications for no changes").setDesc("Don't show notifications when there are no changes to commit or push.").addToggle(c=>c.setValue(r.settings.disablePopupsForNoChanges).onChange(async u=>{r.settings.disablePopupsForNoChanges=u,await r.saveSettings()})),new z.Setting(n).setName("Show status bar").setDesc("Obsidian must be restarted for the changes to take affect.").addToggle(c=>c.setValue(r.settings.showStatusBar).onChange(async u=>{r.settings.showStatusBar=u,await r.saveSettings()})),new z.Setting(n).setName("Show stage/unstage button in file menu").addToggle(c=>c.setValue(r.settings.showFileMenu).onChange(async u=>{r.settings.showFileMenu=u,await r.saveSettings()})),new z.Setting(n).setName("Show branch status bar").setDesc("Obsidian must be restarted for the changes to take affect.").addToggle(c=>c.setValue(r.settings.showBranchStatusBar).onChange(async u=>{r.settings.showBranchStatusBar=u,await r.saveSettings()})),new z.Setting(n).setName("Show the count of modified files in the status bar").addToggle(c=>c.setValue(r.settings.changedFilesInStatusBar).onChange(async u=>{r.settings.changedFilesInStatusBar=u,await r.saveSettings()})),r.gitManager instanceof bn?new z.Setting(n).setName("Authentication/commit author").setHeading():new z.Setting(n).setName("Commit author").setHeading(),r.gitManager instanceof bn&&new z.Setting(n).setName("Username on your git server. E.g. your username on GitHub").addText(c=>{var u;c.setValue((u=r.localStorage.getUsername())!=null?u:""),c.onChange(f=>{r.localStorage.setUsername(f)})}),r.gitManager instanceof bn&&new z.Setting(n).setName("Password/Personal access token").setDesc("Type in your password. You won't be able to see it again.").addText(c=>{c.inputEl.autocapitalize="off",c.inputEl.autocomplete="off",c.inputEl.spellcheck=!1,c.onChange(u=>{r.localStorage.setPassword(u)})}),r.gitReady&&new z.Setting(n).setName("Author name for commit").addText(async c=>{var u;c.setValue((u=await r.gitManager.getConfig("user.name"))!=null?u:""),c.onChange(async f=>{await r.gitManager.setConfig("user.name",f==""?void 0:f)})}),r.gitReady&&new z.Setting(n).setName("Author email for commit").addText(async c=>{var u;c.setValue((u=await r.gitManager.getConfig("user.email"))!=null?u:""),c.onChange(async f=>{await r.gitManager.setConfig("user.email",f==""?void 0:f)})}),new z.Setting(n).setName("Advanced").setDesc("These settings usually don't need to be changed, but may be requried for special setups.").setHeading(),r.gitManager instanceof Se&&(new z.Setting(n).setName("Update submodules").setDesc('"Commit-and-sync" and "pull" takes care of submodules. Missing features: Conflicted files, count of pulled/pushed/committed files. Tracking branch needs to be set for each submodule.').addToggle(c=>c.setValue(r.settings.updateSubmodules).onChange(async u=>{r.settings.updateSubmodules=u,await r.saveSettings()})),r.settings.updateSubmodules&&new z.Setting(n).setName("Submodule recurse checkout/switch").setDesc("Whenever a checkout happens on the root repository, recurse the checkout on the submodules (if the branches exist).").addToggle(c=>c.setValue(r.settings.submoduleRecurseCheckout).onChange(async u=>{r.settings.submoduleRecurseCheckout=u,await r.saveSettings()}))),r.gitManager instanceof Se&&new z.Setting(n).setName("Custom Git binary path").addText(c=>{var u;c.setValue((u=r.localStorage.getGitPath())!=null?u:""),c.setPlaceholder("git"),c.onChange(f=>{r.localStorage.setGitPath(f),r.gitManager.updateGitPath(f||"git").catch(h=>r.displayError(h))})}),r.gitManager instanceof Se&&new z.Setting(n).setName("Additional environment variables").setDesc("Use each line for a new environment variable in the format KEY=VALUE .").addTextArea(c=>{c.setPlaceholder("GIT_DIR=/path/to/git/dir"),c.setValue(r.localStorage.getEnvVars().join(`
`)),c.onChange(u=>{r.localStorage.setEnvVars(u.split(`
`))})}),r.gitManager instanceof Se&&new z.Setting(n).setName("Additional PATH environment variable paths").setDesc("Use each line for one path").addTextArea(c=>{c.setValue(r.localStorage.getPATHPaths().join(`
`)),c.onChange(u=>{r.localStorage.setPATHPaths(u.split(`
`))})}),r.gitManager instanceof Se&&new z.Setting(n).setName("Reload with new environment variables").setDesc("Removing previously added environment variables will not take effect until Obsidian is restarted.").addButton(c=>{c.setButtonText("Reload"),c.setCta(),c.onClick(async()=>{await r.gitManager.setGitInstance()})}),new z.Setting(n).setName("Custom base path (Git repository path)").setDesc(`
            Sets the relative path to the vault from which the Git binary should be executed.
             Mostly used to set the path to the Git repository, which is only required if the Git repository is below the vault root directory. Use "\\" instead of "/" on Windows.
            `).addText(c=>{c.setValue(r.settings.basePath),c.setPlaceholder("directory/directory-with-git-repo"),c.onChange(async u=>{r.settings.basePath=u,await r.saveSettings(),r.gitManager.updateBasePath(u||"").catch(f=>r.displayError(f))})}),new z.Setting(n).setName("Custom Git directory path (Instead of '.git')").setDesc('Requires restart of Obsidian to take effect. Use "\\" instead of "/" on Windows.').addText(c=>{c.setValue(r.settings.gitDir),c.setPlaceholder(".git"),c.onChange(async u=>{r.settings.gitDir=u,await r.saveSettings()})}),new z.Setting(n).setName("Disable on this device").setDesc("Disables the plugin on this device. This setting is not synced.").addToggle(c=>c.setValue(r.localStorage.getPluginDisabled()).onChange(u=>{r.localStorage.setPluginDisabled(u),u?r.unloadPlugin():r.init({fromReload:!0}).catch(f=>r.displayError(f)),new z.Notice("Obsidian must be restarted for the changes to take affect.")})),new z.Setting(n).setName("Support").setHeading(),new z.Setting(n).setName("Donate").setDesc("If you like this Plugin, consider donating to support continued development.").addButton(c=>{c.buttonEl.outerHTML="<a href='https://ko-fi.com/F1F195IQ5' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://cdn.ko-fi.com/cdn/kofi3.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>"});let o=n.createDiv();o.setAttr("align","center"),o.setAttr("style","margin: var(--size-4-2)");let l=o.createEl("button");if(l.setText("Copy Debug Information"),l.onclick=async()=>{await window.navigator.clipboard.writeText(JSON.stringify({settings:this.plugin.settings,pluginVersion:this.plugin.manifest.version},null,4)),new z.Notice("Debug information copied to clipboard. May contain sensitive information!")},z.Platform.isDesktopApp){let c=n.createDiv();c.setAttr("align","center"),c.setText(`Debugging and logging:
You can always see the logs of this and every other plugin by opening the console with`);let u=n.createDiv();u.setAttr("align","center"),u.addClass("obsidian-git-shortcuts"),z.Platform.isMacOS===!0?u.createEl("kbd",{text:"CMD (\u2318) + OPTION (\u2325) + I"}):u.createEl("kbd",{text:"CTRL + SHIFT + I"})}}mayDisableSetting(n,r){r&&(n.setDisabled(r),n.setClass("obsidian-git-disabled"))}configureLineAuthorShowStatus(n){this.settings.lineAuthor.show=n,this.plugin.saveSettings(),n?this.plugin.lineAuthoringFeature.activateFeature():this.plugin.lineAuthoringFeature.deactivateFeature()}async lineAuthorSettingHandler(n,r){this.settings.lineAuthor[n]=r,await this.plugin.saveSettings(),this.plugin.lineAuthoringFeature.refreshLineAuthorViews()}beforeSaveSettings(){let n=this.settings.lineAuthor;n.authorDisplay!=="hide"&&(n.lastShownAuthorDisplay=n.authorDisplay),n.dateTimeFormatOptions!=="hide"&&(n.lastShownDateTimeFormatOptions=n.dateTimeFormatOptions)}addLineAuthorInfoSettings(){let n=new z.Setting(this.containerEl).setName("Show commit authoring information next to each line");if(this.plugin.lineAuthoringFeature.isAvailableOnCurrentPlatform()||n.setDesc("Only available on desktop currently.").setDisabled(!0),n.descEl.innerHTML=`
            <a href="${Rj}">Feature guide and quick examples</a></br>
            The commit hash, author name and authoring date can all be individually toggled.</br>Hide everything, to only show the age-colored sidebar.`,n.addToggle(r=>r.setValue(this.settings.lineAuthor.show).onChange(i=>{this.configureLineAuthorShowStatus(i),this.display()})),this.settings.lineAuthor.show){let r=new z.Setting(this.containerEl).setName("Follow movement and copies across files and commits").setDesc("").addDropdown(a=>{a.addOptions({inactive:"Do not follow (default)","same-commit":"Follow within same commit","all-commits":"Follow within all commits (maybe slow)"}),a.setValue(this.settings.lineAuthor.followMovement),a.onChange(s=>this.lineAuthorSettingHandler("followMovement",s))});if(r.descEl.innerHTML=`
                By default (deactivated), each line only shows the newest commit where it was changed.
                <br/>
                With <i>same commit</i>, cut-copy-paste-ing of text is followed within the same commit and the original commit of authoring will be shown.
                <br/>
                With <i>all commits</i>, cut-copy-paste-ing text inbetween multiple commits will be detected.
                <br/>
                It uses <a href="https://git-scm.com/docs/git-blame">git-blame</a> and
                for matches (at least ${Vl} characters) within the same (or all) commit(s), <em>the originating</em> commit's information is shown.`,new z.Setting(this.containerEl).setName("Show commit hash").addToggle(a=>{a.setValue(this.settings.lineAuthor.showCommitHash),a.onChange(s=>this.lineAuthorSettingHandler("showCommitHash",s))}),new z.Setting(this.containerEl).setName("Author name display").setDesc("If and how the author is displayed").addDropdown(a=>{let s={hide:"Hide",initials:"Initials (default)","first name":"First name","last name":"Last name",full:"Full name"};a.addOptions(s),a.setValue(this.settings.lineAuthor.authorDisplay),a.onChange(async o=>this.lineAuthorSettingHandler("authorDisplay",o))}),new z.Setting(this.containerEl).setName("Authoring date display").setDesc("If and how the date and time of authoring the line is displayed").addDropdown(a=>{let s={hide:"Hide",date:"Date (default)",datetime:"Date and time","natural language":"Natural language",custom:"Custom"};a.addOptions(s),a.setValue(this.settings.lineAuthor.dateTimeFormatOptions),a.onChange(async o=>{await this.lineAuthorSettingHandler("dateTimeFormatOptions",o),this.display()})}),this.settings.lineAuthor.dateTimeFormatOptions==="custom"){let a=new z.Setting(this.containerEl);a.setName("Custom authoring date format").addText(s=>{s.setValue(this.settings.lineAuthor.dateTimeFormatCustomString),s.setPlaceholder("YYYY-MM-DD HH:mm"),s.onChange(async o=>{await this.lineAuthorSettingHandler("dateTimeFormatCustomString",o),a.descEl.innerHTML=this.previewCustomDateTimeDescriptionHtml(o)})}),a.descEl.innerHTML=this.previewCustomDateTimeDescriptionHtml(this.settings.lineAuthor.dateTimeFormatCustomString)}new z.Setting(this.containerEl).setName("Authoring date display timezone").addDropdown(a=>{let s={"viewer-local":"My local (default)","author-local":"Author's local",utc0000:"UTC+0000/Z"};a.addOptions(s),a.setValue(this.settings.lineAuthor.dateTimeTimezone),a.onChange(async o=>this.lineAuthorSettingHandler("dateTimeTimezone",o))}).descEl.innerHTML=`
                    The time-zone in which the authoring date should be shown.
                    Either your local time-zone (default),
                    the author's time-zone during commit creation or
                    <a href="https://en.wikipedia.org/wiki/UTC%C2%B100:00">UTC\xB100:00</a>.
            `;let i=new z.Setting(this.containerEl).setName("Oldest age in coloring");i.descEl.innerHTML=this.previewOldestAgeDescriptionHtml(this.settings.lineAuthor.coloringMaxAge)[0],i.addText(a=>{a.setPlaceholder("1y"),a.setValue(this.settings.lineAuthor.coloringMaxAge),a.onChange(async s=>{let[o,l]=this.previewOldestAgeDescriptionHtml(s);i.descEl.innerHTML=o,l&&(await this.lineAuthorSettingHandler("coloringMaxAge",s),this.refreshColorSettingsName("oldest"))})}),this.createColorSetting("newest"),this.createColorSetting("oldest"),new z.Setting(this.containerEl).setName("Text color").addText(a=>{a.setValue(this.settings.lineAuthor.textColorCss),a.onChange(async s=>{await this.lineAuthorSettingHandler("textColorCss",s)})}).descEl.innerHTML=`
                    The CSS color of the gutter text.<br/>
                    
                    It is higly recommended to use
                    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">
                    CSS variables</a>
                    defined by themes
                    (e.g. <pre style="display:inline">var(--text-muted)</pre> or
                    <pre style="display:inline">var(--text-on-accent)</pre>,
                    because they automatically adapt to theme changes.<br/>

                    See: <a href="https://github.com/obsidian-community/obsidian-theme-template/blob/main/obsidian.css">
                    List of available CSS variables in Obsidian
                    <a/>
                `,new z.Setting(this.containerEl).setName("Ignore whitespace and newlines in changes").addToggle(a=>{a.setValue(this.settings.lineAuthor.ignoreWhitespace),a.onChange(s=>this.lineAuthorSettingHandler("ignoreWhitespace",s))}).descEl.innerHTML=`
                    Whitespace and newlines are interpreted as
                    part of the document and in changes
                    by default (hence not ignored).
                    This makes the last line being shown as 'changed'
                    when a new subsequent line is added,
                    even if the previously last line's text is the same.
                    <br>
                    If you don't care about purely-whitespace changes
                    (e.g. list nesting / quote indentation changes),
                    then activating this will provide more meaningful change detection.
                `}}createColorSetting(n){let r=new z.Setting(this.containerEl).setName("").addText(i=>{let a=Jp(n,this.settings.lineAuthor),s=Jp(n,Rn.lineAuthor);i.setPlaceholder(Bp(s)),i.setValue(Bp(a)),i.onChange(async o=>{let l=wE(o);if(l!==void 0){let c=n==="newest"?"colorNew":"colorOld";await this.lineAuthorSettingHandler(c,l)}this.refreshColorSettingsDesc(n,l)})});this.lineAuthorColorSettings.set(n,r),this.refreshColorSettingsName(n),this.refreshColorSettingsDesc(n,Jp(n,this.settings.lineAuthor))}refreshColorSettingsName(n){let r=this.lineAuthorColorSettings.get(n);if(r){let i=n==="oldest"?`oldest (${this.settings.lineAuthor.coloringMaxAge} or older)`:"newest";r.nameEl.innerText=`Color for ${i} commits`}}refreshColorSettingsDesc(n,r){let i=this.lineAuthorColorSettings.get(n);i&&(i.descEl.innerHTML=this.colorSettingPreviewDescHtml(n,this.settings.lineAuthor,r!==void 0))}colorSettingPreviewDescHtml(n,r,i){let a=i?Qp(n,r):"rgba(127,127,127,0.3)",s=z.moment.unix(z.moment.now()/1e3).format("YYYY-MM-DD"),o=i?`abcdef Author Name ${s}`:"invalid color";return`Supports 'rgb(r,g,b)', 'hsl(h,s,l)', hex (#) and
            named colors (e.g. 'black', 'purple'). Color preview: ${`<div
            class="line-author-settings-preview"
            style="background-color: ${a}; width: 30ch;"
            >${o}</div>`}`}previewCustomDateTimeDescriptionHtml(n){let r=(0,z.moment)().format(n);return`<a href="${Oj}">Format string</a> to display the authoring date.</br>Currently: ${r}`}previewOldestAgeDescriptionHtml(n){let r=Vc(n);return[`The oldest age in the line author coloring. Everything older will have the same color.
            </br>Smallest valid age is "1d". Currently: ${r!==void 0?`${r.asDays()} days`:"invalid!"}`,r]}};function Jp(e,t){return e==="oldest"?t.colorOld:t.colorNew}function Vc(e){let t=z.moment.duration("P"+e.toUpperCase());return t.isValid()&&t.asDays()&&t.asDays()>=1?t:void 0}function NE(e,t,n){if(!(e===void 0||t===void 0||n===void 0))return`head${e}-obj${t}-path${n}`}var $E=Wc.Annotation.define();function HE(e,t,n){return n.update({annotations:$E.of({key:e,la:t,lineOffsetsFromUnsavedChanges:new Map})})}function Ij(e){return e.annotation($E)}var wa=Wc.StateField.define({create:e=>{},update:(e,t)=>{var n;return(n=Ij(t))!=null?n:Lj(t,e)},compare:(e,t)=>(e==null?void 0:e.key)===(t==null?void 0:t.key)});function qc(e){var a;let t=BE.sha256.create();if(!e)return t;let{la:n,key:r,lineOffsetsFromUnsavedChanges:i}=e;t.update(n==="untracked"?"t":"f"),t.update(r);for(let[s,o]of(a=i.entries())!=null?a:[])t.update([s,o]);return t}var on={get:void 0,save:void 0};function UE(e,t){on.get=e,on.save=t}function Xc(e){var t,n;return(n=(t=Vc(e.coloringMaxAge))==null?void 0:t.asDays())!=null?n:Vc(Rn.lineAuthor.coloringMaxAge).asDays()}function Lj(e,t){if(t)return e.changes.empty||e.changes.iterChanges((n,r,i,a)=>{var p;let s=e.startState.doc,{newDoc:o}=e,l=s.lineAt(n).number,c=s.lineAt(r).number,u=o.lineAt(i).number,f=o.lineAt(a).number,h=c-l+1,d=f-u+1;for(let m=u;m<=f;m++){let g=(p=t.lineOffsetsFromUnsavedChanges.get(m))!=null?p:0,y=f===m,x=d-h;y&&(g+=x),t.lineOffsetsFromUnsavedChanges.set(m,g)}}),t}var em=class{constructor(t){this.state=t;this.subscribeMe()}notifyLineAuthoring(t,n){if(this.view===void 0){console.warn(`Git: View is not defined for editor cache key. Unforeseen situation. id: ${t}`);return}let r=this.view.state,i=HE(t,n,r);this.view.dispatch(i)}updateToNewState(t){let n=this.lastSeenPath&&this.filepath!=this.lastSeenPath;return this.state=t,n&&(this.unsubscribeMe(this.lastSeenPath),this.subscribeMe()),this}removeIfStale(){this.view.destroyed&&this.unsubscribeMe(this.lastSeenPath)}subscribeMe(){this.filepath!==void 0&&(va.ifFilepathDefinedTransformSubscribers(this.filepath,t=>t.add(this)),this.lastSeenPath=this.filepath)}unsubscribeMe(t){va.ifFilepathDefinedTransformSubscribers(t,n=>n.delete(this))}get filepath(){var t,n;return(n=(t=this.state.field(Yc.editorInfoField))==null?void 0:t.file)==null?void 0:n.path}get view(){return this.state.field(Yc.editorEditorField)}},zE=GE.StateField.define({create:e=>new em(e),update:(e,t)=>e.updateToNewState(t.state),compare:(e,t)=>e===t});w();function VE(){ba=void 0,tm=[],Zc=0,Jc.clear(),Qc.clear(),xa.clear()}var ba,Kc=()=>ba;function WE(e,t){var i;let n=t.length;if(n<((i=ba==null?void 0:ba.length)!=null?i:0))return;ba={gutter:e,length:n,text:t};let r=on.get();n!==r.gutterSpacingFallbackLength&&(r.gutterSpacingFallbackLength=n,on.save(r))}var tm=[],jj=15,Zc=0;function qE(e){tm[Zc]=e,Zc=(Zc+1)%jj}function XE(){return xE(tm)}var Jc=new Map,Qc=new Map,xa=new Set;w();var ok=require("@codemirror/state"),lk=require("@codemirror/view");w();var am=require("@codemirror/view"),rk=Ze(Gp()),nu=require("obsidian");w();w();var eu={x:-10,y:-10};function YE(){eu.x===-10&&window.addEventListener("mousedown",e=>{eu.x=e.clientX,eu.y=e.clientY})}function ZE(){for(let e of xa)if(Dj(e,eu))return e}function Dj(e,t){let{x:n,y:r,width:i,height:a}=e.getBoundingClientRect();return n<=t.x&&t.x<=n+i&&r<=t.y&&t.y<=r+a}w();var uo={};var KE="data-commit";function JE(e,t,n){if(t.hasFocus())return;let r=ZE();if(!r)return;let i=Nj(r);i&&(!i.isZeroCommit&&!i.isWaitingGutter&&Bj(i,e),nm("showCommitHash",e),nm("authorDisplay",e),nm("dateTimeFormatOptions",e))}function Bj(e,t){t.addItem(n=>n.setTitle("Copy commit hash").setIcon("copy").setSection("obs-git-line-author-copy").onClick(r=>navigator.clipboard.writeText(e.hash)))}function nm(e,t){var l,c;let n,r,i=uo.plugin.settings.lineAuthor,a=i[e],s=typeof a=="boolean"?a:a!=="hide",o=Rn.lineAuthor[e];if(e==="showCommitHash")n="Show commit hash",r=a;else if(e==="authorDisplay"){let u=(l=i.lastShownAuthorDisplay)!=null?l:o;n="Show author "+(s?a:u),r=s?"hide":u}else if(e==="dateTimeFormatOptions"){let u=(c=i.lastShownDateTimeFormatOptions)!=null?c:o;n="Show "+(s?a:u),n+=n.contains("date")?"":" date",r=s?"hide":u}else kr(e);t.addItem(u=>u.setTitle(n).setSection("obs-git-line-author-configure").setChecked(s).onClick(f=>{var h,d;return(d=(h=uo.plugin)==null?void 0:h.settingsTab)==null?void 0:d.lineAuthorSettingHandler(e,r)}))}function QE(e,t,n){n.setAttr(KE,JSON.stringify({hash:e.hash,isZeroCommit:e.isZeroCommit,isWaitingGutter:t}))}function Nj(e){let t=e.getAttr(KE);return t?JSON.parse(t):void 0}w();function Qp(e,t){return e==="oldest"?tu(0,!1,t).color:tu(void 0,!0,t).color}function tu(e,t,n){let r=Xc(n),i=Date.now()/1e3,a=e!=null?e:0,o=(t?0:i-a)/60/60/24,l=Math.pow(Math.clamp(o/r,0,1),1/2.3),c=$j(),u=n.colorNew,f=n.colorOld,h=c?.4:1,d=rm(u.r,f.r,l)*h,p=rm(u.g,f.g,l)*h,m=rm(u.b,f.b,l)*h;return{color:`rgba(${d},${p},${m},${c?.75:.25})`,daysSinceCommit:o}}function rm(e,t,n){return e+(t-e)*n}function $j(){var e;return((e=window.app)==null?void 0:e.getTheme())==="obsidian"}function ek(e){document.body.style.setProperty("--obs-git-gutter-text",e.textColorCss)}w();function tk(e,t,n){let r;for(let i=t;i<=n;i++){let a=e.hashPerLine[i],s=e.commits.get(a);(!r||s.isZeroCommit||Hj(s,r))&&(r=s)}return r}function Hj(e,t){var i,a,s,o;let n=(a=(i=e.author)==null?void 0:i.epochSeconds)!=null?a:0,r=(o=(s=t.author)==null?void 0:s.epochSeconds)!=null?o:0;return n>r}var nk="-",Uj="+",Gj=3,zj="*",Vj=/\S/g,Wj="%",_a=class e extends am.GutterMarker{constructor(n){super();this.text=n}eq(n){return n instanceof e&&this.text===n.text}toDOM(){return document.createTextNode(this.text)}destroy(n){document.body.contains(n)||n.remove()}},im=class extends am.GutterMarker{constructor(n,r,i,a,s,o){super();this.lineAuthoring=n;this.startLine=r;this.endLine=i;this.key=a;this.settings=s;this.options=o;this.point=!1;this.elementClass="obs-git-blame-gutter"}eq(n){return this.key===(n==null?void 0:n.key)&&this.startLine===(n==null?void 0:n.startLine)&&this.endLine===(n==null?void 0:n.endLine)&&(this==null?void 0:this.options)===(n==null?void 0:n.options)}toDOM(){var n;return this.precomputedDomProvider=(n=this.precomputedDomProvider)!=null?n:this.computeDom(),this.precomputedDomProvider()}destroy(n){document.body.contains(n)||(n.remove(),xa.delete(n))}computeDom(){let n=tk(this.lineAuthoring,this.startLine,this.endLine),r=n.isZeroCommit?"":this.renderNonZeroCommit(n);return!n.isZeroCommit&&this.options!=="waiting-for-result"?WE(this,r):r=this.adaptTextForFakeCommit(n,r,this.options),this.createHtmlNode(n,r,this.options==="waiting-for-result")}createHtmlNode(n,r,i){var c;let a=window.createDiv();a.innerText=r;let{color:s,daysSinceCommit:o}=tu((c=n==null?void 0:n.author)==null?void 0:c.epochSeconds,n==null?void 0:n.isZeroCommit,this.settings);a.style.backgroundColor=s,QE(n,i,a);function l(){let u=a.cloneNode(!0);return xa.add(u),i||qE(o),u}return l}renderNonZeroCommit(n){let r=this.settings.showCommitHash?this.renderHash(n):"",i=this.settings.authorDisplay==="hide"?"":`${this.renderAuthorName(n,this.settings.authorDisplay)}`,a=this.settings.dateTimeFormatOptions==="hide"?"":`${this.renderAuthoringDate(n,this.settings.dateTimeFormatOptions,this.settings.dateTimeFormatCustomString,this.settings.dateTimeTimezone)}`;return[r,i,a].filter(o=>o.length>=1).join(" ")}renderHash(n){return n.hash.substring(0,6)}renderAuthorName(n,r){var o,l,c,u;let i=(l=(o=n==null?void 0:n.author)==null?void 0:o.name)!=null?l:"",a=i.split(" ").filter(f=>f.length>=1),s;switch(r){case"initials":s=a.map(f=>f[0].toUpperCase()).join("");break;case"first name":s=(c=a.first())!=null?c:nk;break;case"last name":s=(u=a.last())!=null?u:nk;break;case"full":s=i;break;default:return kr(r)}return _E(n==null?void 0:n.author,n==null?void 0:n.committer)||(s=s+zj),s}renderAuthoringDate(n,r,i,a){var c;let s="?";if(((c=n==null?void 0:n.author)==null?void 0:c.epochSeconds)===void 0)return s;let o;switch(r){case"date":o=zl;break;case"datetime":o=md;break;case"custom":o=i;break;case"natural language":o=u=>{let f=u.diff((0,nu.moment)());return nu.moment.duration(f).humanize(!0)};break;default:return kr(r)}let l=nu.moment.unix(n.author.epochSeconds);switch(a){case"viewer-local":break;case"author-local":l=l.utcOffset(n.author.tz),typeof o=="string"&&(o+=" Z");break;case"utc0000":l=l.utc(),typeof o=="string"&&(o+="[Z]");break;default:return kr(a)}return typeof o=="string"?l.format(o):o(l)}adaptTextForFakeCommit(n,r,i){var l,c,u,f;let a=(c=(l=Kc())==null?void 0:l.text)!=null?c:r,s=i!=="waiting-for-result"&&n.isZeroCommit?Uj:Wj;r=a.replace(Vj,s);let o=(f=(u=on.get())==null?void 0:u.gutterSpacingFallbackLength)!=null?f:r.length;if(r=SE(r,o,s),i!=="waiting-for-result"&&n.isZeroCommit){let h=Math.min(o,Gj);r=EE(r,o-h)}return r}};function oi(e,t,n,r,i,a){let s=rk.sha256.create();s.update(Object.values(i).join(",")),s.update(`s${t}-e${n}-k${r}-o${a}`);let o=s.hex(),l=Jc.get(o);if(l)return l;let c=new im(e,t,n,r,i,a);return Jc.set(o,c),c}w();var ik=require("obsidian");function sm(){var t,n;let e=(n=(t=on.get())==null?void 0:t.gutterSpacingFallbackLength)!=null?n:Rn.lineAuthor.gutterSpacingFallbackLength;return new _a(Array(e).fill("-").join(""))}function om(e){let{lineAuthoring:t,ageForInitialRender:n}=qj(e);return oi(t,1,1,"initialGutter"+n,e,"waiting-for-result")}function qj(e){var a;let t=(a=XE())!=null?a:Xc(e)*.25,n=(0,ik.moment)().add(-t,"days"),r={name:"",epochSeconds:bE(n),tz:"+0000"},i={hash:"waiting-for-result",author:r,committer:r,isZeroCommit:!1};return{lineAuthoring:{hashPerLine:[void 0,"waiting-for-result"],commits:new Map([["waiting-for-result",i]])},ageForInitialRender:t}}w();function ak(e,t){return oi({hashPerLine:[void 0,"000000"],commits:new Map([["000000",FE]])},1,1,e,t)}var lm=new _a(""),ck=(0,lk.gutter)({class:"line-author-gutter-container",markers(e){let t=e.state.field(wa,!1);return Xj(e,t)},lineMarkerChange(e){let t=qc(e.state.field(wa));return qc(e.startState.field(wa))!==t},renderEmptyElements:!0,initialSpacer:e=>(sk(e),sm()),updateSpacer:(e,t)=>{var n,r;return sk(t.view),(r=(n=Kc())==null?void 0:n.gutter)!=null?r:sm()}});function Xj(e,t){let n=qc(t),r=e.state.doc,i=new Map;for(let u=1;u<=r.lines;u++){let f=r.line(u).from,h=e.lineBlockAt(f).to;i.set(u,[f,h]),n.update([f,h,0])}let a=on.get();n.update("s"+Object.values(on).join(","));let s=n.hex(),o=Qc.get(s);if(o)return o;let{result:l,allowCache:c}=Yj(r,i,a,t);return c&&Qc.set(s,l),l}function Yj(e,t,n,r){let i=!0,a=e.lines,s=[];function o(f,h,d){return s.push(d.range(f,h))}let l=Zj(a,r),c=e.length===0,u=e.iterLines(a,a+1).next().value==="";for(let f=1;f<=a;f++){let[h,d]=t.get(f),p=e.lineAt(d).number;if(c){o(h,d,lm);continue}if(f===a&&u){o(h,d,lm);continue}if(r===void 0){o(h,d,om(n)),i=!1;continue}let{key:m,la:g}=r;if(g==="untracked"){o(h,d,ak(g,n));continue}let y=g.hashPerLine.length-1,x=l[f],_=l[p];if(_&&_>y&&o(h,d,lm),x!==void 0&&Np(1,x,y)&&_!==void 0&&Np(1,_,y)){o(h,d,oi(g,x,_,m,n));continue}if(y<1){o(h,d,om(n)),i=!1;continue}let S=Math.clamp(x!=null?x:f,1,y),b=Math.clamp(_!=null?_:p,1,y);o(h,d,oi(g,S,b,m+"computing",n,"waiting-for-result"))}return{result:ok.RangeSet.of(s,!0),allowCache:i}}function Zj(e,t){if(!(t!=null&&t.lineOffsetsFromUnsavedChanges))return Array.from(new Array(e+1),i=>i);let n=[void 0],r=0;for(let i=1;i<=e;i++){let a=t.lineOffsetsFromUnsavedChanges.get(i);r+=a!=null?a:0,n[i]=a===void 0?i-r:void 0}return n}function sk(e){e.dom.querySelectorAll(".cm-gutters").forEach(n=>{n!=null&&n.style&&(n.style.marginLeft||(n.style.marginLeft="unset"))})}var ru=class{constructor(t){this.plugin=t;this.lineAuthorings=new Map}async trackChanged(t){return this.trackChangedHelper(t).catch(n=>(console.warn("Git: Error in trackChanged."+n),Promise.reject(n)))}async trackChangedHelper(t){if(t){if(t.path===void 0){console.warn("Git: Attempted to track change of undefined filepath. Unforeseen situation.");return}return this.computeLineAuthorInfo(t.path)}}destroy(){this.lineAuthorings.clear(),va.clear(),VE()}async computeLineAuthorInfo(t){let n=this.plugin.lineAuthoringFeature.isAvailableOnCurrentPlatform().gitManager,r=await n.submoduleAwareHeadRevisonInContainingDirectory(t),i=await n.hashObject(t),a=NE(r,i,t);if(a!==void 0){if(!this.lineAuthorings.has(a)){let s=await n.blame(t,this.plugin.settings.lineAuthor.followMovement,this.plugin.settings.lineAuthor.ignoreWhitespace);this.lineAuthorings.set(a,s)}this.notifyComputationResultToSubscribers(t,a)}}notifyComputationResultToSubscribers(t,n){va.ifFilepathDefinedTransformSubscribers(t,r=>r.forEach(i=>i.notifyLineAuthoring(n,this.lineAuthorings.get(n))))}},fk=uk.Prec.high([zE,wa,ck]);var iu=class{constructor(t){this.plg=t;this.codeMirrorExtensions=[];this.handleWorkspaceLeaf=t=>{if(!this.lineAuthorInfoProvider){console.warn("Git: undefined lineAuthorInfoProvider. Unexpected situation.");return}let n=t==null?void 0:t.view;!(n instanceof li.MarkdownView)||n.file==null||(n==null?void 0:n.allowNoFile)===!0||this.lineAuthorInfoProvider.trackChanged(n.file).catch(console.error)}}onLoadPlugin(){this.plg.registerEditorExtension(this.codeMirrorExtensions),UE(()=>this.plg.settings.lineAuthor,t=>{this.plg.settings.lineAuthor=t,this.plg.saveSettings()})}conditionallyActivateBySettings(){this.plg.settings.lineAuthor.show&&this.activateFeature()}activateFeature(){try{if(!this.isAvailableOnCurrentPlatform().available)return;ek(this.plg.settings.lineAuthor),this.lineAuthorInfoProvider=new ru(this.plg),this.createEventHandlers(),this.activateCodeMirrorExtensions(),console.log(this.plg.manifest.name+": Enabled line authoring.")}catch(t){console.warn("Git: Error while loading line authoring feature.",t),this.deactivateFeature()}}deactivateFeature(){var t;this.destroyEventHandlers(),this.deactivateCodeMirrorExtensions(),(t=this.lineAuthorInfoProvider)==null||t.destroy(),this.lineAuthorInfoProvider=void 0,console.log(this.plg.manifest.name+": Disabled line authoring.")}isAvailableOnCurrentPlatform(){return{available:this.plg.useSimpleGit&&li.Platform.isDesktopApp,gitManager:this.plg.gitManager instanceof Se?this.plg.gitManager:void 0}}refreshLineAuthorViews(){this.plg.settings.lineAuthor.show&&(this.deactivateFeature(),this.activateFeature())}activateCodeMirrorExtensions(){this.codeMirrorExtensions.push(fk),this.plg.app.workspace.updateOptions(),this.plg.app.workspace.iterateAllLeaves(this.handleWorkspaceLeaf)}deactivateCodeMirrorExtensions(){for(let t of this.codeMirrorExtensions)this.codeMirrorExtensions.remove(t);this.plg.app.workspace.updateOptions()}createEventHandlers(){this.gutterContextMenuEvent=this.createGutterContextMenuHandler(),this.fileOpenEvent=this.createFileOpenEvent(),this.workspaceLeafChangeEvent=this.createWorkspaceLeafChangeEvent(),this.fileModificationEvent=this.createVaultFileModificationHandler(),this.refreshOnCssChangeEvent=this.createCssRefreshHandler(),this.fileRenameEvent=this.createFileRenameEvent(),YE(),this.plg.registerEvent(this.gutterContextMenuEvent),this.plg.registerEvent(this.refreshOnCssChangeEvent),this.plg.registerEvent(this.fileOpenEvent),this.plg.registerEvent(this.workspaceLeafChangeEvent),this.plg.registerEvent(this.fileModificationEvent),this.plg.registerEvent(this.fileRenameEvent)}destroyEventHandlers(){this.plg.app.workspace.offref(this.refreshOnCssChangeEvent),this.plg.app.workspace.offref(this.fileOpenEvent),this.plg.app.workspace.offref(this.workspaceLeafChangeEvent),this.plg.app.workspace.offref(this.refreshOnCssChangeEvent),this.plg.app.vault.offref(this.fileRenameEvent),this.plg.app.workspace.offref(this.gutterContextMenuEvent)}createFileOpenEvent(){return this.plg.app.workspace.on("file-open",t=>{var n;return void((n=this.lineAuthorInfoProvider)==null?void 0:n.trackChanged(t).catch(console.error))})}createWorkspaceLeafChangeEvent(){return this.plg.app.workspace.on("active-leaf-change",this.handleWorkspaceLeaf)}createFileRenameEvent(){return this.plg.app.vault.on("rename",(t,n)=>{var r;return t instanceof li.TFile&&((r=this.lineAuthorInfoProvider)==null?void 0:r.trackChanged(t))})}createVaultFileModificationHandler(){return this.plg.app.vault.on("modify",t=>{var n;return t instanceof li.TFile&&((n=this.lineAuthorInfoProvider)==null?void 0:n.trackChanged(t))})}createCssRefreshHandler(){return this.plg.app.workspace.on("css-change",()=>this.refreshLineAuthorViews())}createGutterContextMenuHandler(){return this.plg.app.workspace.on("editor-menu",JE)}};w();var au=class{constructor(t){this.plugin=t;this.tasks=[]}addTask(t){this.tasks.push(t),this.tasks.length===1&&this.handleTask()}handleTask(){this.tasks.length>0&&this.tasks[0]().catch(t=>this.plugin.displayError(t)).finally(()=>{this.tasks.shift(),this.handleTask()})}clear(){this.tasks=[]}};w();var ln=require("obsidian");var su=class{constructor(t,n){this.statusBarEl=t;this.plugin=n;this.messages=[];this.base="obsidian-git-statusbar-";this.statusBarEl.setAttribute("data-tooltip-position","top"),n.registerEvent(n.app.workspace.on("obsidian-git:refresh",()=>{this.refreshCommitTimestamp().catch(console.error)}))}displayMessage(t,n){this.messages.push({message:`Git: ${t.slice(0,100)}`,timeout:n}),this.display()}display(){this.messages.length>0&&!this.currentMessage?(this.currentMessage=this.messages.shift(),this.statusBarEl.addClass(this.base+"message"),this.statusBarEl.ariaLabel="",this.statusBarEl.setText(this.currentMessage.message),this.lastMessageTimestamp=Date.now()):this.currentMessage?Date.now()-this.lastMessageTimestamp>=this.currentMessage.timeout&&(this.currentMessage=null,this.lastMessageTimestamp=null):this.displayState()}displayState(){switch((this.statusBarEl.getText().length>3||!this.statusBarEl.hasChildNodes())&&(this.statusBarEl.empty(),this.conflictEl=this.statusBarEl.createDiv(),this.conflictEl.setAttribute("data-tooltip-position","top"),this.conflictEl.style.float="left",this.iconEl=this.statusBarEl.createDiv(),this.iconEl.style.float="left",this.textEl=this.statusBarEl.createDiv(),this.textEl.style.float="right",this.textEl.style.marginLeft="5px"),this.plugin.localStorage.getConflict()?((0,ln.setIcon)(this.conflictEl,"alert-circle"),this.conflictEl.ariaLabel="You have merge conflicts. Resolve them and commit afterwards.",this.conflictEl.style.marginRight="5px",this.conflictEl.addClass(this.base+"conflict")):(this.conflictEl.empty(),this.conflictEl.style.marginRight=""),this.plugin.state.gitAction){case 0:this.displayFromNow();break;case 1:this.statusBarEl.ariaLabel="Checking repository status...",(0,ln.setIcon)(this.iconEl,"refresh-cw"),this.statusBarEl.addClass(this.base+"status");break;case 3:this.statusBarEl.ariaLabel="Adding files...",(0,ln.setIcon)(this.iconEl,"archive"),this.statusBarEl.addClass(this.base+"add");break;case 4:this.statusBarEl.ariaLabel="Committing changes...",(0,ln.setIcon)(this.iconEl,"git-commit"),this.statusBarEl.addClass(this.base+"commit");break;case 5:this.statusBarEl.ariaLabel="Pushing changes...",(0,ln.setIcon)(this.iconEl,"upload"),this.statusBarEl.addClass(this.base+"push");break;case 2:this.statusBarEl.ariaLabel="Pulling changes...",(0,ln.setIcon)(this.iconEl,"download"),this.statusBarEl.addClass(this.base+"pull");break;default:this.statusBarEl.ariaLabel="Failed on initialization!",(0,ln.setIcon)(this.iconEl,"alert-triangle"),this.statusBarEl.addClass(this.base+"failed-init");break}}displayFromNow(){var r;let t=this.lastCommitTimestamp,n=this.plugin.state.offlineMode;if(t){let i=(0,ln.moment)(t).fromNow();this.statusBarEl.ariaLabel=`${n?"Offline: ":""}Last Commit: ${i}`,(r=this.unPushedCommits)!=null&&r&&(this.statusBarEl.ariaLabel+=`
(${this.unPushedCommits} unpushed commits)`)}else this.statusBarEl.ariaLabel=n?"Git is offline":"Git is ready";n?(0,ln.setIcon)(this.iconEl,"globe"):(0,ln.setIcon)(this.iconEl,"check"),this.plugin.settings.changedFilesInStatusBar&&this.plugin.cachedStatus&&this.textEl.setText(this.plugin.cachedStatus.changed.length.toString()),this.statusBarEl.addClass(this.base+"idle")}async refreshCommitTimestamp(){this.lastCommitTimestamp=await this.plugin.gitManager.getLastCommitTime(),this.unPushedCommits=await this.plugin.gitManager.getUnpushedCommits()}remove(){this.statusBarEl.remove()}};w();var lu=require("obsidian"),ou=class extends lu.SuggestModal{constructor(n){super(n.app);this.plugin=n;this.resolve=null;this.setPlaceholder("Type your message and select optional the version with the added date.")}openAndGetResult(){return new Promise(n=>{this.resolve=n,this.open()})}onClose(){new Promise(n=>setTimeout(n,10)).then(()=>{this.resolve&&this.resolve(void 0)})}getSuggestions(n){let r=(0,lu.moment)().format(this.plugin.settings.commitDateFormat);return n==""&&(n="..."),[n,`${r}: ${n}`,`${n}: ${r}`]}renderSuggestion(n,r){r.innerText=n}onChooseSuggestion(n,r){this.resolve&&this.resolve(n)}};w();var hk=require("obsidian"),fo=class{constructor(t){this.plugin=t}saveLastAuto(t,n){n==="backup"?this.plugin.localStorage.setLastAutoBackup(t.toString()):n==="pull"?this.plugin.localStorage.setLastAutoPull(t.toString()):n==="push"&&this.plugin.localStorage.setLastAutoPush(t.toString())}loadLastAuto(){var t,n,r;return{backup:new Date((t=this.plugin.localStorage.getLastAutoBackup())!=null?t:""),pull:new Date((n=this.plugin.localStorage.getLastAutoPull())!=null?n:""),push:new Date((r=this.plugin.localStorage.getLastAutoPush())!=null?r:"")}}async init(){await this.setUpAutoCommitAndSync();let t=this.loadLastAuto();if(this.plugin.settings.differentIntervalCommitAndPush&&this.plugin.settings.autoPushInterval>0){let n=new Date,r=this.plugin.settings.autoPushInterval-Math.round((n.getTime()-t.push.getTime())/1e3/60);this.startAutoPush(r<=0?0:r)}if(this.plugin.settings.autoPullInterval>0){let n=new Date,r=this.plugin.settings.autoPullInterval-Math.round((n.getTime()-t.pull.getTime())/1e3/60);this.startAutoPull(r<=0?0:r)}}unload(){this.clearAutoPull(),this.clearAutoPush(),this.clearAutoCommitAndSync()}reload(...t){t.contains("commit")&&(this.clearAutoCommitAndSync(),this.plugin.settings.autoSaveInterval>0&&this.startAutoCommitAndSync(this.plugin.settings.autoSaveInterval)),t.contains("push")&&(this.clearAutoPush(),this.plugin.settings.differentIntervalCommitAndPush&&this.plugin.settings.autoPushInterval>0&&this.startAutoPush(this.plugin.settings.autoPushInterval)),t.contains("pull")&&(this.clearAutoPull(),this.plugin.settings.autoPullInterval>0&&this.startAutoPull(this.plugin.settings.autoPullInterval))}async setUpAutoCommitAndSync(){if(this.plugin.settings.setLastSaveToLastCommit){this.clearAutoCommitAndSync();let t=await this.plugin.gitManager.getLastCommitTime();t&&this.plugin.localStorage.setLastAutoBackup(t.toString())}if(!this.timeoutIDCommitAndSync&&!this.plugin.autoCommitDebouncer){let t=this.loadLastAuto();if(this.plugin.settings.autoSaveInterval>0){let n=new Date,r=this.plugin.settings.autoSaveInterval-Math.round((n.getTime()-t.backup.getTime())/1e3/60);this.startAutoCommitAndSync(r<=0?0:r)}}}startAutoCommitAndSync(t){let n=(t!=null?t:this.plugin.settings.autoSaveInterval)*6e4;this.plugin.settings.autoBackupAfterFileChange?t===0?this.doAutoCommitAndSync():this.plugin.autoCommitDebouncer=(0,hk.debounce)(()=>this.doAutoCommitAndSync(),n,!0):(n>2147483647&&(n=2147483647),this.timeoutIDCommitAndSync=window.setTimeout(()=>this.doAutoCommitAndSync(),n))}doAutoCommitAndSync(){this.plugin.promiseQueue.addTask(()=>this.plugin.settings.differentIntervalCommitAndPush?this.plugin.commit({fromAuto:!0}):this.plugin.commitAndSync(!0)),this.saveLastAuto(new Date,"backup"),this.startAutoCommitAndSync()}startAutoPull(t){let n=(t!=null?t:this.plugin.settings.autoPullInterval)*6e4;n>2147483647&&(n=2147483647),this.timeoutIDPull=window.setTimeout(()=>{this.plugin.promiseQueue.addTask(()=>this.plugin.pullChangesFromRemote()),this.saveLastAuto(new Date,"pull"),this.startAutoPull()},n)}startAutoPush(t){let n=(t!=null?t:this.plugin.settings.autoPushInterval)*6e4;n>2147483647&&(n=2147483647),this.timeoutIDPush=window.setTimeout(()=>{this.plugin.promiseQueue.addTask(()=>this.plugin.push()),this.saveLastAuto(new Date,"push"),this.startAutoPush()},n)}clearAutoCommitAndSync(){var n;let t=!1;return this.timeoutIDCommitAndSync&&(window.clearTimeout(this.timeoutIDCommitAndSync),this.timeoutIDCommitAndSync=void 0,t=!0),this.plugin.autoCommitDebouncer&&((n=this.plugin.autoCommitDebouncer)==null||n.cancel(),this.plugin.autoCommitDebouncer=void 0,t=!0),t}clearAutoPull(){return this.timeoutIDPull?(window.clearTimeout(this.timeoutIDPull),this.timeoutIDPull=void 0,!0):!1}clearAutoPush(){return this.timeoutIDPush?(window.clearTimeout(this.timeoutIDPush),this.timeoutIDPush=void 0,!0):!1}};w();var po=require("obsidian");w();var ho=require("obsidian");async function dk(e,t,n){let r=await mk(t,n);if(r.result==="failure"){new ho.Notice(r.reason);return}let{isGitHub:i,branch:a,repo:s,user:o,filePath:l}=r;if(i){let c=e.getCursor("from").line+1,u=e.getCursor("to").line+1;c===u?window.open(`https://github.com/${o}/${s}/blob/${a}/${l}?plain=1#L${c}`):window.open(`https://github.com/${o}/${s}/blob/${a}/${l}?plain=1#L${c}-L${u}`)}else new ho.Notice("It seems like you are not using GitHub")}async function pk(e,t){let n=await mk(e,t);if(n.result==="failure"){new ho.Notice(n.reason);return}let{isGitHub:r,branch:i,repo:a,user:s,filePath:o}=n;r?window.open(`https://github.com/${s}/${a}/commits/${i}/${o}`):new ho.Notice("It seems like you are not using GitHub")}async function mk(e,t){let n=await t.branchInfo(),r=n.tracking,i=n.current,a,s=t.getRelativeRepoPath(e.path);if(t instanceof Se){let l=await t.getSubmoduleOfFile(t.getRelativeRepoPath(e.path));if(l){s=l.relativeFilepath;let c=await t.git.cwd({path:l.submodule,root:!1}).status();if(r=c.tracking||void 0,i=c.current||void 0,r){let u=r.substring(0,r.indexOf("/")),f=await t.git.cwd({path:l.submodule,root:!1}).getConfig(`remote.${u}.url`,"local");if(f.value!=null)a=f.value;else return{result:"failure",reason:"Failed to get remote url of submodule"}}}}if(r==null)return{result:"failure",reason:"Remote branch is not configured"};if(i==null)return{result:"failure",reason:"Failed to get current branch name"};if(a==null){let l=r.substring(0,r.indexOf("/"));if(a=await t.getConfig(`remote.${l}.url`),a==null)return{result:"failure",reason:"Failed to get remote url"}}let o=a.match(/(?:^https:\/\/github\.com\/(.+)\/(.+?)(?:\.git)?$)|(?:^[a-zA-Z]+@github\.com:(.+)\/(.+?)(?:\.git)?$)/);if(o==null)return{result:"failure",reason:"Could not parse remote url"};{let[l,c,u,f,h]=o;return{result:"success",isGitHub:!!l,repo:u||h,user:c||f,branch:i,filePath:s}}}w();var gk=require("obsidian"),cu=class extends gk.FuzzySuggestModal{constructor(t,n){super(t.app),this.plugin=t,this.changedFiles=n,this.setPlaceholder("Not supported files will be opened by default app!")}getItems(){return this.changedFiles}getItemText(t){if(t.index=="U"&&t.working_dir=="U")return`Untracked | ${t.vault_path}`;let n="",r="";return t.working_dir!=" "&&(n=`Working Dir: ${t.working_dir} `),t.index!=" "&&(r=`Index: ${t.index}`),`${n}${r} | ${t.vault_path}`}onChooseItem(t,n){this.plugin.app.metadataCache.getFirstLinkpathDest(t.vault_path,"")==null?this.app.openWithDefaultApp(t.vault_path):this.plugin.app.workspace.openLinkText(t.vault_path,"/")}};w();var yk=require("obsidian"),uu=class extends yk.Modal{constructor(n,r){super(n);this.content=r;this.resolve=null}openAndGetReslt(){return new Promise(n=>{this.resolve=n,this.open()})}onOpen(){let{contentEl:n,titleEl:r}=this;r.setText("Edit .gitignore");let i=n.createDiv(),a=i.createEl("textarea",{text:this.content,cls:["obsidian-git-textarea"],attr:{rows:10,cols:30,wrap:"off"}});i.createEl("button",{cls:["mod-cta","obsidian-git-center-button"],text:"Save"}).addEventListener("click",()=>{this.resolve(a.value),this.close()})}onClose(){let{contentEl:n}=this;n.empty(),this.resolve&&this.resolve(void 0)}};function vk(e){let t=e.app;e.addCommand({id:"edit-gitignore",name:"Edit .gitignore",callback:async()=>{let n=e.gitManager.getRelativeVaultPath(".gitignore");await t.vault.adapter.exists(n)||await t.vault.adapter.write(n,"");let r=await t.vault.adapter.read(n),a=await new uu(t,r).openAndGetReslt();a!==void 0&&(await t.vault.adapter.write(n,a),await e.refresh())}}),e.addCommand({id:"open-git-view",name:"Open source control view",callback:async()=>{var i;let n=t.workspace.getLeavesOfType(yt.type),r;n.length===0?(r=(i=t.workspace.getRightLeaf(!1))!=null?i:t.workspace.getLeaf(),await r.setViewState({type:yt.type})):r=n.first(),await t.workspace.revealLeaf(r),t.workspace.trigger("obsidian-git:refresh")}}),e.addCommand({id:"open-history-view",name:"Open history view",callback:async()=>{var i;let n=t.workspace.getLeavesOfType(an.type),r;n.length===0?(r=(i=t.workspace.getRightLeaf(!1))!=null?i:t.workspace.getLeaf(),await r.setViewState({type:an.type})):r=n.first(),await t.workspace.revealLeaf(r),t.workspace.trigger("obsidian-git:refresh")}}),e.addCommand({id:"open-diff-view",name:"Open diff view",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;{let i=e.gitManager.getRelativeRepoPath(r.path,!0);e.tools.openDiff({aFile:i,aRef:""})}}}),e.addCommand({id:"view-file-on-github",name:"Open file on GitHub",editorCallback:(n,{file:r})=>{if(r)return dk(n,r,e.gitManager)}}),e.addCommand({id:"view-history-on-github",name:"Open file history on GitHub",editorCallback:(n,{file:r})=>{if(r)return pk(r,e.gitManager)}}),e.addCommand({id:"pull",name:"Pull",callback:()=>e.promiseQueue.addTask(()=>e.pullChangesFromRemote())}),e.addCommand({id:"fetch",name:"Fetch",callback:()=>e.promiseQueue.addTask(()=>e.fetch())}),e.addCommand({id:"switch-to-remote-branch",name:"Switch to remote branch",callback:()=>e.promiseQueue.addTask(()=>e.switchRemoteBranch())}),e.addCommand({id:"add-to-gitignore",name:"Add file to .gitignore",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;e.addFileToGitignore(r).catch(i=>e.displayError(i))}}),e.addCommand({id:"push",name:"Commit-and-sync",callback:()=>e.promiseQueue.addTask(()=>e.commitAndSync(!1))}),e.addCommand({id:"backup-and-close",name:"Commit-and-sync and then close Obsidian",callback:()=>e.promiseQueue.addTask(async()=>{await e.commitAndSync(!1),window.close()})}),e.addCommand({id:"commit-push-specified-message",name:"Commit-and-sync with specific message",callback:()=>e.promiseQueue.addTask(()=>e.commitAndSync(!1,!0))}),e.addCommand({id:"commit",name:"Commit all changes",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1}))}),e.addCommand({id:"commit-specified-message",name:"Commit all changes with specific message",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!0}))}),e.addCommand({id:"commit-staged",name:"Commit staged",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!1,onlyStaged:!0}))}),po.Platform.isDesktopApp&&e.addCommand({id:"commit-amend-staged-specified-message",name:"Amend staged",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!0,onlyStaged:!0,amend:!0}))}),e.addCommand({id:"commit-staged-specified-message",name:"Commit staged with specific message",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!0,onlyStaged:!0}))}),e.addCommand({id:"push2",name:"Push",callback:()=>e.promiseQueue.addTask(()=>e.push())}),e.addCommand({id:"stage-current-file",name:"Stage current file",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;e.promiseQueue.addTask(()=>e.stageFile(r))}}),e.addCommand({id:"unstage-current-file",name:"Unstage current file",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;e.promiseQueue.addTask(()=>e.unstageFile(r))}}),e.addCommand({id:"edit-remotes",name:"Edit remotes",callback:()=>e.editRemotes().catch(n=>e.displayError(n))}),e.addCommand({id:"remove-remote",name:"Remove remote",callback:()=>e.removeRemote().catch(n=>e.displayError(n))}),e.addCommand({id:"set-upstream-branch",name:"Set upstream branch",callback:()=>e.setUpstreamBranch().catch(n=>e.displayError(n))}),e.addCommand({id:"delete-repo",name:"CAUTION: Delete repository",callback:async()=>{await t.vault.adapter.exists(`${e.settings.basePath}/.git`)?await new je(e,{options:["NO","YES"],placeholder:"Do you really want to delete the repository (.git directory)? plugin action cannot be undone.",onlySelection:!0}).openAndGetResult()==="YES"&&(await t.vault.adapter.rmdir(`${e.settings.basePath}/.git`,!0),new po.Notice("Successfully deleted repository. Reloading plugin..."),e.unloadPlugin(),await e.init({fromReload:!0})):new po.Notice("No repository found")}}),e.addCommand({id:"init-repo",name:"Initialize a new repo",callback:()=>e.createNewRepo().catch(n=>e.displayError(n))}),e.addCommand({id:"clone-repo",name:"Clone an existing remote repo",callback:()=>e.cloneNewRepo().catch(n=>e.displayError(n))}),e.addCommand({id:"list-changed-files",name:"List changed files",callback:async()=>{if(await e.isAllInitialized())try{let n=await e.updateCachedStatus();if(n.changed.length+n.staged.length>500){e.displayError("Too many changes to display");return}new cu(e,n.all).open()}catch(n){e.displayError(n)}}}),e.addCommand({id:"switch-branch",name:"Switch branch",callback:()=>{e.switchBranch().catch(n=>e.displayError(n))}}),e.addCommand({id:"create-branch",name:"Create new branch",callback:()=>{e.createBranch().catch(n=>e.displayError(n))}}),e.addCommand({id:"delete-branch",name:"Delete branch",callback:()=>{e.deleteBranch().catch(n=>e.displayError(n))}}),e.addCommand({id:"discard-all",name:"CAUTION: Discard all changes",callback:async()=>{if(!await e.isAllInitialized())return!1;await new je(e,{options:["NO","YES"],placeholder:"Do you want to discard all changes to tracked files? plugin action cannot be undone.",onlySelection:!0}).openAndGetResult()==="YES"&&e.promiseQueue.addTask(()=>e.discardAll())}}),e.addCommand({id:"raw-command",name:"Raw command",checkCallback:n=>{let r=e.gitManager;if(n)return r instanceof Se;e.tools.runRawCommand().catch(i=>e.displayError(i))}}),e.addCommand({id:"toggle-line-author-info",name:"Toggle line author information",callback:()=>{var n;return(n=e.settingsTab)==null?void 0:n.configureLineAuthorShowStatus(!e.settings.lineAuthor.show)}})}w();var fu=class{constructor(t){this.plugin=t;this.prefix=this.plugin.manifest.id+":",this.app=t.app}migrate(){let t=["password","hostname","conflict","lastAutoPull","lastAutoBackup","lastAutoPush","gitPath","pluginDisabled"];for(let n of t){let r=localStorage.getItem(this.prefix+n);this.app.loadLocalStorage(this.prefix+n)==null&&r!=null&&r!=null&&(this.app.saveLocalStorage(this.prefix+n,r),localStorage.removeItem(this.prefix+n))}}getPassword(){return this.app.loadLocalStorage(this.prefix+"password")}setPassword(t){return this.app.saveLocalStorage(this.prefix+"password",t)}getUsername(){return this.app.loadLocalStorage(this.prefix+"username")}setUsername(t){return this.app.saveLocalStorage(this.prefix+"username",t)}getHostname(){return this.app.loadLocalStorage(this.prefix+"hostname")}setHostname(t){return this.app.saveLocalStorage(this.prefix+"hostname",t)}getConflict(){return this.app.loadLocalStorage(this.prefix+"conflict")=="true"}setConflict(t){return this.app.saveLocalStorage(this.prefix+"conflict",`${t}`)}getLastAutoPull(){return this.app.loadLocalStorage(this.prefix+"lastAutoPull")}setLastAutoPull(t){return this.app.saveLocalStorage(this.prefix+"lastAutoPull",t)}getLastAutoBackup(){return this.app.loadLocalStorage(this.prefix+"lastAutoBackup")}setLastAutoBackup(t){return this.app.saveLocalStorage(this.prefix+"lastAutoBackup",t)}getLastAutoPush(){return this.app.loadLocalStorage(this.prefix+"lastAutoPush")}setLastAutoPush(t){return this.app.saveLocalStorage(this.prefix+"lastAutoPush",t)}getGitPath(){return this.app.loadLocalStorage(this.prefix+"gitPath")}setGitPath(t){return this.app.saveLocalStorage(this.prefix+"gitPath",t)}getPATHPaths(){var t,n;return(n=(t=this.app.loadLocalStorage(this.prefix+"PATHPaths"))==null?void 0:t.split(":"))!=null?n:[]}setPATHPaths(t){return this.app.saveLocalStorage(this.prefix+"PATHPaths",t.join(":"))}getEnvVars(){var t;return JSON.parse((t=this.app.loadLocalStorage(this.prefix+"envVars"))!=null?t:"[]")}setEnvVars(t){return this.app.saveLocalStorage(this.prefix+"envVars",JSON.stringify(t))}getPluginDisabled(){return this.app.loadLocalStorage(this.prefix+"pluginDisabled")=="true"}setPluginDisabled(t){return this.app.saveLocalStorage(this.prefix+"pluginDisabled",`${t}`)}};w();w();w();w();var ze;(function(e){e.INSERT="insert",e.DELETE="delete",e.CONTEXT="context"})(ze||(ze={}));var wk={LINE_BY_LINE:"line-by-line",SIDE_BY_SIDE:"side-by-side"},bk={LINES:"lines",WORDS:"words",NONE:"none"},xk={WORD:"word",CHAR:"char"},ci;(function(e){e.AUTO="auto",e.DARK="dark",e.LIGHT="light"})(ci||(ci={}));w();var Kj=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],Jj=RegExp("["+Kj.join("\\")+"]","g");function _k(e){return e.replace(Jj,"\\$&")}function cm(e){return e&&e.replace(/\\/g,"/")}function Sk(e){let t,n,r,i=0;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i|=0;return i}function Ek(e,t){let n=e.split(".");return n.length>1?n[n.length-1]:t}function kk(e,t){return t.reduce((n,r)=>n||e.startsWith(r),!1)}var Ak=["a/","b/","i/","w/","c/","o/"];function Fr(e,t,n){let r=n!==void 0?[...Ak,n]:Ak,i=t?new RegExp(`^${_k(t)} "?(.+?)"?$`):new RegExp('^"?(.+?)"?$'),[,a=""]=i.exec(e)||[],s=r.find(l=>a.indexOf(l)===0);return(s?a.slice(s.length):a).replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [+-]\d{4}.*$/,"")}function Qj(e,t){return Fr(e,"---",t)}function eD(e,t){return Fr(e,"+++",t)}function Ck(e,t={}){let n=[],r=null,i=null,a=null,s=null,o=null,l=null,c=null,u="--- ",f="+++ ",h="@@",d=/^old mode (\d{6})/,p=/^new mode (\d{6})/,m=/^deleted file mode (\d{6})/,g=/^new file mode (\d{6})/,y=/^copy from "?(.+)"?/,x=/^copy to "?(.+)"?/,_=/^rename from "?(.+)"?/,S=/^rename to "?(.+)"?/,b=/^similarity index (\d+)%/,A=/^dissimilarity index (\d+)%/,v=/^index ([\da-z]+)\.\.([\da-z]+)\s*(\d{6})?/,k=/^Binary files (.*) and (.*) differ/,E=/^GIT binary patch/,T=/^index ([\da-z]+),([\da-z]+)\.\.([\da-z]+)/,M=/^mode (\d{6}),(\d{6})\.\.(\d{6})/,L=/^new file mode (\d{6})/,N=/^deleted file mode (\d{6}),(\d{6})/,j=e.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,`
`).split(`
`);function Y(){i!==null&&r!==null&&(r.blocks.push(i),i=null)}function le(){r!==null&&(!r.oldName&&l!==null&&(r.oldName=l),!r.newName&&c!==null&&(r.newName=c),r.newName&&(n.push(r),r=null)),l=null,c=null}function fe(){Y(),le(),r={blocks:[],deletedLines:0,addedLines:0}}function ae($){Y();let V;r!==null&&((V=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec($))?(r.isCombined=!1,a=parseInt(V[1],10),o=parseInt(V[2],10)):(V=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec($))?(r.isCombined=!0,a=parseInt(V[1],10),s=parseInt(V[2],10),o=parseInt(V[3],10)):($.startsWith(h)&&console.error("Failed to parse lines, starting in 0!"),a=0,o=0,r.isCombined=!1)),i={lines:[],oldStartLine:a,oldStartLine2:s,newStartLine:o,header:$}}function Re($){if(r===null||i===null||a===null||o===null)return;let V={content:$},D=r.isCombined?["+ "," +","++"]:["+"],se=r.isCombined?["- "," -","--"]:["-"];kk($,D)?(r.addedLines++,V.type=ze.INSERT,V.oldNumber=void 0,V.newNumber=o++):kk($,se)?(r.deletedLines++,V.type=ze.DELETE,V.oldNumber=a++,V.newNumber=void 0):(V.type=ze.CONTEXT,V.oldNumber=a++,V.newNumber=o++),i.lines.push(V)}function he($,V){let D=V;for(;D<j.length-3;){if($.startsWith("diff"))return!1;if(j[D].startsWith(u)&&j[D+1].startsWith(f)&&j[D+2].startsWith(h))return!0;D++}return!1}return j.forEach(($,V)=>{if(!$||$.startsWith("*"))return;let D,se=j[V-1],Ae=j[V+1],wt=j[V+2];if($.startsWith("diff --git")||$.startsWith("diff --combined")){if(fe(),(D=/^diff --git "?([a-ciow]\/.+)"? "?([a-ciow]\/.+)"?/.exec($))&&(l=Fr(D[1],void 0,t.dstPrefix),c=Fr(D[2],void 0,t.srcPrefix)),r===null)throw new Error("Where is my file !!!");r.isGitDiff=!0;return}if($.startsWith("Binary files")&&!(r!=null&&r.isGitDiff)){if(fe(),(D=/^Binary files "?([a-ciow]\/.+)"? and "?([a-ciow]\/.+)"? differ/.exec($))&&(l=Fr(D[1],void 0,t.dstPrefix),c=Fr(D[2],void 0,t.srcPrefix)),r===null)throw new Error("Where is my file !!!");r.isBinary=!0;return}if((!r||!r.isGitDiff&&r&&$.startsWith(u)&&Ae.startsWith(f)&&wt.startsWith(h))&&fe(),r!=null&&r.isTooBig)return;if(r&&(typeof t.diffMaxChanges=="number"&&r.addedLines+r.deletedLines>t.diffMaxChanges||typeof t.diffMaxLineLength=="number"&&$.length>t.diffMaxLineLength)){r.isTooBig=!0,r.addedLines=0,r.deletedLines=0,r.blocks=[],i=null;let ut=typeof t.diffTooBigMessage=="function"?t.diffTooBigMessage(n.length):"Diff too big to be displayed";ae(ut);return}if($.startsWith(u)&&Ae.startsWith(f)||$.startsWith(f)&&se.startsWith(u)){if(r&&!r.oldName&&$.startsWith("--- ")&&(D=Qj($,t.srcPrefix))){r.oldName=D,r.language=Ek(r.oldName,r.language);return}if(r&&!r.newName&&$.startsWith("+++ ")&&(D=eD($,t.dstPrefix))){r.newName=D,r.language=Ek(r.newName,r.language);return}}if(r&&($.startsWith(h)||r.isGitDiff&&r.oldName&&r.newName&&!i)){ae($);return}if(i&&($.startsWith("+")||$.startsWith("-")||$.startsWith(" "))){Re($);return}let _e=!he($,V);if(r===null)throw new Error("Where is my file !!!");(D=d.exec($))?r.oldMode=D[1]:(D=p.exec($))?r.newMode=D[1]:(D=m.exec($))?(r.deletedFileMode=D[1],r.isDeleted=!0):(D=g.exec($))?(r.newFileMode=D[1],r.isNew=!0):(D=y.exec($))?(_e&&(r.oldName=D[1]),r.isCopy=!0):(D=x.exec($))?(_e&&(r.newName=D[1]),r.isCopy=!0):(D=_.exec($))?(_e&&(r.oldName=D[1]),r.isRename=!0):(D=S.exec($))?(_e&&(r.newName=D[1]),r.isRename=!0):(D=k.exec($))?(r.isBinary=!0,r.oldName=Fr(D[1],void 0,t.srcPrefix),r.newName=Fr(D[2],void 0,t.dstPrefix),ae("Binary file")):E.test($)?(r.isBinary=!0,ae($)):(D=b.exec($))?r.unchangedPercentage=parseInt(D[1],10):(D=A.exec($))?r.changedPercentage=parseInt(D[1],10):(D=v.exec($))?(r.checksumBefore=D[1],r.checksumAfter=D[2],D[3]&&(r.mode=D[3])):(D=T.exec($))?(r.checksumBefore=[D[2],D[3]],r.checksumAfter=D[1]):(D=M.exec($))?(r.oldMode=[D[2],D[3]],r.newMode=D[1]):(D=L.exec($))?(r.newFileMode=D[1],r.isNew=!0):(D=N.exec($))&&(r.deletedFileMode=D[1],r.isDeleted=!0)}),Y(),le(),n}w();w();w();function er(){}er.prototype={diff:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var a=this;function s(m){return i?(setTimeout(function(){i(void 0,m)},0),!0):m}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var o=n.length,l=t.length,c=1,u=o+l;r.maxEditLength&&(u=Math.min(u,r.maxEditLength));var f=[{newPos:-1,components:[]}],h=this.extractCommon(f[0],n,t,0);if(f[0].newPos+1>=o&&h+1>=l)return s([{value:this.join(n),count:n.length}]);function d(){for(var m=-1*c;m<=c;m+=2){var g=void 0,y=f[m-1],x=f[m+1],_=(x?x.newPos:0)-m;y&&(f[m-1]=void 0);var S=y&&y.newPos+1<o,b=x&&0<=_&&_<l;if(!S&&!b){f[m]=void 0;continue}if(!S||b&&y.newPos<x.newPos?(g=rD(x),a.pushComponent(g.components,void 0,!0)):(g=y,g.newPos++,a.pushComponent(g.components,!0,void 0)),_=a.extractCommon(g,n,t,m),g.newPos+1>=o&&_+1>=l)return s(nD(a,g.components,n,t,a.useLongestToken));f[m]=g}c++}if(i)(function m(){setTimeout(function(){if(c>u)return i();d()||m()},0)})();else for(;c<=u;){var p=d();if(p)return p}},pushComponent:function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function(t,n,r,i){for(var a=n.length,s=r.length,o=t.newPos,l=o-i,c=0;o+1<a&&l+1<s&&this.equals(n[o+1],r[l+1]);)o++,l++,c++;return c&&t.components.push({count:c}),t.newPos=o,l},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function nD(e,t,n,r,i){for(var a=0,s=t.length,o=0,l=0;a<s;a++){var c=t[a];if(c.removed){if(c.value=e.join(r.slice(l,l+c.count)),l+=c.count,a&&t[a-1].added){var f=t[a-1];t[a-1]=t[a],t[a]=f}}else{if(!c.added&&i){var u=n.slice(o,o+c.count);u=u.map(function(d,p){var m=r[l+p];return m.length>d.length?m:d}),c.value=e.join(u)}else c.value=e.join(n.slice(o,o+c.count));o+=c.count,c.added||(l+=c.count)}}var h=t[s-1];return s>1&&typeof h.value=="string"&&(h.added||h.removed)&&e.equals("",h.value)&&(t[s-2].value+=h.value,t.pop()),t}function rD(e){return{newPos:e.newPos,components:e.components.slice(0)}}var iD=new er;function Mk(e,t,n){return iD.diff(e,t,n)}var Tk=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Fk=/\S/,hm=new er;hm.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Fk.test(e)&&!Fk.test(t)};hm.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&Tk.test(t[n])&&Tk.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};function Pk(e,t,n){return hm.diff(e,t,n)}var Ok=new er;Ok.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var aD=new er;aD.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var sD=new er;sD.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function hu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(t){return typeof t}:hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var oD=Object.prototype.toString,mo=new er;mo.useLongestToken=!0;mo.tokenize=Ok.tokenize;mo.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,s){return typeof s=="undefined"?n:s}:r;return typeof e=="string"?e:JSON.stringify(um(e,null,null,i),i,"  ")};mo.equals=function(e,t){return er.prototype.equals.call(mo,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function um(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s;if(oD.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=um(e[a],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),hu(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var o=[],l;for(l in e)e.hasOwnProperty(l)&&o.push(l);for(o.sort(),a=0;a<o.length;a+=1)l=o[a],s[l]=um(e[l],t,n,r,l);t.pop(),n.pop()}else s=e;return s}var fm=new er;fm.tokenize=function(e){return e.slice()};fm.join=fm.removeEmpty=function(e){return e};w();function cD(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];let i;for(i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]}function Sa(e){return(t,n)=>{let r=e(t).trim(),i=e(n).trim();return cD(r,i)/(r.length+i.length)}}function Ea(e){function t(r,i,a=new Map){let s=1/0,o;for(let l=0;l<r.length;++l)for(let c=0;c<i.length;++c){let u=JSON.stringify([r[l],i[c]]),f;a.has(u)&&(f=a.get(u))||(f=e(r[l],i[c]),a.set(u,f)),f<s&&(s=f,o={indexA:l,indexB:c,score:s})}return o}function n(r,i,a=0,s=new Map){let o=t(r,i,s);if(!o||r.length+i.length<3)return[[r,i]];let l=r.slice(0,o.indexA),c=i.slice(0,o.indexB),u=[r[o.indexA]],f=[i[o.indexB]],h=o.indexA+1,d=o.indexB+1,p=r.slice(h),m=i.slice(d),g=n(l,c,a+1,s),y=n(u,f,a+1,s),x=n(p,m,a+1,s),_=y;return(o.indexA>0||o.indexB>0)&&(_=g.concat(_)),(r.length>h||i.length>d)&&(_=_.concat(x)),_}return n}var vt={INSERTS:"d2h-ins",DELETES:"d2h-del",CONTEXT:"d2h-cntx",INFO:"d2h-info",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change"},ui={matching:bk.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:xk.WORD,colorScheme:ci.LIGHT},Dn="/",Rk=Sa(e=>e.value),uD=Ea(Rk);function pm(e){return e.indexOf("dev/null")!==-1}function fD(e){return e.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,"")}function hD(e){return e.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}function ka(e){switch(e){case ze.CONTEXT:return vt.CONTEXT;case ze.INSERT:return vt.INSERTS;case ze.DELETE:return vt.DELETES}}function Aa(e){switch(e){case ci.DARK:return"d2h-dark-color-scheme";case ci.AUTO:return"d2h-auto-color-scheme";case ci.LIGHT:default:return"d2h-light-color-scheme"}}function dD(e){return e?2:1}function Mr(e){return e.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function cn(e,t,n=!0){let r=dD(t);return{prefix:e.substring(0,r),content:n?Mr(e.substring(r)):e.substring(r)}}function fi(e){let t=cm(e.oldName),n=cm(e.newName);if(t!==n&&!pm(t)&&!pm(n)){let r=[],i=[],a=t.split(Dn),s=n.split(Dn),o=a.length,l=s.length,c=0,u=o-1,f=l-1;for(;c<u&&c<f&&a[c]===s[c];)r.push(s[c]),c+=1;for(;u>c&&f>c&&a[u]===s[f];)i.unshift(s[f]),u-=1,f-=1;let h=r.join(Dn),d=i.join(Dn),p=a.slice(c,u+1).join(Dn),m=s.slice(c,f+1).join(Dn);return h.length&&d.length?h+Dn+"{"+p+" \u2192 "+m+"}"+Dn+d:h.length?h+Dn+"{"+p+" \u2192 "+m+"}":d.length?"{"+p+" \u2192 "+m+"}"+Dn+d:t+" \u2192 "+n}else return pm(n)?t:n}function Ca(e){return`d2h-${Sk(fi(e)).toString().slice(-6)}`}function Ta(e){let t="file-changed";return e.isRename||e.isCopy?t="file-renamed":e.isNew?t="file-added":e.isDeleted?t="file-deleted":e.newName!==e.oldName&&(t="file-renamed"),t}function du(e,t,n,r={}){let{matching:i,maxLineLengthHighlight:a,matchWordsThreshold:s,diffStyle:o}=Object.assign(Object.assign({},ui),r),l=cn(e,n,!1),c=cn(t,n,!1);if(l.content.length>a||c.content.length>a)return{oldLine:{prefix:l.prefix,content:Mr(l.content)},newLine:{prefix:c.prefix,content:Mr(c.content)}};let u=o==="char"?Mk(l.content,c.content):Pk(l.content,c.content),f=[];if(o==="word"&&i==="words"){let d=u.filter(g=>g.removed),p=u.filter(g=>g.added);uD(p,d).forEach(g=>{g[0].length===1&&g[1].length===1&&Rk(g[0][0],g[1][0])<s&&(f.push(g[0][0]),f.push(g[1][0]))})}let h=u.reduce((d,p)=>{let m=p.added?"ins":p.removed?"del":null,g=f.indexOf(p)>-1?' class="d2h-change"':"",y=Mr(p.value);return m!==null?`${d}<${m}${g}>${y}</${m}>`:`${d}${y}`},"");return{oldLine:{prefix:l.prefix,content:fD(h)},newLine:{prefix:c.prefix,content:hD(h)}}}var Ik="file-summary",pD="icon",mD={colorScheme:ui.colorScheme},pu=class{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},mD),n)}render(t){let n=t.map(r=>this.hoganUtils.render(Ik,"line",{fileHtmlId:Ca(r),oldName:r.oldName,newName:r.newName,fileName:fi(r),deletedLines:"-"+r.deletedLines,addedLines:"+"+r.addedLines},{fileIcon:this.hoganUtils.template(pD,Ta(r))})).join(`
`);return this.hoganUtils.render(Ik,"wrapper",{colorScheme:Aa(this.config.colorScheme),filesNumber:t.length,files:n})}};w();var gm=Object.assign(Object.assign({},ui),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),go="generic",Lk="line-by-line",gD="icon",yD="tag",yo=class{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},gm),n)}render(t){let n=t.map(r=>{let i;return r.blocks.length?i=this.generateFileHtml(r):i=this.generateEmptyDiff(),this.makeFileDiffHtml(r,i)}).join(`
`);return this.hoganUtils.render(go,"wrapper",{colorScheme:Aa(this.config.colorScheme),content:n})}makeFileDiffHtml(t,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";let r=this.hoganUtils.template(Lk,"file-diff"),i=this.hoganUtils.template(go,"file-path"),a=this.hoganUtils.template(gD,"file"),s=this.hoganUtils.template(yD,Ta(t));return r.render({file:t,fileHtmlId:Ca(t),diffs:n,filePath:i.render({fileDiffName:fi(t)},{fileIcon:a,fileTag:s})})}generateEmptyDiff(){return this.hoganUtils.render(go,"empty-diff",{contentClass:"d2h-code-line",CSSLineClass:vt})}generateFileHtml(t){let n=Ea(Sa(r=>cn(r.content,t.isCombined).content));return t.blocks.map(r=>{let i=this.hoganUtils.render(go,"block-header",{CSSLineClass:vt,blockHeader:t.isTooBig?r.header:Mr(r.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"});return this.applyLineGroupping(r).forEach(([a,s,o])=>{if(s.length&&o.length&&!a.length)this.applyRematchMatching(s,o,n).map(([l,c])=>{let{left:u,right:f}=this.processChangedLines(t,t.isCombined,l,c);i+=u,i+=f});else if(a.length)a.forEach(l=>{let{prefix:c,content:u}=cn(l.content,t.isCombined);i+=this.generateSingleLineHtml(t,{type:vt.CONTEXT,prefix:c,content:u,oldNumber:l.oldNumber,newNumber:l.newNumber})});else if(s.length||o.length){let{left:l,right:c}=this.processChangedLines(t,t.isCombined,s,o);i+=l,i+=c}else console.error("Unknown state reached while processing groups of lines",a,s,o)}),i}).join(`
`)}applyLineGroupping(t){let n=[],r=[],i=[];for(let a=0;a<t.lines.length;a++){let s=t.lines[a];(s.type!==ze.INSERT&&i.length||s.type===ze.CONTEXT&&r.length>0)&&(n.push([[],r,i]),r=[],i=[]),s.type===ze.CONTEXT?n.push([[s],[],[]]):s.type===ze.INSERT&&r.length===0?n.push([[],[],[s]]):s.type===ze.INSERT&&r.length>0?i.push(s):s.type===ze.DELETE&&r.push(s)}return(r.length||i.length)&&(n.push([[],r,i]),r=[],i=[]),n}applyRematchMatching(t,n,r){let i=t.length*n.length,a=Math.max.apply(null,[0].concat(t.concat(n).map(o=>o.content.length)));return i<this.config.matchingMaxComparisons&&a<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?r(t,n):[[t,n]]}processChangedLines(t,n,r,i){let a={right:"",left:""},s=Math.max(r.length,i.length);for(let o=0;o<s;o++){let l=r[o],c=i[o],u=l!==void 0&&c!==void 0?du(l.content,c.content,n,this.config):void 0,f=l!==void 0&&l.oldNumber!==void 0?Object.assign(Object.assign({},u!==void 0?{prefix:u.oldLine.prefix,content:u.oldLine.content,type:vt.DELETE_CHANGES}:Object.assign(Object.assign({},cn(l.content,n)),{type:ka(l.type)})),{oldNumber:l.oldNumber,newNumber:l.newNumber}):void 0,h=c!==void 0&&c.newNumber!==void 0?Object.assign(Object.assign({},u!==void 0?{prefix:u.newLine.prefix,content:u.newLine.content,type:vt.INSERT_CHANGES}:Object.assign(Object.assign({},cn(c.content,n)),{type:ka(c.type)})),{oldNumber:c.oldNumber,newNumber:c.newNumber}):void 0,{left:d,right:p}=this.generateLineHtml(t,f,h);a.left+=d,a.right+=p}return a}generateLineHtml(t,n,r){return{left:this.generateSingleLineHtml(t,n),right:this.generateSingleLineHtml(t,r)}}generateSingleLineHtml(t,n){if(n===void 0)return"";let r=this.hoganUtils.render(Lk,"numbers",{oldNumber:n.oldNumber||"",newNumber:n.newNumber||""});return this.hoganUtils.render(go,"line",{type:n.type,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:n.prefix===" "?"&nbsp;":n.prefix,content:n.content,lineNumber:r,line:n,file:t})}};w();var ym=Object.assign(Object.assign({},ui),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),vo="generic",vD="side-by-side",wD="icon",bD="tag",wo=class{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},ym),n)}render(t){let n=t.map(r=>{let i;return r.blocks.length?i=this.generateFileHtml(r):i=this.generateEmptyDiff(),this.makeFileDiffHtml(r,i)}).join(`
`);return this.hoganUtils.render(vo,"wrapper",{colorScheme:Aa(this.config.colorScheme),content:n})}makeFileDiffHtml(t,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";let r=this.hoganUtils.template(vD,"file-diff"),i=this.hoganUtils.template(vo,"file-path"),a=this.hoganUtils.template(wD,"file"),s=this.hoganUtils.template(bD,Ta(t));return r.render({file:t,fileHtmlId:Ca(t),diffs:n,filePath:i.render({fileDiffName:fi(t)},{fileIcon:a,fileTag:s})})}generateEmptyDiff(){return{right:"",left:this.hoganUtils.render(vo,"empty-diff",{contentClass:"d2h-code-side-line",CSSLineClass:vt})}}generateFileHtml(t){let n=Ea(Sa(r=>cn(r.content,t.isCombined).content));return t.blocks.map(r=>{let i={left:this.makeHeaderHtml(r.header,t),right:this.makeHeaderHtml("")};return this.applyLineGroupping(r).forEach(([a,s,o])=>{if(s.length&&o.length&&!a.length)this.applyRematchMatching(s,o,n).map(([l,c])=>{let{left:u,right:f}=this.processChangedLines(t.isCombined,l,c);i.left+=u,i.right+=f});else if(a.length)a.forEach(l=>{let{prefix:c,content:u}=cn(l.content,t.isCombined),{left:f,right:h}=this.generateLineHtml({type:vt.CONTEXT,prefix:c,content:u,number:l.oldNumber},{type:vt.CONTEXT,prefix:c,content:u,number:l.newNumber});i.left+=f,i.right+=h});else if(s.length||o.length){let{left:l,right:c}=this.processChangedLines(t.isCombined,s,o);i.left+=l,i.right+=c}else console.error("Unknown state reached while processing groups of lines",a,s,o)}),i}).reduce((r,i)=>({left:r.left+i.left,right:r.right+i.right}),{left:"",right:""})}applyLineGroupping(t){let n=[],r=[],i=[];for(let a=0;a<t.lines.length;a++){let s=t.lines[a];(s.type!==ze.INSERT&&i.length||s.type===ze.CONTEXT&&r.length>0)&&(n.push([[],r,i]),r=[],i=[]),s.type===ze.CONTEXT?n.push([[s],[],[]]):s.type===ze.INSERT&&r.length===0?n.push([[],[],[s]]):s.type===ze.INSERT&&r.length>0?i.push(s):s.type===ze.DELETE&&r.push(s)}return(r.length||i.length)&&(n.push([[],r,i]),r=[],i=[]),n}applyRematchMatching(t,n,r){let i=t.length*n.length,a=Math.max.apply(null,[0].concat(t.concat(n).map(o=>o.content.length)));return i<this.config.matchingMaxComparisons&&a<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?r(t,n):[[t,n]]}makeHeaderHtml(t,n){return this.hoganUtils.render(vo,"block-header",{CSSLineClass:vt,blockHeader:n!=null&&n.isTooBig?t:Mr(t),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})}processChangedLines(t,n,r){let i={right:"",left:""},a=Math.max(n.length,r.length);for(let s=0;s<a;s++){let o=n[s],l=r[s],c=o!==void 0&&l!==void 0?du(o.content,l.content,t,this.config):void 0,u=o!==void 0&&o.oldNumber!==void 0?Object.assign(Object.assign({},c!==void 0?{prefix:c.oldLine.prefix,content:c.oldLine.content,type:vt.DELETE_CHANGES}:Object.assign(Object.assign({},cn(o.content,t)),{type:ka(o.type)})),{number:o.oldNumber}):void 0,f=l!==void 0&&l.newNumber!==void 0?Object.assign(Object.assign({},c!==void 0?{prefix:c.newLine.prefix,content:c.newLine.content,type:vt.INSERT_CHANGES}:Object.assign(Object.assign({},cn(l.content,t)),{type:ka(l.type)})),{number:l.newNumber}):void 0,{left:h,right:d}=this.generateLineHtml(u,f);i.left+=h,i.right+=d}return i}generateLineHtml(t,n){return{left:this.generateSingleHtml(t),right:this.generateSingleHtml(n)}}generateSingleHtml(t){let n="d2h-code-side-linenumber",r="d2h-code-side-line";return this.hoganUtils.render(vo,"line",{type:(t==null?void 0:t.type)||`${vt.CONTEXT} d2h-emptyplaceholder`,lineClass:t!==void 0?n:`${n} d2h-code-side-emptyplaceholder`,contentClass:t!==void 0?r:`${r} d2h-code-side-emptyplaceholder`,prefix:(t==null?void 0:t.prefix)===" "?"&nbsp;":t==null?void 0:t.prefix,content:t==null?void 0:t.content,lineNumber:t==null?void 0:t.number})}};w();var xm=Ze(bm());w();var st=Ze(bm()),rt={};rt["file-summary-line"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li class="d2h-file-list-line">'),r.b(`
`+n),r.b('    <span class="d2h-file-name-wrapper">'),r.b(`
`+n),r.b(r.rp("<fileIcon0",e,t,"      ")),r.b('      <a href="#'),r.b(r.v(r.f("fileHtmlId",e,t,0))),r.b('" class="d2h-file-name">'),r.b(r.v(r.f("fileName",e,t,0))),r.b("</a>"),r.b(`
`+n),r.b('      <span class="d2h-file-stats">'),r.b(`
`+n),r.b('          <span class="d2h-lines-added">'),r.b(r.v(r.f("addedLines",e,t,0))),r.b("</span>"),r.b(`
`+n),r.b('          <span class="d2h-lines-deleted">'),r.b(r.v(r.f("deletedLines",e,t,0))),r.b("</span>"),r.b(`
`+n),r.b("      </span>"),r.b(`
`+n),r.b("    </span>"),r.b(`
`+n),r.b("</li>"),r.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}});rt["file-summary-wrapper"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="d2h-file-list-wrapper '),r.b(r.v(r.f("colorScheme",e,t,0))),r.b('">'),r.b(`
`+n),r.b('    <div class="d2h-file-list-header">'),r.b(`
`+n),r.b('        <span class="d2h-file-list-title">Files changed ('),r.b(r.v(r.f("filesNumber",e,t,0))),r.b(")</span>"),r.b(`
`+n),r.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),r.b(`
`+n),r.b('        <a class="d2h-file-switch d2h-show">show</a>'),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b('    <ol class="d2h-file-list">'),r.b(`
`+n),r.b("    "),r.b(r.t(r.f("files",e,t,0))),r.b(`
`+n),r.b("    </ol>"),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});rt["generic-block-header"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.f("lineClass",e,t,0))),r.b(" "),r.b(r.v(r.d("CSSLineClass.INFO",e,t,0))),r.b('"></td>'),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.d("CSSLineClass.INFO",e,t,0))),r.b('">'),r.b(`
`+n),r.b('        <div class="'),r.b(r.v(r.f("contentClass",e,t,0))),r.b('">'),r.s(r.f("blockHeader",e,t,1),e,t,0,156,173,"{{ }}")&&(r.rs(e,t,function(i,a,s){s.b(s.t(s.f("blockHeader",i,a,0)))}),e.pop()),r.s(r.f("blockHeader",e,t,1),e,t,1,0,0,"")||r.b("&nbsp;"),r.b("</div>"),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b("</tr>"),r.fl()},partials:{},subs:{}});rt["generic-empty-diff"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.d("CSSLineClass.INFO",e,t,0))),r.b('">'),r.b(`
`+n),r.b('        <div class="'),r.b(r.v(r.f("contentClass",e,t,0))),r.b('">'),r.b(`
`+n),r.b("            File without changes"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b("</tr>"),r.fl()},partials:{},subs:{}});rt["generic-file-path"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-file-name-wrapper">'),r.b(`
`+n),r.b(r.rp("<fileIcon0",e,t,"    ")),r.b('    <span class="d2h-file-name">'),r.b(r.v(r.f("fileDiffName",e,t,0))),r.b("</span>"),r.b(`
`+n),r.b(r.rp("<fileTag1",e,t,"    ")),r.b("</span>"),r.b(`
`+n),r.b('<label class="d2h-file-collapse">'),r.b(`
`+n),r.b('    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">'),r.b(`
`+n),r.b("    Viewed"),r.b(`
`+n),r.b("</label>"),r.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}});rt["generic-line"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.f("lineClass",e,t,0))),r.b(" "),r.b(r.v(r.f("type",e,t,0))),r.b('">'),r.b(`
`+n),r.b("      "),r.b(r.t(r.f("lineNumber",e,t,0))),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.f("type",e,t,0))),r.b('">'),r.b(`
`+n),r.b('        <div class="'),r.b(r.v(r.f("contentClass",e,t,0))),r.b('">'),r.b(`
`+n),r.s(r.f("prefix",e,t,1),e,t,0,162,238,"{{ }}")&&(r.rs(e,t,function(i,a,s){s.b('            <span class="d2h-code-line-prefix">'),s.b(s.t(s.f("prefix",i,a,0))),s.b("</span>"),s.b(`
`+n)}),e.pop()),r.s(r.f("prefix",e,t,1),e,t,1,0,0,"")||(r.b('            <span class="d2h-code-line-prefix">&nbsp;</span>'),r.b(`
`+n)),r.s(r.f("content",e,t,1),e,t,0,371,445,"{{ }}")&&(r.rs(e,t,function(i,a,s){s.b('            <span class="d2h-code-line-ctn">'),s.b(s.t(s.f("content",i,a,0))),s.b("</span>"),s.b(`
`+n)}),e.pop()),r.s(r.f("content",e,t,1),e,t,1,0,0,"")||(r.b('            <span class="d2h-code-line-ctn"><br></span>'),r.b(`
`+n)),r.b("        </div>"),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b("</tr>"),r.fl()},partials:{},subs:{}});rt["generic-wrapper"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="d2h-wrapper '),r.b(r.v(r.f("colorScheme",e,t,0))),r.b('">'),r.b(`
`+n),r.b("    "),r.b(r.t(r.f("content",e,t,0))),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});rt["icon-file-added"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),r.b(`
`+n),r.b('     width="14">'),r.b(`
`+n),r.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});rt["icon-file-changed"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),r.b(`
`+n),r.b('     viewBox="0 0 14 16" width="14">'),r.b(`
`+n),r.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});rt["icon-file-deleted"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),r.b(`
`+n),r.b('     viewBox="0 0 14 16" width="14">'),r.b(`
`+n),r.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});rt["icon-file-renamed"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),r.b(`
`+n),r.b('     viewBox="0 0 14 16" width="14">'),r.b(`
`+n),r.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});rt["icon-file"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),r.b(`
`+n),r.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});rt["line-by-line-file-diff"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="'),r.b(r.v(r.f("fileHtmlId",e,t,0))),r.b('" class="d2h-file-wrapper" data-lang="'),r.b(r.v(r.d("file.language",e,t,0))),r.b('">'),r.b(`
`+n),r.b('    <div class="d2h-file-header">'),r.b(`
`+n),r.b("    "),r.b(r.t(r.f("filePath",e,t,0))),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b('    <div class="d2h-file-diff">'),r.b(`
`+n),r.b('        <div class="d2h-code-wrapper">'),r.b(`
`+n),r.b('            <table class="d2h-diff-table">'),r.b(`
`+n),r.b('                <tbody class="d2h-diff-tbody">'),r.b(`
`+n),r.b("                "),r.b(r.t(r.f("diffs",e,t,0))),r.b(`
`+n),r.b("                </tbody>"),r.b(`
`+n),r.b("            </table>"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});rt["line-by-line-numbers"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="line-num1">'),r.b(r.v(r.f("oldNumber",e,t,0))),r.b("</div>"),r.b(`
`+n),r.b('<div class="line-num2">'),r.b(r.v(r.f("newNumber",e,t,0))),r.b("</div>"),r.fl()},partials:{},subs:{}});rt["side-by-side-file-diff"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="'),r.b(r.v(r.f("fileHtmlId",e,t,0))),r.b('" class="d2h-file-wrapper" data-lang="'),r.b(r.v(r.d("file.language",e,t,0))),r.b('">'),r.b(`
`+n),r.b('    <div class="d2h-file-header">'),r.b(`
`+n),r.b("      "),r.b(r.t(r.f("filePath",e,t,0))),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b('    <div class="d2h-files-diff">'),r.b(`
`+n),r.b('        <div class="d2h-file-side-diff">'),r.b(`
`+n),r.b('            <div class="d2h-code-wrapper">'),r.b(`
`+n),r.b('                <table class="d2h-diff-table">'),r.b(`
`+n),r.b('                    <tbody class="d2h-diff-tbody">'),r.b(`
`+n),r.b("                    "),r.b(r.t(r.d("diffs.left",e,t,0))),r.b(`
`+n),r.b("                    </tbody>"),r.b(`
`+n),r.b("                </table>"),r.b(`
`+n),r.b("            </div>"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b('        <div class="d2h-file-side-diff">'),r.b(`
`+n),r.b('            <div class="d2h-code-wrapper">'),r.b(`
`+n),r.b('                <table class="d2h-diff-table">'),r.b(`
`+n),r.b('                    <tbody class="d2h-diff-tbody">'),r.b(`
`+n),r.b("                    "),r.b(r.t(r.d("diffs.right",e,t,0))),r.b(`
`+n),r.b("                    </tbody>"),r.b(`
`+n),r.b("                </table>"),r.b(`
`+n),r.b("            </div>"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});rt["tag-file-added"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),r.fl()},partials:{},subs:{}});rt["tag-file-changed"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),r.fl()},partials:{},subs:{}});rt["tag-file-deleted"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),r.fl()},partials:{},subs:{}});rt["tag-file-renamed"]=new st.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),r.fl()},partials:{},subs:{}});var bo=class{constructor({compiledTemplates:t={},rawTemplates:n={}}){let r=Object.entries(n).reduce((i,[a,s])=>{let o=xm.compile(s,{asString:!1});return Object.assign(Object.assign({},i),{[a]:o})},{});this.preCompiledTemplates=Object.assign(Object.assign(Object.assign({},rt),t),r)}static compile(t){return xm.compile(t,{asString:!1})}render(t,n,r,i,a){let s=this.templateKey(t,n);try{return this.preCompiledTemplates[s].render(r,i,a)}catch(o){throw new Error(`Could not find template to render '${s}'`)}}template(t,n){return this.preCompiledTemplates[this.templateKey(t,n)]}templateKey(t,n){return`${t}-${n}`}};var _D=Object.assign(Object.assign(Object.assign({},gm),ym),{outputFormat:wk.LINE_BY_LINE,drawFileList:!0});function Nk(e,t={}){let n=Object.assign(Object.assign({},_D),t),r=typeof e=="string"?Ck(e,n):e,i=new bo(n),{colorScheme:a}=n,s={colorScheme:a},o=n.drawFileList?new pu(i,s).render(r):"",l=n.outputFormat==="side-by-side"?new wo(i,n).render(r):new yo(i,n).render(r);return o+l}var gu=require("obsidian");var hi=class extends gu.ItemView{constructor(n,r){super(n);this.plugin=r;this.gettingDiff=!1;this.parser=new DOMParser,this.navigation=!0,this.gitRefreshRef=this.app.workspace.on("obsidian-git:refresh",()=>{this.refresh().catch(console.error)}),this.gitViewRefreshRef=this.app.workspace.on("obsidian-git:view-refresh",()=>{this.refresh().catch(console.error)})}getViewType(){return wr.type}getDisplayText(){var n;if(((n=this.state)==null?void 0:n.bFile)!=null){let r=this.state.bFile.split("/").last();return r!=null&&r.endsWith(".md")&&(r=r.slice(0,-3)),`Diff: ${r}`}return wr.name}getIcon(){return wr.icon}async setState(n,r){this.state=n,gu.Platform.isMobile&&(this.leaf.view.titleEl.textContent=this.getDisplayText()),await this.refresh()}getState(){return this.state}onClose(){return this.app.workspace.offref(this.gitRefreshRef),this.app.workspace.offref(this.gitViewRefreshRef),super.onClose()}async onOpen(){return await this.refresh(),super.onOpen()}async refresh(){var n;if((n=this.state)!=null&&n.bFile&&!this.gettingDiff&&this.plugin.gitManager){this.gettingDiff=!0;try{let r=await this.plugin.gitManager.getDiffString(this.state.bFile,this.state.aRef=="HEAD",this.state.bRef);this.contentEl.empty();let i=this.plugin.gitManager.getRelativeVaultPath(this.state.bFile);if(!r){if(this.plugin.gitManager instanceof Se&&await this.plugin.gitManager.isTracked(this.state.bFile))r=[`--- ${this.state.aFile}`,`+++ ${this.state.bFile}`,""].join(`
`);else if(await this.app.vault.adapter.exists(i)){let a=await this.app.vault.adapter.read(i);r=[...`--- /dev/null
+++ ${this.state.bFile}
@@ -0,0 +1,${a.split(`
`).length} @@`.split(`
`),...a.split(`
`).map(o=>`+${o}`)].join(`
`)}}if(r){let a=this.parser.parseFromString(Nk(r),"text/html").querySelector(".d2h-file-diff");this.contentEl.append(a)}else{let a=this.contentEl.createDiv({cls:"obsidian-git-center"});a.createSpan({text:"\u26A0\uFE0F",attr:{style:"font-size: 2em"}}),a.createEl("br"),a.createSpan({text:"File not found: "+this.state.bFile})}}finally{this.gettingDiff=!1}}}};w();var vA=require("obsidian");w();w();w();w();function Te(){}var xo=e=>e;function _m(e){return e()}function yu(){return Object.create(null)}function Fe(e){e.forEach(_m)}function Fa(e){return typeof e=="function"}function ot(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function $k(e){return Object.keys(e).length===0}w();var Hk=typeof window!="undefined",Sm=Hk?()=>window.performance.now():()=>Date.now(),_o=Hk?e=>requestAnimationFrame(e):Te;w();var Ma=new Set;function Uk(e){Ma.forEach(t=>{t.c(e)||(Ma.delete(t),t.f())}),Ma.size!==0&&_o(Uk)}function Em(e){let t;return Ma.size===0&&_o(Uk),{promise:new Promise(n=>{Ma.add(t={c:e,f:n})}),abort(){Ma.delete(t)}}}w();w();w();w();var km=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var vu=class e{constructor(t){dt(this,"_listeners","WeakMap"in km?new WeakMap:void 0);dt(this,"_observer");dt(this,"options");this.options=t}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!=null?t:this._observer=new ResizeObserver(n=>{var r;for(let i of n)e.entries.set(i.target,i),(r=this._listeners.get(i.target))==null||r(i)})}};vu.entries="WeakMap"in km?new WeakMap:void 0;var Gk=!1;function zk(){Gk=!0}function Vk(){Gk=!1}function P(e,t){e.appendChild(t)}function Ht(e,t,n){let r=wu(e);if(!r.getElementById(t)){let i=R("style");i.id=t,i.textContent=n,qk(r,i)}}function wu(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Wk(e){let t=R("style");return t.textContent="/* empty */",qk(wu(e),t),t.sheet}function qk(e,t){return P(e.head||e,t),t.sheet}function re(e,t,n){e.insertBefore(t,n||null)}function ne(e){e.parentNode&&e.parentNode.removeChild(e)}function un(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function R(e){return document.createElement(e)}function Me(e){return document.createTextNode(e)}function J(){return Me(" ")}function Pa(){return Me("")}function te(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Ee(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function C(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Xk(e){return Array.from(e.childNodes)}function Ie(e,t){t=""+t,e.data!==t&&(e.data=t)}function Am(e,t){e.value=t==null?"":t}function Kt(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function me(e,t,n){e.classList.toggle(t,!!n)}function bu(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Yk(e){let t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}var xu=new Map,_u=0;function ED(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function kD(e,t){let n={stylesheet:Wk(t),rules:{}};return xu.set(e,n),n}function Su(e,t,n,r,i,a,s,o=0){let l=16.666/r,c=`{
`;for(let g=0;g<=1;g+=l){let y=t+(n-t)*a(g);c+=g*100+`%{${s(y,1-y)}}
`}let u=c+`100% {${s(n,1-n)}}
}`,f=`__svelte_${ED(u)}_${o}`,h=wu(e),{stylesheet:d,rules:p}=xu.get(h)||kD(h,e);p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));let m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${i}ms 1 both`,_u+=1,f}function Cm(e,t){let n=(e.style.animation||"").split(", "),r=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),_u-=i,_u||AD())}function AD(){_o(()=>{_u||(xu.forEach(e=>{let{ownerNode:t}=e.stylesheet;t&&ne(t)}),xu.clear())})}w();w();w();w();var Pr;function tr(e){Pr=e}function Zk(){if(!Pr)throw new Error("Function called outside component initialization");return Pr}function So(e){Zk().$$.on_destroy.push(e)}function Or(e,t){let n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}var di=[];var Ne=[],Ra=[],Kk=[],CD=Promise.resolve(),Fm=!1;function Jk(){Fm||(Fm=!0,CD.then(Eu))}function _t(e){Ra.push(e)}var Tm=new Set,Oa=0;function Eu(){if(Oa!==0)return;let e=Pr;do{try{for(;Oa<di.length;){let t=di[Oa];Oa++,tr(t),TD(t.$$)}}catch(t){throw di.length=0,Oa=0,t}for(tr(null),di.length=0,Oa=0;Ne.length;)Ne.pop()();for(let t=0;t<Ra.length;t+=1){let n=Ra[t];Tm.has(n)||(Tm.add(n),n())}Ra.length=0}while(di.length);for(;Kk.length;)Kk.pop()();Fm=!1,Tm.clear(),tr(e)}function TD(e){if(e.fragment!==null){e.update(),Fe(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_t)}}function Qk(e){let t=[],n=[];Ra.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Ra=t}var Eo;function FD(){return Eo||(Eo=Promise.resolve(),Eo.then(()=>{Eo=null})),Eo}function Mm(e,t,n){e.dispatchEvent(bu(`${t?"intro":"outro"}${n}`))}var ku=new Set,nr;function Pe(){nr={r:0,c:[],p:nr}}function Oe(){nr.r||Fe(nr.c),nr=nr.p}function U(e,t){e&&e.i&&(ku.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(ku.has(e))return;ku.add(e),nr.c.push(()=>{ku.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}var MD={duration:0};function St(e,t,n,r){let a=t(e,n,{direction:"both"}),s=r?0:1,o=null,l=null,c=null,u;function f(){c&&Cm(e,c)}function h(p,m){let g=p.b-s;return m*=Math.abs(g),{a:s,b:p.b,d:g,duration:m,start:p.start,end:p.start+m,group:p.group}}function d(p){let{delay:m=0,duration:g=300,easing:y=xo,tick:x=Te,css:_}=a||MD,S={start:Sm()+m,b:p};p||(S.group=nr,nr.r+=1),"inert"in e&&(p?u!==void 0&&(e.inert=u):(u=e.inert,e.inert=!0)),o||l?l=S:(_&&(f(),c=Su(e,s,p,g,m,y,_)),p&&x(0,1),o=h(S,g),_t(()=>Mm(e,p,"start")),Em(b=>{if(l&&b>l.start&&(o=h(l,g),l=null,Mm(e,o.b,"start"),_&&(f(),c=Su(e,s,o.b,o.duration,0,y,a.css))),o){if(b>=o.end)x(s=o.b,1-s),Mm(e,o.b,"end"),l||(o.b?f():--o.group.r||Fe(o.group.c)),o=null;else if(b>=o.start){let A=b-o.start;s=o.a+o.d*y(A/o.duration),x(s,1-s)}}return!!(o||l)}))}return{run(p){Fa(a)?FD().then(()=>{a=a({direction:p?"in":"out"}),d(p)}):d(p)},end(){f(),o=l=null}}}w();function it(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}w();w();w();var PD=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],OD=new Set([...PD]);w();w();w();function Ve(e){e&&e.c()}function $e(e,t,n){let{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),_t(()=>{let a=e.$$.on_mount.map(_m).filter(Fa);e.$$.on_destroy?e.$$.on_destroy.push(...a):Fe(a),e.$$.on_mount=[]}),i.forEach(_t)}function He(e,t){let n=e.$$;n.fragment!==null&&(Qk(n.after_update),Fe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ID(e,t){e.$$.dirty[0]===-1&&(di.push(e),Jk(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function lt(e,t,n,r,i,a,s=null,o=[-1]){let l=Pr;tr(e);let c=e.$$={fragment:null,ctx:[],props:a,update:Te,not_equal:i,bound:yu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:yu(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,h,...d)=>{let p=d.length?d[0]:h;return c.ctx&&i(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&ID(e,f)),h}):[],c.update(),u=!0,Fe(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){zk();let f=Xk(t.target);c.fragment&&c.fragment.l(f),f.forEach(ne)}else c.fragment&&c.fragment.c();t.intro&&U(e.$$.fragment),$e(e,t.target,t.anchor),Vk(),Eu()}tr(l)}var LD;typeof HTMLElement=="function"&&(LD=class extends HTMLElement{constructor(t,n,r){super();dt(this,"$$ctor");dt(this,"$$s");dt(this,"$$c");dt(this,"$$cn",!1);dt(this,"$$d",{});dt(this,"$$r",!1);dt(this,"$$p_d",{});dt(this,"$$l",{});dt(this,"$$l_u",new Map);this.$$ctor=t,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(t,n,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){let i=this.$$c.$on(t,n);this.$$l_u.set(n,i)}super.addEventListener(t,n,r)}removeEventListener(t,n,r){if(super.removeEventListener(t,n,r),this.$$c){let i=this.$$l_u.get(n);i&&(i(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(a){return()=>{let s;return{c:function(){s=R("slot"),a!=="default"&&C(s,"name",a)},m:function(c,u){re(c,s,u)},d:function(c){c&&ne(s)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let n={},r=Yk(this);for(let a of this.$$s)a in r&&(n[a]=[t(a)]);for(let a of this.attributes){let s=this.$$g_p(a.name);s in this.$$d||(this.$$d[s]=Pm(s,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let s=Pm(a,this.$$d[a],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,s)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let s of this.$$l[a]){let o=this.$$c.$on(a,s);this.$$l_u.set(s,o)}this.$$l={}}}attributeChangedCallback(t,n,r){var i;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Pm(t,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(t){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function Pm(e,t,n,r){var a;let i=(a=n[e])==null?void 0:a.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!r||!n[e])return t;if(r==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}var Ye=class{constructor(){dt(this,"$$");dt(this,"$$set")}$destroy(){He(this,1),this.$destroy=Te}$on(t,n){if(!Fa(n))return Te;let r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{let i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!$k(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};w();w();var eA="4";w();typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(eA);w();function Ia(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})}var Tu=require("obsidian");w();w();var ko=require("obsidian");w();w();function tA(e){let t=e-1;return t*t*t+1}function Et(e,{delay:t=0,duration:n=400,easing:r=tA,axis:i="y"}={}){let a=getComputedStyle(e),s=+a.opacity,o=i==="y"?"height":"width",l=parseFloat(a[o]),c=i==="y"?["top","bottom"]:["left","right"],u=c.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),f=parseFloat(a[`padding${u[0]}`]),h=parseFloat(a[`padding${u[1]}`]),d=parseFloat(a[`margin${u[0]}`]),p=parseFloat(a[`margin${u[1]}`]),m=parseFloat(a[`border${u[0]}Width`]),g=parseFloat(a[`border${u[1]}Width`]);return{delay:t,duration:n,easing:r,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*s};${o}: ${y*l}px;padding-${c[0]}: ${y*f}px;padding-${c[1]}: ${y*h}px;margin-${c[0]}: ${y*d}px;margin-${c[1]}: ${y*p}px;border-${c[0]}-width: ${y*m}px;border-${c[1]}-width: ${y*g}px;`}}w();var La=require("obsidian");function jD(e){Ht(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function nA(e){let t,n,r;return{c(){t=R("div"),C(t,"data-icon","go-to-file"),C(t,"aria-label","Open File"),C(t,"class","clickable-icon")},m(i,a){re(i,t,a),e[7](t),n||(r=[te(t,"auxclick",Ee(e[5])),te(t,"click",Ee(e[5]))],n=!0)},p:Te,d(i){i&&ne(t),e[7](null),n=!1,Fe(r)}}}function DD(e){let t,n,r,i=$t(e[0].vault_path)+"",a,s,o,l,c=e[1].app.vault.getAbstractFileByPath(e[0].vault_path)instanceof La.TFile,u,f,h=e[0].status+"",d,p,m,g,y,x,_=c&&nA(e);return{c(){t=R("main"),n=R("div"),r=R("div"),a=Me(i),s=J(),o=R("div"),l=R("div"),_&&_.c(),u=J(),f=R("span"),d=Me(h),C(r,"class","tree-item-inner nav-file-title-content"),C(l,"class","buttons"),C(f,"class","type"),C(f,"data-type",p=e[0].status),C(o,"class","git-tools"),C(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),C(n,"data-path",m=e[0].vault_path),C(n,"data-tooltip-position",e[3]),C(n,"aria-label",g=e[0].vault_path),C(t,"class","tree-item nav-file svelte-1wbh8tp")},m(S,b){re(S,t,b),P(t,n),P(n,r),P(r,a),P(n,s),P(n,o),P(o,l),_&&_.m(l,null),P(o,u),P(o,f),P(f,d),y||(x=[te(t,"click",Ee(e[4])),te(t,"auxclick",Ee(e[8])),te(t,"focus",e[6])],y=!0)},p(S,[b]){b&1&&i!==(i=$t(S[0].vault_path)+"")&&Ie(a,i),b&3&&(c=S[1].app.vault.getAbstractFileByPath(S[0].vault_path)instanceof La.TFile),c?_?_.p(S,b):(_=nA(S),_.c(),_.m(l,null)):_&&(_.d(1),_=null),b&1&&h!==(h=S[0].status+"")&&Ie(d,h),b&1&&p!==(p=S[0].status)&&C(f,"data-type",p),b&1&&m!==(m=S[0].vault_path)&&C(n,"data-path",m),b&8&&C(n,"data-tooltip-position",S[3]),b&1&&g!==(g=S[0].vault_path)&&C(n,"aria-label",g)},i:Te,o:Te,d(S){S&&ne(t),_&&_.d(),y=!1,Fe(x)}}}function BD(e,t,n){let r,{diff:i}=t,{view:a}=t,s=[];window.setTimeout(()=>s.forEach(d=>(0,La.setIcon)(d,d.getAttr("data-icon"))),0);function o(d){ga(i.path)?l(d):c(d)}function l(d){var p;let m=a.app.vault.getAbstractFileByPath(i.vault_path);m instanceof La.TFile&&((p=vn(a.app,d))===null||p===void 0||p.openFile(m).catch(g=>a.plugin.displayError(g)))}function c(d){var p;a.plugin.tools.openDiff({event:d,aFile:(p=i.fromPath)!==null&&p!==void 0?p:i.path,aRef:`${i.hash}^`,bFile:i.path,bRef:i.hash})}function u(d){Or.call(this,e,d)}function f(d){Ne[d?"unshift":"push"](()=>{s[0]=d,n(2,s)})}let h=d=>{d.button==2?jn(a.app,d,i.vault_path,a.leaf,"git-history"):o(d)};return e.$$set=d=>{"diff"in d&&n(0,i=d.diff),"view"in d&&n(1,a=d.view)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,s,r,o,l,u,f,h]}var Om=class extends Ye{constructor(t){super(),lt(this,t,BD,DD,ot,{diff:0,view:1},jD)}},Au=Om;w();function ND(e){Ht(e,"svelte-1lnl15d","main.svelte-1lnl15d .nav-folder-title-content.svelte-1lnl15d{display:flex;align-items:center}")}function rA(e,t,n){let r=e.slice();return r[8]=t[n],r}function $D(e){let t,n,r,i,a,s,o,l=e[8].title+"",c,u,f,h,d,p,m;function g(){return e[7](e[8])}let y=!e[4][e[8].title]&&iA(e);return{c(){t=R("div"),n=R("div"),r=R("div"),i=J(),a=R("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',s=J(),o=R("div"),c=Me(l),f=J(),y&&y.c(),h=J(),C(r,"data-icon","folder"),Kt(r,"padding-right","5px"),Kt(r,"display","flex"),C(a,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),me(a,"is-collapsed",e[4][e[8].title]),C(o,"class","tree-item-inner nav-folder-title-content svelte-1lnl15d"),C(n,"class","tree-item-self is-clickable nav-folder-title"),C(n,"data-tooltip-position",e[5]),C(n,"aria-label",u=e[8].vaultPath),C(t,"class","tree-item nav-folder"),me(t,"is-collapsed",e[4][e[8].title])},m(x,_){re(x,t,_),P(t,n),P(n,r),P(n,i),P(n,a),P(n,s),P(n,o),P(o,c),P(t,f),y&&y.m(t,null),P(t,h),d=!0,p||(m=te(n,"click",g),p=!0)},p(x,_){e=x,(!d||_&17)&&me(a,"is-collapsed",e[4][e[8].title]),(!d||_&1)&&l!==(l=e[8].title+"")&&Ie(c,l),(!d||_&32)&&C(n,"data-tooltip-position",e[5]),(!d||_&1&&u!==(u=e[8].vaultPath))&&C(n,"aria-label",u),e[4][e[8].title]?y&&(Pe(),X(y,1,1,()=>{y=null}),Oe()):y?(y.p(e,_),_&17&&U(y,1)):(y=iA(e),y.c(),U(y,1),y.m(t,h)),(!d||_&17)&&me(t,"is-collapsed",e[4][e[8].title])},i(x){d||(U(y),d=!0)},o(x){X(y),d=!1},d(x){x&&ne(t),y&&y.d(),p=!1,m()}}}function HD(e){let t,n,r,i;return n=new Au({props:{diff:e[8].data,view:e[2]}}),{c(){t=R("div"),Ve(n.$$.fragment),r=J()},m(a,s){re(a,t,s),$e(n,t,null),P(t,r),i=!0},p(a,s){let o={};s&1&&(o.diff=a[8].data),s&4&&(o.view=a[2]),n.$set(o)},i(a){i||(U(n.$$.fragment,a),i=!0)},o(a){X(n.$$.fragment,a),i=!1},d(a){a&&ne(t),He(n)}}}function iA(e){let t,n,r,i;return n=new Cu({props:{hierarchy:e[8],plugin:e[1],view:e[2]}}),{c(){t=R("div"),Ve(n.$$.fragment),C(t,"class","tree-item-children nav-folder-children")},m(a,s){re(a,t,s),$e(n,t,null),i=!0},p(a,s){let o={};s&1&&(o.hierarchy=a[8]),s&2&&(o.plugin=a[1]),s&4&&(o.view=a[2]),n.$set(o)},i(a){i||(U(n.$$.fragment,a),a&&_t(()=>{i&&(r||(r=St(t,Et,{duration:150},!0)),r.run(1))}),i=!0)},o(a){X(n.$$.fragment,a),a&&(r||(r=St(t,Et,{duration:150},!1)),r.run(0)),i=!1},d(a){a&&ne(t),He(n),a&&r&&r.end()}}}function aA(e){let t,n,r,i,a=[HD,$D],s=[];function o(l,c){return l[8].data?0:1}return t=o(e,-1),n=s[t]=a[t](e),{c(){n.c(),r=Pa()},m(l,c){s[t].m(l,c),re(l,r,c),i=!0},p(l,c){let u=t;t=o(l,c),t===u?s[t].p(l,c):(Pe(),X(s[u],1,1,()=>{s[u]=null}),Oe(),n=s[t],n?n.p(l,c):(n=s[t]=a[t](l),n.c()),U(n,1),n.m(r.parentNode,r))},i(l){i||(U(n),i=!0)},o(l){X(n),i=!1},d(l){l&&ne(r),s[t].d(l)}}}function UD(e){let t,n,r=it(e[0].children),i=[];for(let s=0;s<r.length;s+=1)i[s]=aA(rA(e,r,s));let a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){t=R("main");for(let s=0;s<i.length;s+=1)i[s].c();C(t,"class","svelte-1lnl15d"),me(t,"topLevel",e[3])},m(s,o){re(s,t,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,[o]){if(o&119){r=it(s[0].children);let l;for(l=0;l<r.length;l+=1){let c=rA(s,r,l);i[l]?(i[l].p(c,o),U(i[l],1)):(i[l]=aA(c),i[l].c(),U(i[l],1),i[l].m(t,null))}for(Pe(),l=r.length;l<i.length;l+=1)a(l);Oe()}(!n||o&8)&&me(t,"topLevel",s[3])},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)X(i[o]);n=!1},d(s){s&&ne(t),un(i,s)}}}function GD(e,t,n){let r,{hierarchy:i}=t,{plugin:a}=t,{view:s}=t,{topLevel:o=!1}=t,l={};function c(f){n(4,l[f.title]=!l[f.title],l)}let u=f=>c(f);return e.$$set=f=>{"hierarchy"in f&&n(0,i=f.hierarchy),"plugin"in f&&n(1,a=f.plugin),"view"in f&&n(2,s=f.view),"topLevel"in f&&n(3,o=f.topLevel)},e.$$.update=()=>{e.$$.dirty&4&&n(5,r=s.leaf.getRoot().side=="left"?"right":"left")},[i,a,s,o,l,r,c,u]}var Cu=class extends Ye{constructor(t){super(),lt(this,t,GD,UD,ot,{hierarchy:0,plugin:1,view:2,topLevel:3},ND)}},sA=Cu;function oA(e,t,n){let r=e.slice();return r[9]=t[n],r}function lA(e){let t,n=e[0].refs.join(", ")+"",r;return{c(){t=R("div"),r=Me(n),C(t,"class","git-ref")},m(i,a){re(i,t,a),P(t,r)},p(i,a){a&1&&n!==(n=i[0].refs.join(", ")+"")&&Ie(r,n)},d(i){i&&ne(t)}}}function cA(e){let t,n=e[7](e[0])+"",r;return{c(){t=R("div"),r=Me(n),C(t,"class","git-author")},m(i,a){re(i,t,a),P(t,r)},p(i,a){a&1&&n!==(n=i[7](i[0])+"")&&Ie(r,n)},d(i){i&&ne(t)}}}function uA(e){let t,n=(0,ko.moment)(e[0].date).format(e[3].settings.commitDateFormat)+"",r;return{c(){t=R("div"),r=Me(n),C(t,"class","git-date")},m(i,a){re(i,t,a),P(t,r)},p(i,a){a&9&&n!==(n=(0,ko.moment)(i[0].date).format(i[3].settings.commitDateFormat)+"")&&Ie(r,n)},d(i){i&&ne(t)}}}function fA(e){let t,n,r,i,a,s=[VD,zD],o=[];function l(c,u){return c[2]?0:1}return n=l(e,-1),r=o[n]=s[n](e),{c(){t=R("div"),r.c(),C(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Pe(),X(o[f],1,1,()=>{o[f]=null}),Oe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&_t(()=>{a&&(i||(i=St(t,Et,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=St(t,Et,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function zD(e){let t,n,r=it(e[0].diff.files),i=[];for(let s=0;s<r.length;s+=1)i[s]=hA(oA(e,r,s));let a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=Pa()},m(s,o){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,o);re(s,t,o),n=!0},p(s,o){if(o&3){r=it(s[0].diff.files);let l;for(l=0;l<r.length;l+=1){let c=oA(s,r,l);i[l]?(i[l].p(c,o),U(i[l],1)):(i[l]=hA(c),i[l].c(),U(i[l],1),i[l].m(t.parentNode,t))}for(Pe(),l=r.length;l<i.length;l+=1)a(l);Oe()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)X(i[o]);n=!1},d(s){s&&ne(t),un(i,s)}}}function VD(e){let t,n;return t=new sA({props:{hierarchy:e[6],plugin:e[3],view:e[1],topLevel:!0}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i&64&&(a.hierarchy=r[6]),i&8&&(a.plugin=r[3]),i&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function hA(e){let t,n;return t=new Au({props:{view:e[1],diff:e[9]}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i&2&&(a.view=r[1]),i&1&&(a.diff=r[9]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function WD(e){var A;let t,n,r,i,a,s,o,l,c,u,f=e[0].message+"",h,d,p,m,g,y,x=e[0].refs.length>0&&lA(e),_=e[3].settings.authorInHistoryView!="hide"&&((A=e[0].author)==null?void 0:A.name)&&cA(e),S=e[3].settings.dateInHistoryView&&uA(e),b=!e[4]&&fA(e);return{c(){var v;t=R("main"),n=R("div"),r=R("div"),i=R("div"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',a=J(),s=R("div"),x&&x.c(),o=J(),_&&_.c(),l=J(),S&&S.c(),c=J(),u=R("div"),h=Me(f),p=J(),b&&b.c(),C(i,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),me(i,"is-collapsed",e[4]),C(u,"class","tree-item-inner nav-folder-title-content"),C(r,"class","tree-item-self is-clickable nav-folder-title"),C(r,"aria-label",d=`${e[0].refs.length>0?e[0].refs.join(", ")+`
`:""}${(v=e[0].author)==null?void 0:v.name}
${(0,ko.moment)(e[0].date).format(e[3].settings.commitDateFormat)}
${e[0].message}`),C(r,"data-tooltip-position",e[5]),C(n,"class","tree-item nav-folder"),me(n,"is-collapsed",e[4])},m(v,k){re(v,t,k),P(t,n),P(n,r),P(r,i),P(r,a),P(r,s),x&&x.m(s,null),P(s,o),_&&_.m(s,null),P(s,l),S&&S.m(s,null),P(s,c),P(s,u),P(u,h),P(n,p),b&&b.m(n,null),m=!0,g||(y=te(r,"click",e[8]),g=!0)},p(v,[k]){var E,T;(!m||k&16)&&me(i,"is-collapsed",v[4]),v[0].refs.length>0?x?x.p(v,k):(x=lA(v),x.c(),x.m(s,o)):x&&(x.d(1),x=null),v[3].settings.authorInHistoryView!="hide"&&((E=v[0].author)!=null&&E.name)?_?_.p(v,k):(_=cA(v),_.c(),_.m(s,l)):_&&(_.d(1),_=null),v[3].settings.dateInHistoryView?S?S.p(v,k):(S=uA(v),S.c(),S.m(s,c)):S&&(S.d(1),S=null),(!m||k&1)&&f!==(f=v[0].message+"")&&Ie(h,f),(!m||k&9&&d!==(d=`${v[0].refs.length>0?v[0].refs.join(", ")+`
`:""}${(T=v[0].author)==null?void 0:T.name}
${(0,ko.moment)(v[0].date).format(v[3].settings.commitDateFormat)}
${v[0].message}`))&&C(r,"aria-label",d),(!m||k&32)&&C(r,"data-tooltip-position",v[5]),v[4]?b&&(Pe(),X(b,1,1,()=>{b=null}),Oe()):b?(b.p(v,k),k&16&&U(b,1)):(b=fA(v),b.c(),U(b,1),b.m(n,null)),(!m||k&16)&&me(n,"is-collapsed",v[4])},i(v){m||(U(b),m=!0)},o(v){X(b),m=!1},d(v){v&&ne(t),x&&x.d(),_&&_.d(),S&&S.d(),b&&b.d(),g=!1,y()}}}function qD(e,t,n){let r,i,{log:a}=t,{view:s}=t,{showTree:o}=t,{plugin:l}=t,c=!0;function u(h){let d=h.author.name;if(l.settings.authorInHistoryView=="full")return d;if(l.settings.authorInHistoryView=="initials")return d.split(" ").filter(m=>m.length>0).map(m=>m[0].toUpperCase()).join("")}let f=()=>n(4,c=!c);return e.$$set=h=>{"log"in h&&n(0,a=h.log),"view"in h&&n(1,s=h.view),"showTree"in h&&n(2,o=h.showTree),"plugin"in h&&n(3,l=h.plugin)},e.$$.update=()=>{e.$$.dirty&9&&n(6,r={title:"",path:"",vaultPath:"",children:l.gitManager.getTreeStructure(a.diff.files)}),e.$$.dirty&2&&n(5,i=s.leaf.getRoot().side=="left"?"right":"left")},[a,s,o,l,c,i,r,u,f]}var Rm=class extends Ye{constructor(t){super(),lt(this,t,qD,WD,ot,{log:0,view:1,showTree:2,plugin:3})}},dA=Rm;function pA(e,t,n){let r=e.slice();return r[13]=t[n],r}function mA(e){let t,n,r=it(e[6]),i=[];for(let s=0;s<r.length;s+=1)i[s]=gA(pA(e,r,s));let a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){t=R("div");for(let s=0;s<i.length;s+=1)i[s].c();C(t,"class","tree-item nav-folder mod-root")},m(s,o){re(s,t,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,o){if(o&71){r=it(s[6]);let l;for(l=0;l<r.length;l+=1){let c=pA(s,r,l);i[l]?(i[l].p(c,o),U(i[l],1)):(i[l]=gA(c),i[l].c(),U(i[l],1),i[l].m(t,null))}for(Pe(),l=r.length;l<i.length;l+=1)a(l);Oe()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)X(i[o]);n=!1},d(s){s&&ne(t),un(i,s)}}}function gA(e){let t,n;return t=new dA({props:{view:e[1],showTree:e[2],log:e[13],plugin:e[0]}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i&2&&(a.view=r[1]),i&4&&(a.showTree=r[2]),i&64&&(a.log=r[13]),i&1&&(a.plugin=r[0]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function XD(e){let t,n,r,i,a,s,o,l,c,u,f,h=e[6]&&mA(e);return{c(){t=R("main"),n=R("div"),r=R("div"),i=R("div"),a=J(),s=R("div"),o=J(),l=R("div"),h&&h.c(),C(i,"id","layoutChange"),C(i,"class","clickable-icon nav-action-button"),C(i,"aria-label","Change Layout"),C(s,"id","refresh"),C(s,"class","clickable-icon nav-action-button"),C(s,"data-icon","refresh-cw"),C(s,"aria-label","Refresh"),Kt(s,"margin","1px"),me(s,"loading",e[4]),C(r,"class","nav-buttons-container"),C(n,"class","nav-header"),C(l,"class","nav-files-container"),Kt(l,"position","relative")},m(d,p){re(d,t,p),P(t,n),P(n,r),P(r,i),e[8](i),P(r,a),P(r,s),e[10](s),P(t,o),P(t,l),h&&h.m(l,null),c=!0,u||(f=[te(i,"click",e[9]),te(s,"click",e[7])],u=!0)},p(d,[p]){(!c||p&16)&&me(s,"loading",d[4]),d[6]?h?(h.p(d,p),p&64&&U(h,1)):(h=mA(d),h.c(),U(h,1),h.m(l,null)):h&&(Pe(),X(h,1,1,()=>{h=null}),Oe())},i(d){c||(U(h),c=!0)},o(d){X(h),c=!1},d(d){d&&ne(t),e[8](null),e[10](null),h&&h.d(),u=!1,Fe(f)}}}function YD(e,t,n){let{plugin:r}=t,{view:i}=t,a,s=[],o,l=r.settings.treeStructure,c,u;c=i.app.workspace.on("obsidian-git:view-refresh",()=>void h().catch(console.error)),h().catch(console.error),r.app.workspace.onLayoutReady(()=>{window.setTimeout(()=>{s.forEach(g=>(0,Tu.setIcon)(g,g.getAttr("data-icon"))),(0,Tu.setIcon)(u,l?"list":"folder")},0)}),So(()=>{i.app.workspace.offref(c)});function f(){i.app.workspace.trigger("obsidian-git:refresh")}function h(){return Ia(this,void 0,void 0,function*(){if(!r.gitReady){n(6,o=void 0);return}n(4,a=!0);let g=r.gitManager instanceof Se;n(6,o=yield r.gitManager.log(void 0,!1,g?50:10)),n(4,a=!1)})}function d(g){Ne[g?"unshift":"push"](()=>{u=g,n(3,u)})}let p=()=>{n(2,l=!l),n(0,r.settings.treeStructure=l,r),r.saveSettings()};function m(g){Ne[g?"unshift":"push"](()=>{s[6]=g,n(5,s)})}return e.$$set=g=>{"plugin"in g&&n(0,r=g.plugin),"view"in g&&n(1,i=g.view)},e.$$.update=()=>{e.$$.dirty&12&&u&&(u.empty(),(0,Tu.setIcon)(u,l?"list":"folder"))},[r,i,l,u,a,s,o,f,d,p,m]}var Im=class extends Ye{constructor(t){super(),lt(this,t,YD,XD,ot,{plugin:0,view:1})}},yA=Im;var Ao=class extends vA.ItemView{constructor(t,n){super(t),this.plugin=n,this.hoverPopover=null}getViewType(){return an.type}getDisplayText(){return an.name}getIcon(){return an.icon}onClose(){var t;return(t=this._view)==null||t.$destroy(),super.onClose()}reload(){var t;(t=this._view)==null||t.$destroy(),this._view=new yA({target:this.contentEl,props:{plugin:this.plugin,view:this}})}onOpen(){return this.reload(),super.onOpen()}};w();var wA=require("obsidian"),Fu=class extends wA.FuzzySuggestModal{constructor(n,r){super(n.app);this.branches=r;this.setPlaceholder("Select branch to checkout")}getItems(){return this.branches}getItemText(n){return n}onChooseItem(n,r){this.resolve(n)}openAndGetReslt(){return new Promise(n=>{this.resolve=n,this.open()})}onClose(){new Promise(n=>setTimeout(n,10)).then(()=>{this.resolve&&this.resolve(void 0)})}};w();var UA=require("obsidian");w();var Na=require("obsidian");w();var bA=require("obsidian"),Rr=class extends bA.Modal{constructor(n,r,i){super(n);this.deletion=r;this.filename=i;this.resolve=null}myOpen(){return this.open(),new Promise(n=>{this.resolve=n})}onOpen(){let{contentEl:n,titleEl:r}=this;r.setText(`${this.deletion?"Delete":"Discard"} this file?`),n.createEl("p").setText(`Do you really want to ${this.deletion?"delete":"discard the changes of"} "${this.filename}"`);let i=n.createDiv({cls:"modal-button-container"}),a=i.createEl("button",{cls:"mod-warning",text:this.deletion?"Delete":"Discard"});a.addEventListener("click",()=>{this.resolve&&this.resolve(!0),this.close()}),a.addEventListener("keypress",()=>{this.resolve&&this.resolve(!0),this.close()});let s=i.createEl("button",{text:"Cancel"});s.addEventListener("click",()=>(this.resolve&&this.resolve(!1),this.close())),s.addEventListener("keypress",()=>(this.resolve&&this.resolve(!1),this.close()))}onClose(){let{contentEl:n}=this;n.empty()}};w();var ja=require("obsidian");w();w();var ZD=Ze(xA()),Ir=require("obsidian");function pi(e,t,n){let r=e.target;app.workspace.trigger("hover-link",{event:e,source:t.getViewType(),hoverParent:t,targetEl:r,linktext:n})}function KD(e){Ht(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function _A(e){let t,n,r;return{c(){t=R("div"),C(t,"data-icon","go-to-file"),C(t,"aria-label","Open File"),C(t,"class","clickable-icon")},m(i,a){re(i,t,a),e[11](t),n||(r=[te(t,"auxclick",Ee(e[6])),te(t,"click",Ee(e[6]))],n=!0)},p:Te,d(i){i&&ne(t),e[11](null),n=!1,Fe(r)}}}function JD(e){let t,n,r,i=$t(e[0].vault_path)+"",a,s,o,l,c=e[1].app.vault.getAbstractFileByPath(e[0].vault_path)instanceof ja.TFile,u,f,h,d,p,m,g=e[0].working_dir+"",y,x,_,S,b,A,v=c&&_A(e);return{c(){t=R("main"),n=R("div"),r=R("div"),a=Me(i),s=J(),o=R("div"),l=R("div"),v&&v.c(),u=J(),f=R("div"),h=J(),d=R("div"),p=J(),m=R("div"),y=Me(g),C(r,"class","tree-item-inner nav-file-title-content"),C(f,"data-icon","undo"),C(f,"aria-label","Discard"),C(f,"class","clickable-icon"),C(d,"data-icon","plus"),C(d,"aria-label","Stage"),C(d,"class","clickable-icon"),C(l,"class","buttons"),C(m,"class","type"),C(m,"data-type",x=e[0].working_dir),C(o,"class","git-tools"),C(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),C(n,"data-path",_=e[0].vault_path),C(n,"data-tooltip-position",e[3]),C(n,"aria-label",S=e[0].vault_path),C(t,"class","tree-item nav-file svelte-1wbh8tp")},m(k,E){re(k,t,E),P(t,n),P(n,r),P(r,a),P(n,s),P(n,o),P(o,l),v&&v.m(l,null),P(l,u),P(l,f),e[12](f),P(l,h),P(l,d),e[13](d),P(o,p),P(o,m),P(m,y),b||(A=[te(f,"click",Ee(e[8])),te(d,"click",Ee(e[7])),te(t,"mouseover",e[5]),te(t,"click",Ee(e[4])),te(t,"auxclick",Ee(e[14])),te(t,"focus",e[10])],b=!0)},p(k,[E]){E&1&&i!==(i=$t(k[0].vault_path)+"")&&Ie(a,i),E&3&&(c=k[1].app.vault.getAbstractFileByPath(k[0].vault_path)instanceof ja.TFile),c?v?v.p(k,E):(v=_A(k),v.c(),v.m(l,u)):v&&(v.d(1),v=null),E&1&&g!==(g=k[0].working_dir+"")&&Ie(y,g),E&1&&x!==(x=k[0].working_dir)&&C(m,"data-type",x),E&1&&_!==(_=k[0].vault_path)&&C(n,"data-path",_),E&8&&C(n,"data-tooltip-position",k[3]),E&1&&S!==(S=k[0].vault_path)&&C(n,"aria-label",S)},i:Te,o:Te,d(k){k&&ne(t),v&&v.d(),e[12](null),e[13](null),b=!1,Fe(A)}}}function QD(e,t,n){let r,{change:i}=t,{view:a}=t,{manager:s}=t,o=[];window.setTimeout(()=>o.forEach(_=>(0,ja.setIcon)(_,_.getAttr("data-icon"))),0);function l(_){ga(i.path)?u(_):h(_)}function c(_){a.app.vault.getAbstractFileByPath(i.vault_path)&&pi(_,a,i.vault_path)}function u(_){var S;let b=a.app.vault.getAbstractFileByPath(i.vault_path);b instanceof ja.TFile&&((S=vn(a.app,_))===null||S===void 0||S.openFile(b).catch(A=>a.plugin.displayError(A)))}function f(){s.stage(i.path,!1).catch(_=>a.plugin.displayError(_)).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")})}function h(_){a.plugin.tools.openDiff({aFile:i.path,aRef:"",event:_})}function d(){let _=i.working_dir=="U";new Rr(a.app,_,i.vault_path).myOpen().then(S=>{if(S===!0)return _?a.app.vault.adapter.remove(i.vault_path).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")}):s.discard(i.path).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")})},S=>a.plugin.displayError(S))}function p(_){Or.call(this,e,_)}function m(_){Ne[_?"unshift":"push"](()=>{o[1]=_,n(2,o)})}function g(_){Ne[_?"unshift":"push"](()=>{o[0]=_,n(2,o)})}function y(_){Ne[_?"unshift":"push"](()=>{o[2]=_,n(2,o)})}let x=_=>{_.button==2?jn(a.app,_,i.vault_path,a.leaf,"git-source-control"):l(_)};return e.$$set=_=>{"change"in _&&n(0,i=_.change),"view"in _&&n(1,a=_.view),"manager"in _&&n(9,s=_.manager)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,o,r,l,c,u,f,d,s,p,m,g,y,x]}var jm=class extends Ye{constructor(t){super(),lt(this,t,QD,JD,ot,{change:0,view:1,manager:9},KD)}},Mu=jm;w();var SA=require("obsidian");function eB(e){Ht(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function tB(e){let t,n,r,i=$t(e[0].vault_path)+"",a,s,o,l,c=e[0].working_dir+"",u,f,h,d,p,m;return{c(){t=R("main"),n=R("div"),r=R("div"),a=Me(i),s=J(),o=R("div"),l=R("span"),u=Me(c),C(r,"class","tree-item-inner nav-file-title-content"),C(l,"class","type"),C(l,"data-type",f=e[0].working_dir),C(o,"class","git-tools"),C(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),C(n,"data-path",h=e[0].vault_path),C(n,"data-tooltip-position",e[2]),C(n,"aria-label",d=e[0].vault_path),C(t,"class","tree-item nav-file svelte-1wbh8tp")},m(g,y){re(g,t,y),P(t,n),P(n,r),P(r,a),P(n,s),P(n,o),P(o,l),P(l,u),p||(m=[te(t,"mouseover",e[3]),te(t,"click",Ee(e[4])),te(t,"auxclick",Ee(e[6])),te(t,"focus",e[5])],p=!0)},p(g,[y]){y&1&&i!==(i=$t(g[0].vault_path)+"")&&Ie(a,i),y&1&&c!==(c=g[0].working_dir+"")&&Ie(u,c),y&1&&f!==(f=g[0].working_dir)&&C(l,"data-type",f),y&1&&h!==(h=g[0].vault_path)&&C(n,"data-path",h),y&4&&C(n,"data-tooltip-position",g[2]),y&1&&d!==(d=g[0].vault_path)&&C(n,"aria-label",d)},i:Te,o:Te,d(g){g&&ne(t),p=!1,Fe(m)}}}function nB(e,t,n){let r,{change:i}=t,{view:a}=t;function s(u){a.app.vault.getAbstractFileByPath(i.vault_path)&&pi(u,a,i.vault_path)}function o(u){var f;let h=a.app.vault.getAbstractFileByPath(i.vault_path);h instanceof SA.TFile&&((f=vn(a.app,u))===null||f===void 0||f.openFile(h).catch(d=>a.plugin.displayError(d)))}function l(u){Or.call(this,e,u)}let c=u=>{u.button==2?jn(a.app,u,i.vault_path,a.leaf,"git-source-control"):o(u)};return e.$$set=u=>{"change"in u&&n(0,i=u.change),"view"in u&&n(1,a=u.view)},e.$$.update=()=>{e.$$.dirty&2&&n(2,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,r,s,o,l,c]}var Dm=class extends Ye{constructor(t){super(),lt(this,t,nB,tB,ot,{change:0,view:1},eB)}},Pu=Dm;w();var Da=require("obsidian");function rB(e){Ht(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function EA(e){let t,n,r;return{c(){t=R("div"),C(t,"data-icon","go-to-file"),C(t,"aria-label","Open File"),C(t,"class","clickable-icon")},m(i,a){re(i,t,a),e[10](t),n||(r=te(t,"click",Ee(e[6])),n=!0)},p:Te,d(i){i&&ne(t),e[10](null),n=!1,r()}}}function iB(e){let t,n,r,i=$t(e[0].vault_path)+"",a,s,o,l,c=e[1].app.vault.getAbstractFileByPath(e[0].vault_path)instanceof Da.TFile,u,f,h,d,p=e[0].index+"",m,g,y,x,_,S,b=c&&EA(e);return{c(){t=R("main"),n=R("div"),r=R("div"),a=Me(i),s=J(),o=R("div"),l=R("div"),b&&b.c(),u=J(),f=R("div"),h=J(),d=R("div"),m=Me(p),C(r,"class","tree-item-inner nav-file-title-content"),C(f,"data-icon","minus"),C(f,"aria-label","Unstage"),C(f,"class","clickable-icon"),C(l,"class","buttons"),C(d,"class","type"),C(d,"data-type",g=e[0].index),C(o,"class","git-tools"),C(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),C(n,"data-path",y=e[0].vault_path),C(n,"data-tooltip-position",e[3]),C(n,"aria-label",x=e[0].vault_path),C(t,"class","tree-item nav-file svelte-1wbh8tp")},m(A,v){re(A,t,v),P(t,n),P(n,r),P(r,a),P(n,s),P(n,o),P(o,l),b&&b.m(l,null),P(l,u),P(l,f),e[11](f),P(o,h),P(o,d),P(d,m),_||(S=[te(f,"click",Ee(e[7])),te(t,"mouseover",e[5]),te(t,"focus",e[9]),te(t,"click",Ee(e[4])),te(t,"auxclick",Ee(e[12]))],_=!0)},p(A,[v]){v&1&&i!==(i=$t(A[0].vault_path)+"")&&Ie(a,i),v&3&&(c=A[1].app.vault.getAbstractFileByPath(A[0].vault_path)instanceof Da.TFile),c?b?b.p(A,v):(b=EA(A),b.c(),b.m(l,u)):b&&(b.d(1),b=null),v&1&&p!==(p=A[0].index+"")&&Ie(m,p),v&1&&g!==(g=A[0].index)&&C(d,"data-type",g),v&1&&y!==(y=A[0].vault_path)&&C(n,"data-path",y),v&8&&C(n,"data-tooltip-position",A[3]),v&1&&x!==(x=A[0].vault_path)&&C(n,"aria-label",x)},i:Te,o:Te,d(A){A&&ne(t),b&&b.d(),e[11](null),_=!1,Fe(S)}}}function aB(e,t,n){let r,{change:i}=t,{view:a}=t,{manager:s}=t,o=[];window.setTimeout(()=>o.forEach(y=>(0,Da.setIcon)(y,y.getAttr("data-icon"))),0);function l(y){ga(i.path)?u(y):f(y)}function c(y){a.app.vault.getFileByPath(i.vault_path)&&pi(y,a,i.vault_path)}function u(y){var x;let _=a.app.vault.getAbstractFileByPath(i.vault_path);_ instanceof Da.TFile&&((x=vn(a.app,y))===null||x===void 0||x.openFile(_).catch(S=>a.plugin.displayError(S)))}function f(y){a.plugin.tools.openDiff({aFile:i.path,aRef:"HEAD",bRef:"",event:y})}function h(){s.unstage(i.path,!1).catch(y=>a.plugin.displayError(y)).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")})}function d(y){Or.call(this,e,y)}function p(y){Ne[y?"unshift":"push"](()=>{o[1]=y,n(2,o)})}function m(y){Ne[y?"unshift":"push"](()=>{o[0]=y,n(2,o)})}let g=y=>{y.button==2?jn(a.app,y,i.vault_path,a.leaf,"git-source-control"):l(y)};return e.$$set=y=>{"change"in y&&n(0,i=y.change),"view"in y&&n(1,a=y.view),"manager"in y&&n(8,s=y.manager)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,o,r,l,c,u,h,s,d,p,m,g]}var Bm=class extends Ye{constructor(t){super(),lt(this,t,aB,iB,ot,{change:0,view:1,manager:8},rB)}},Ou=Bm;w();w();function kA(e){let t,n,r,i="And "+(e[0].length-500)+" more files",a,s;return{c(){t=R("div"),n=R("div"),r=R("div"),a=Me(i),C(r,"class","tree-item-inner nav-file-title-content"),C(n,"class","tree-item-self nav-file-title"),C(n,"aria-label",s="And "+(e[0].length-500)+" more files"),C(t,"class","tree-item nav-file")},m(o,l){re(o,t,l),P(t,n),P(n,r),P(r,a)},p(o,l){l&1&&i!==(i="And "+(o[0].length-500)+" more files")&&Ie(a,i),l&1&&s!==(s="And "+(o[0].length-500)+" more files")&&C(n,"aria-label",s)},d(o){o&&ne(t)}}}function sB(e){let t,n=e[0].length>500&&kA(e);return{c(){t=R("main"),n&&n.c()},m(r,i){re(r,t,i),n&&n.m(t,null)},p(r,[i]){r[0].length>500?n?n.p(r,i):(n=kA(r),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:Te,o:Te,d(r){r&&ne(t),n&&n.d()}}}function oB(e,t,n){let{files:r}=t;return e.$$set=i=>{"files"in i&&n(0,r=i.files)},[r]}var Nm=class extends Ye{constructor(t){super(),lt(this,t,oB,sB,ot,{files:0})}},Ba=Nm;function cB(e){Ht(e,"svelte-hup5mn","main.svelte-hup5mn .nav-folder-title.svelte-hup5mn{align-items:center}")}function AA(e,t,n){let r=e.slice();return r[18]=t[n],r}function uB(e){let t,n,r,i,a,s,o,l=e[18].title+"",c,u,f,h,d,p,m,g,y,x,_;function S(T,M){return T[3]==0?dB:hB}let b=S(e,-1),A=b(e),v=!e[5][e[18].title]&&CA(e);function k(){return e[14](e[18])}function E(...T){return e[15](e[18],...T)}return{c(){t=R("div"),n=R("div"),r=R("div"),i=J(),a=R("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',s=J(),o=R("div"),c=Me(l),u=J(),f=R("div"),h=R("div"),A.c(),d=J(),p=R("div"),g=J(),v&&v.c(),C(r,"data-icon","folder"),Kt(r,"padding-right","5px"),Kt(r,"display","flex"),C(a,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),me(a,"is-collapsed",e[5][e[18].title]),C(o,"class","tree-item-inner nav-folder-title-content"),Kt(p,"width","11px"),C(h,"class","buttons"),C(f,"class","git-tools"),C(n,"class","tree-item-self is-clickable nav-folder-title svelte-hup5mn"),C(n,"data-tooltip-position",e[6]),C(n,"aria-label",m=e[18].vaultPath),C(t,"class","tree-item nav-folder"),me(t,"is-collapsed",e[5][e[18].title])},m(T,M){re(T,t,M),P(t,n),P(n,r),P(n,i),P(n,a),P(n,s),P(n,o),P(o,c),P(n,u),P(n,f),P(f,h),A.m(h,null),P(h,d),P(h,p),P(t,g),v&&v.m(t,null),y=!0,x||(_=[te(t,"click",Ee(k)),te(t,"auxclick",Ee(E))],x=!0)},p(T,M){e=T,(!y||M&33)&&me(a,"is-collapsed",e[5][e[18].title]),(!y||M&1)&&l!==(l=e[18].title+"")&&Ie(c,l),b===(b=S(e,M))&&A?A.p(e,M):(A.d(1),A=b(e),A&&(A.c(),A.m(h,d))),(!y||M&64)&&C(n,"data-tooltip-position",e[6]),(!y||M&1&&m!==(m=e[18].vaultPath))&&C(n,"aria-label",m),e[5][e[18].title]?v&&(Pe(),X(v,1,1,()=>{v=null}),Oe()):v?(v.p(e,M),M&33&&U(v,1)):(v=CA(e),v.c(),U(v,1),v.m(t,null)),(!y||M&33)&&me(t,"is-collapsed",e[5][e[18].title])},i(T){y||(U(v),y=!0)},o(T){X(v),y=!1},d(T){T&&ne(t),A.d(),v&&v.d(),x=!1,Fe(_)}}}function fB(e){let t,n,r,i,a=[gB,mB,pB],s=[];function o(l,c){return l[3]==0?0:l[3]==1?1:l[3]==2?2:-1}return~(n=o(e,-1))&&(r=s[n]=a[n](e)),{c(){t=R("div"),r&&r.c()},m(l,c){re(l,t,c),~n&&s[n].m(t,null),i=!0},p(l,c){let u=n;n=o(l,c),n===u?~n&&s[n].p(l,c):(r&&(Pe(),X(s[u],1,1,()=>{s[u]=null}),Oe()),~n?(r=s[n],r?r.p(l,c):(r=s[n]=a[n](l),r.c()),U(r,1),r.m(t,null)):r=null)},i(l){i||(U(r),i=!0)},o(l){X(r),i=!1},d(l){l&&ne(t),~n&&s[n].d()}}}function hB(e){let t,n,r,i,a;function s(){return e[12](e[18])}function o(){return e[13](e[18])}return{c(){t=R("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-undo"><path d="M3 7v6h6"></path><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"></path></svg>',n=J(),r=R("div"),r.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-plus"><line x1="9" y1="4" x2="9" y2="14"></line><line x1="4" y1="9" x2="14" y2="9"></line></svg>',C(t,"data-icon","undo"),C(t,"aria-label","Discard"),C(t,"class","clickable-icon"),C(r,"data-icon","plus"),C(r,"aria-label","Stage"),C(r,"class","clickable-icon")},m(l,c){re(l,t,c),re(l,n,c),re(l,r,c),i||(a=[te(t,"click",Ee(s)),te(r,"click",Ee(o))],i=!0)},p(l,c){e=l},d(l){l&&(ne(t),ne(n),ne(r)),i=!1,Fe(a)}}}function dB(e){let t,n,r;function i(){return e[11](e[18])}return{c(){t=R("div"),t.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-minus"><line x1="4" y1="9" x2="14" y2="9"></line></svg>',C(t,"data-icon","minus"),C(t,"aria-label","Unstage"),C(t,"class","clickable-icon")},m(a,s){re(a,t,s),n||(r=te(t,"click",Ee(i)),n=!0)},p(a,s){e=a},d(a){a&&ne(t),n=!1,r()}}}function CA(e){let t,n,r,i;return n=new Ru({props:{hierarchy:e[18],plugin:e[1],view:e[2],fileType:e[3]}}),{c(){t=R("div"),Ve(n.$$.fragment),C(t,"class","tree-item-children nav-folder-children")},m(a,s){re(a,t,s),$e(n,t,null),i=!0},p(a,s){let o={};s&1&&(o.hierarchy=a[18]),s&2&&(o.plugin=a[1]),s&4&&(o.view=a[2]),s&8&&(o.fileType=a[3]),n.$set(o)},i(a){i||(U(n.$$.fragment,a),a&&_t(()=>{i&&(r||(r=St(t,Et,{duration:150},!0)),r.run(1))}),i=!0)},o(a){X(n.$$.fragment,a),a&&(r||(r=St(t,Et,{duration:150},!1)),r.run(0)),i=!1},d(a){a&&ne(t),He(n),a&&r&&r.end()}}}function pB(e){let t,n;return t=new Pu({props:{change:e[18].data,view:e[2]}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i&1&&(a.change=r[18].data),i&4&&(a.view=r[2]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function mB(e){let t,n;return t=new Mu({props:{change:e[18].data,manager:e[1].gitManager,view:e[2]}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i&1&&(a.change=r[18].data),i&2&&(a.manager=r[1].gitManager),i&4&&(a.view=r[2]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function gB(e){let t,n;return t=new Ou({props:{change:e[18].data,manager:e[1].gitManager,view:e[2]}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i&1&&(a.change=r[18].data),i&2&&(a.manager=r[1].gitManager),i&4&&(a.view=r[2]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function TA(e){let t,n,r,i,a=[fB,uB],s=[];function o(l,c){return l[18].data?0:1}return t=o(e,-1),n=s[t]=a[t](e),{c(){n.c(),r=Pa()},m(l,c){s[t].m(l,c),re(l,r,c),i=!0},p(l,c){let u=t;t=o(l,c),t===u?s[t].p(l,c):(Pe(),X(s[u],1,1,()=>{s[u]=null}),Oe(),n=s[t],n?n.p(l,c):(n=s[t]=a[t](l),n.c()),U(n,1),n.m(r.parentNode,r))},i(l){i||(U(n),i=!0)},o(l){X(n),i=!1},d(l){l&&ne(r),s[t].d(l)}}}function yB(e){let t,n,r,i,a=it(Ar(e[0].children,500)),s=[];for(let l=0;l<a.length;l+=1)s[l]=TA(AA(e,a,l));let o=l=>X(s[l],1,1,()=>{s[l]=null});return r=new Ba({props:{files:e[0].children}}),{c(){t=R("main");for(let l=0;l<s.length;l+=1)s[l].c();n=J(),Ve(r.$$.fragment),C(t,"class","svelte-hup5mn"),me(t,"topLevel",e[4])},m(l,c){re(l,t,c);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);P(t,n),$e(r,t,null),i=!0},p(l,[c]){if(c&2031){a=it(Ar(l[0].children,500));let f;for(f=0;f<a.length;f+=1){let h=AA(l,a,f);s[f]?(s[f].p(h,c),U(s[f],1)):(s[f]=TA(h),s[f].c(),U(s[f],1),s[f].m(t,n))}for(Pe(),f=a.length;f<s.length;f+=1)o(f);Oe()}let u={};c&1&&(u.files=l[0].children),r.$set(u),(!i||c&16)&&me(t,"topLevel",l[4])},i(l){if(!i){for(let c=0;c<a.length;c+=1)U(s[c]);U(r.$$.fragment,l),i=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)X(s[c]);X(r.$$.fragment,l),i=!1},d(l){l&&ne(t),un(s,l),He(r)}}}function vB(e,t,n){let r;var i,a;let{hierarchy:s}=t,{plugin:o}=t,{view:l}=t,{fileType:c}=t,{topLevel:u=!1}=t,f={};for(let b of s.children)f[b.title]=((a=(i=b.children)===null||i===void 0?void 0:i.length)!==null&&a!==void 0?a:0)>100;function h(b){o.gitManager.stageAll({dir:b}).catch(A=>o.displayError(A)).finally(()=>{l.app.workspace.trigger("obsidian-git:refresh")})}function d(b){o.gitManager.unstageAll({dir:b}).catch(A=>o.displayError(A)).finally(()=>{l.app.workspace.trigger("obsidian-git:refresh")})}function p(b){new Rr(l.app,!1,b.vaultPath).myOpen().then(A=>{if(A===!0)return o.gitManager.discardAll({dir:b.path,status:o.cachedStatus}).finally(()=>{l.app.workspace.trigger("obsidian-git:refresh")})},A=>o.displayError(A))}function m(b){n(5,f[b.title]=!f[b.title],f)}let g=b=>d(b.path),y=b=>p(b),x=b=>h(b.path),_=b=>m(b),S=(b,A)=>jn(l.app,A,b.vaultPath,l.leaf,"git-source-control");return e.$$set=b=>{"hierarchy"in b&&n(0,s=b.hierarchy),"plugin"in b&&n(1,o=b.plugin),"view"in b&&n(2,l=b.view),"fileType"in b&&n(3,c=b.fileType),"topLevel"in b&&n(4,u=b.topLevel)},e.$$.update=()=>{e.$$.dirty&4&&n(6,r=l.leaf.getRoot().side=="left"?"right":"left")},[s,o,l,c,u,f,r,h,d,p,m,g,y,x,_,S]}var Ru=class extends Ye{constructor(t){super(),lt(this,t,vB,yB,ot,{hierarchy:0,plugin:1,view:2,fileType:3,topLevel:4},cB)}},Iu=Ru;function wB(e){Ht(e,"svelte-11adhly",`.commit-msg-input.svelte-11adhly.svelte-11adhly{width:100%;overflow:hidden;resize:none;padding:7px 5px;background-color:var(--background-modifier-form-field)}.git-commit-msg.svelte-11adhly.svelte-11adhly{position:relative;padding:0;width:calc(100% - var(--size-4-8));margin:4px auto}main.svelte-11adhly .git-tools .files-count.svelte-11adhly{padding-left:var(--size-2-1);width:11px;display:flex;align-items:center;justify-content:center}.nav-folder-title.svelte-11adhly.svelte-11adhly{align-items:center}.git-commit-msg-clear-button.svelte-11adhly.svelte-11adhly{position:absolute;background:transparent;border-radius:50%;color:var(--search-clear-button-color);cursor:var(--cursor);top:-4px;right:2px;bottom:0px;line-height:0;height:var(--input-height);width:28px;margin:auto;padding:0 0;text-align:center;display:flex;justify-content:center;align-items:center;transition:color 0.15s ease-in-out}.git-commit-msg-clear-button.svelte-11adhly.svelte-11adhly:after{content:"";height:var(--search-clear-button-size);width:var(--search-clear-button-size);display:block;background-color:currentColor;mask-image:url("data:image/svg+xml,<svg viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM3.8705 3.09766L6.00003 5.22718L8.12955 3.09766L8.9024 3.8705L6.77287 6.00003L8.9024 8.12955L8.12955 8.9024L6.00003 6.77287L3.8705 8.9024L3.09766 8.12955L5.22718 6.00003L3.09766 3.8705L3.8705 3.09766Z' fill='currentColor'/></svg>");mask-repeat:no-repeat;-webkit-mask-image:url("data:image/svg+xml,<svg viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM3.8705 3.09766L6.00003 5.22718L8.12955 3.09766L8.9024 3.8705L6.77287 6.00003L8.9024 8.12955L8.12955 8.9024L6.00003 6.77287L3.8705 8.9024L3.09766 8.12955L5.22718 6.00003L3.09766 3.8705L3.8705 3.09766Z' fill='currentColor'/></svg>");-webkit-mask-repeat:no-repeat}`)}function FA(e,t,n){let r=e.slice();return r[42]=t[n],r}function MA(e,t,n){let r=e.slice();return r[42]=t[n],r}function PA(e,t,n){let r=e.slice();return r[47]=t[n],r}function OA(e){let t,n,r,i;return{c(){t=R("div"),C(t,"class","git-commit-msg-clear-button svelte-11adhly"),C(t,"aria-label",n="Clear")},m(a,s){re(a,t,s),r||(i=te(t,"click",e[34]),r=!0)},p:Te,d(a){a&&ne(t),r=!1,i()}}}function RA(e){let t,n,r,i,a,s,o,l,c,u,f,h,d=e[6].staged.length+"",p,m,g,y,x,_,S,b,A,v,k,E,T,M,L,N,j=e[6].changed.length+"",Y,le,fe,ae,Re,he,$=e[13]&&IA(e),V=e[12]&&jA(e),D=e[7].length>0&&BA(e);return{c(){t=R("div"),n=R("div"),r=R("div"),i=R("div"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',a=J(),s=R("div"),s.textContent="Staged Changes",o=J(),l=R("div"),c=R("div"),u=R("div"),u.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-minus"><line x1="4" y1="9" x2="14" y2="9"></line></svg>',f=J(),h=R("div"),p=Me(d),m=J(),$&&$.c(),g=J(),y=R("div"),x=R("div"),_=R("div"),_.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',S=J(),b=R("div"),b.textContent="Changes",A=J(),v=R("div"),k=R("div"),E=R("div"),E.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-undo"><path d="M3 7v6h6"></path><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"></path></svg>',T=J(),M=R("div"),M.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',L=J(),N=R("div"),Y=Me(j),le=J(),V&&V.c(),fe=J(),D&&D.c(),C(i,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),me(i,"is-collapsed",!e[13]),C(s,"class","tree-item-inner nav-folder-title-content"),C(u,"data-icon","minus"),C(u,"aria-label","Unstage"),C(u,"class","clickable-icon"),C(c,"class","buttons"),C(h,"class","files-count svelte-11adhly"),C(l,"class","git-tools"),C(r,"class","tree-item-self is-clickable nav-folder-title svelte-11adhly"),C(n,"class","staged tree-item nav-folder"),me(n,"is-collapsed",!e[13]),C(_,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),me(_,"is-collapsed",!e[12]),C(b,"class","tree-item-inner nav-folder-title-content"),C(E,"data-icon","undo"),C(E,"aria-label","Discard"),C(E,"class","clickable-icon"),C(M,"data-icon","plus"),C(M,"aria-label","Stage"),C(M,"class","clickable-icon"),C(k,"class","buttons"),C(N,"class","files-count svelte-11adhly"),C(v,"class","git-tools"),C(x,"class","tree-item-self is-clickable nav-folder-title svelte-11adhly"),C(y,"class","changes tree-item nav-folder"),me(y,"is-collapsed",!e[12]),C(t,"class","tree-item nav-folder mod-root")},m(se,Ae){re(se,t,Ae),P(t,n),P(n,r),P(r,i),P(r,a),P(r,s),P(r,o),P(r,l),P(l,c),P(c,u),e[35](u),P(l,f),P(l,h),P(h,p),P(n,m),$&&$.m(n,null),P(t,g),P(t,y),P(y,x),P(x,_),P(x,S),P(x,b),P(x,A),P(x,v),P(v,k),P(k,E),P(k,T),P(k,M),e[37](M),P(v,L),P(v,N),P(N,Y),P(y,le),V&&V.m(y,null),P(t,fe),D&&D.m(t,null),ae=!0,Re||(he=[te(u,"click",Ee(e[20])),te(r,"click",e[36]),te(E,"click",Ee(e[23])),te(M,"click",Ee(e[19])),te(x,"click",e[38])],Re=!0)},p(se,Ae){(!ae||Ae[0]&8192)&&me(i,"is-collapsed",!se[13]),(!ae||Ae[0]&64)&&d!==(d=se[6].staged.length+"")&&Ie(p,d),se[13]?$?($.p(se,Ae),Ae[0]&8192&&U($,1)):($=IA(se),$.c(),U($,1),$.m(n,null)):$&&(Pe(),X($,1,1,()=>{$=null}),Oe()),(!ae||Ae[0]&8192)&&me(n,"is-collapsed",!se[13]),(!ae||Ae[0]&4096)&&me(_,"is-collapsed",!se[12]),(!ae||Ae[0]&64)&&j!==(j=se[6].changed.length+"")&&Ie(Y,j),se[12]?V?(V.p(se,Ae),Ae[0]&4096&&U(V,1)):(V=jA(se),V.c(),U(V,1),V.m(y,null)):V&&(Pe(),X(V,1,1,()=>{V=null}),Oe()),(!ae||Ae[0]&4096)&&me(y,"is-collapsed",!se[12]),se[7].length>0?D?(D.p(se,Ae),Ae[0]&128&&U(D,1)):(D=BA(se),D.c(),U(D,1),D.m(t,null)):D&&(Pe(),X(D,1,1,()=>{D=null}),Oe())},i(se){ae||(U($),U(V),U(D),ae=!0)},o(se){X($),X(V),X(D),ae=!1},d(se){se&&ne(t),e[35](null),$&&$.d(),e[37](null),V&&V.d(),D&&D.d(),Re=!1,Fe(he)}}}function IA(e){let t,n,r,i,a,s=[xB,bB],o=[];function l(c,u){return c[3]?0:1}return n=l(e,[-1,-1]),r=o[n]=s[n](e),{c(){t=R("div"),r.c(),C(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Pe(),X(o[f],1,1,()=>{o[f]=null}),Oe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&_t(()=>{a&&(i||(i=St(t,Et,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=St(t,Et,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function bB(e){let t,n,r,i=it(Ar(e[6].staged,500)),a=[];for(let o=0;o<i.length;o+=1)a[o]=LA(PA(e,i,o));let s=o=>X(a[o],1,1,()=>{a[o]=null});return n=new Ba({props:{files:e[6].staged}}),{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=J(),Ve(n.$$.fragment)},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);re(o,t,l),$e(n,o,l),r=!0},p(o,l){if(l[0]&67){i=it(Ar(o[6].staged,500));let u;for(u=0;u<i.length;u+=1){let f=PA(o,i,u);a[u]?(a[u].p(f,l),U(a[u],1)):(a[u]=LA(f),a[u].c(),U(a[u],1),a[u].m(t.parentNode,t))}for(Pe(),u=i.length;u<a.length;u+=1)s(u);Oe()}let c={};l[0]&64&&(c.files=o[6].staged),n.$set(c)},i(o){if(!r){for(let l=0;l<i.length;l+=1)U(a[l]);U(n.$$.fragment,o),r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)X(a[l]);X(n.$$.fragment,o),r=!1},d(o){o&&ne(t),un(a,o),He(n,o)}}}function xB(e){let t,n;return t=new Iu({props:{hierarchy:e[10],plugin:e[0],view:e[1],fileType:0,topLevel:!0}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i[0]&1024&&(a.hierarchy=r[10]),i[0]&1&&(a.plugin=r[0]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function LA(e){let t,n;return t=new Ou({props:{change:e[47],view:e[1],manager:e[0].gitManager}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i[0]&64&&(a.change=r[47]),i[0]&2&&(a.view=r[1]),i[0]&1&&(a.manager=r[0].gitManager),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function jA(e){let t,n,r,i,a,s=[SB,_B],o=[];function l(c,u){return c[3]?0:1}return n=l(e,[-1,-1]),r=o[n]=s[n](e),{c(){t=R("div"),r.c(),C(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Pe(),X(o[f],1,1,()=>{o[f]=null}),Oe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&_t(()=>{a&&(i||(i=St(t,Et,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=St(t,Et,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function _B(e){let t,n,r,i=it(Ar(e[6].changed,500)),a=[];for(let o=0;o<i.length;o+=1)a[o]=DA(MA(e,i,o));let s=o=>X(a[o],1,1,()=>{a[o]=null});return n=new Ba({props:{files:e[6].changed}}),{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=J(),Ve(n.$$.fragment)},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);re(o,t,l),$e(n,o,l),r=!0},p(o,l){if(l[0]&67){i=it(Ar(o[6].changed,500));let u;for(u=0;u<i.length;u+=1){let f=MA(o,i,u);a[u]?(a[u].p(f,l),U(a[u],1)):(a[u]=DA(f),a[u].c(),U(a[u],1),a[u].m(t.parentNode,t))}for(Pe(),u=i.length;u<a.length;u+=1)s(u);Oe()}let c={};l[0]&64&&(c.files=o[6].changed),n.$set(c)},i(o){if(!r){for(let l=0;l<i.length;l+=1)U(a[l]);U(n.$$.fragment,o),r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)X(a[l]);X(n.$$.fragment,o),r=!1},d(o){o&&ne(t),un(a,o),He(n,o)}}}function SB(e){let t,n;return t=new Iu({props:{hierarchy:e[9],plugin:e[0],view:e[1],fileType:1,topLevel:!0}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i[0]&512&&(a.hierarchy=r[9]),i[0]&1&&(a.plugin=r[0]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function DA(e){let t,n;return t=new Mu({props:{change:e[42],view:e[1],manager:e[0].gitManager}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i[0]&64&&(a.change=r[42]),i[0]&2&&(a.view=r[1]),i[0]&1&&(a.manager=r[0].gitManager),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function BA(e){let t,n,r,i,a,s,o,l=e[7].length+"",c,u,f,h,d,p=e[14]&&NA(e);return{c(){t=R("div"),n=R("div"),r=R("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',i=J(),a=R("div"),a.textContent="Recently Pulled Files",s=J(),o=R("span"),c=Me(l),u=J(),p&&p.c(),C(r,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),C(a,"class","tree-item-inner nav-folder-title-content"),C(o,"class","tree-item-flair"),C(n,"class","tree-item-self is-clickable nav-folder-title svelte-11adhly"),C(t,"class","pulled nav-folder"),me(t,"is-collapsed",!e[14])},m(m,g){re(m,t,g),P(t,n),P(n,r),P(n,i),P(n,a),P(n,s),P(n,o),P(o,c),P(t,u),p&&p.m(t,null),f=!0,h||(d=te(n,"click",e[39]),h=!0)},p(m,g){(!f||g[0]&128)&&l!==(l=m[7].length+"")&&Ie(c,l),m[14]?p?(p.p(m,g),g[0]&16384&&U(p,1)):(p=NA(m),p.c(),U(p,1),p.m(t,null)):p&&(Pe(),X(p,1,1,()=>{p=null}),Oe()),(!f||g[0]&16384)&&me(t,"is-collapsed",!m[14])},i(m){f||(U(p),f=!0)},o(m){X(p),f=!1},d(m){m&&ne(t),p&&p.d(),h=!1,d()}}}function NA(e){let t,n,r,i,a,s=[kB,EB],o=[];function l(c,u){return c[3]?0:1}return n=l(e,[-1,-1]),r=o[n]=s[n](e),{c(){t=R("div"),r.c(),C(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Pe(),X(o[f],1,1,()=>{o[f]=null}),Oe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&_t(()=>{a&&(i||(i=St(t,Et,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=St(t,Et,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function EB(e){let t,n,r,i=it(e[7]),a=[];for(let o=0;o<i.length;o+=1)a[o]=$A(FA(e,i,o));let s=o=>X(a[o],1,1,()=>{a[o]=null});return n=new Ba({props:{files:e[7]}}),{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=J(),Ve(n.$$.fragment)},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);re(o,t,l),$e(n,o,l),r=!0},p(o,l){if(l[0]&130){i=it(o[7]);let u;for(u=0;u<i.length;u+=1){let f=FA(o,i,u);a[u]?(a[u].p(f,l),U(a[u],1)):(a[u]=$A(f),a[u].c(),U(a[u],1),a[u].m(t.parentNode,t))}for(Pe(),u=i.length;u<a.length;u+=1)s(u);Oe()}let c={};l[0]&128&&(c.files=o[7]),n.$set(c)},i(o){if(!r){for(let l=0;l<i.length;l+=1)U(a[l]);U(n.$$.fragment,o),r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)X(a[l]);X(n.$$.fragment,o),r=!1},d(o){o&&ne(t),un(a,o),He(n,o)}}}function kB(e){let t,n;return t=new Iu({props:{hierarchy:e[11],plugin:e[0],view:e[1],fileType:2,topLevel:!0}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i[0]&2048&&(a.hierarchy=r[11]),i[0]&1&&(a.plugin=r[0]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function $A(e){let t,n;return t=new Pu({props:{change:e[42],view:e[1]}}),{c(){Ve(t.$$.fragment)},m(r,i){$e(t,r,i),n=!0},p(r,i){let a={};i[0]&128&&(a.change=r[42]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){He(t,r)}}}function AB(e){let t,n,r,i,a,s,o,l,c,u,f,h,d,p,m,g,y,x,_,S,b,A,v,k,E,T,M,L,N=e[2]&&OA(e),j=e[6]&&e[10]&&e[9]&&RA(e);return{c(){t=R("main"),n=R("div"),r=R("div"),i=R("div"),a=J(),s=R("div"),o=J(),l=R("div"),c=J(),u=R("div"),f=J(),h=R("div"),d=J(),p=R("div"),m=J(),g=R("div"),y=J(),x=R("div"),_=J(),S=R("div"),b=R("textarea"),A=J(),N&&N.c(),v=J(),k=R("div"),j&&j.c(),C(i,"id","backup-btn"),C(i,"data-icon","arrow-up-circle"),C(i,"class","clickable-icon nav-action-button"),C(i,"aria-label","Commit-and-sync"),C(s,"id","commit-btn"),C(s,"data-icon","check"),C(s,"class","clickable-icon nav-action-button"),C(s,"aria-label","Commit"),C(l,"id","stage-all"),C(l,"class","clickable-icon nav-action-button"),C(l,"data-icon","plus-circle"),C(l,"aria-label","Stage all"),C(u,"id","unstage-all"),C(u,"class","clickable-icon nav-action-button"),C(u,"data-icon","minus-circle"),C(u,"aria-label","Unstage all"),C(h,"id","push"),C(h,"class","clickable-icon nav-action-button"),C(h,"data-icon","upload"),C(h,"aria-label","Push"),C(p,"id","pull"),C(p,"class","clickable-icon nav-action-button"),C(p,"data-icon","download"),C(p,"aria-label","Pull"),C(g,"id","layoutChange"),C(g,"class","clickable-icon nav-action-button"),C(g,"aria-label","Change Layout"),C(x,"id","refresh"),C(x,"class","clickable-icon nav-action-button"),C(x,"data-icon","refresh-cw"),C(x,"aria-label","Refresh"),Kt(x,"margin","1px"),me(x,"loading",e[5]),C(r,"class","nav-buttons-container"),C(n,"class","nav-header"),C(b,"rows",e[15]),C(b,"class","commit-msg-input svelte-11adhly"),C(b,"spellcheck","true"),C(b,"placeholder","Commit Message"),C(S,"class","git-commit-msg svelte-11adhly"),C(k,"class","nav-files-container"),Kt(k,"position","relative"),C(t,"data-type",E=yt.type),C(t,"class","svelte-11adhly")},m(Y,le){re(Y,t,le),P(t,n),P(n,r),P(r,i),e[24](i),P(r,a),P(r,s),e[25](s),P(r,o),P(r,l),e[26](l),P(r,c),P(r,u),e[27](u),P(r,f),P(r,h),e[28](h),P(r,d),P(r,p),e[29](p),P(r,m),P(r,g),e[30](g),P(r,y),P(r,x),e[32](x),P(t,_),P(t,S),P(S,b),Am(b,e[2]),P(S,A),N&&N.m(S,null),P(t,v),P(t,k),j&&j.m(k,null),T=!0,M||(L=[te(i,"click",e[17]),te(s,"click",e[16]),te(l,"click",e[19]),te(u,"click",e[20]),te(h,"click",e[21]),te(p,"click",e[22]),te(g,"click",e[31]),te(x,"click",e[18]),te(b,"input",e[33])],M=!0)},p(Y,le){(!T||le[0]&32)&&me(x,"loading",Y[5]),(!T||le[0]&32768)&&C(b,"rows",Y[15]),le[0]&4&&Am(b,Y[2]),Y[2]?N?N.p(Y,le):(N=OA(Y),N.c(),N.m(S,null)):N&&(N.d(1),N=null),Y[6]&&Y[10]&&Y[9]?j?(j.p(Y,le),le[0]&1600&&U(j,1)):(j=RA(Y),j.c(),U(j,1),j.m(k,null)):j&&(Pe(),X(j,1,1,()=>{j=null}),Oe())},i(Y){T||(U(j),T=!0)},o(Y){X(j),T=!1},d(Y){Y&&ne(t),e[24](null),e[25](null),e[26](null),e[27](null),e[28](null),e[29](null),e[30](null),e[32](null),N&&N.d(),j&&j.d(),M=!1,Fe(L)}}}function CB(e,t,n){let r,{plugin:i}=t,{view:a}=t,s,o,l=[],c=i.settings.commitMessage,u=[],f,h,d,p=!0,m=!0,g=!0,y=i.settings.treeStructure,x,_;_=a.app.workspace.on("obsidian-git:view-refresh",()=>void A().catch(console.error)),A().catch(console.error),i.app.workspace.onLayoutReady(()=>{window.setTimeout(()=>{u.forEach(ee=>(0,Na.setIcon)(ee,ee.getAttr("data-icon"))),(0,Na.setIcon)(x,y?"list":"folder")},0)}),So(()=>{a.app.workspace.offref(_)});function S(){return Ia(this,void 0,void 0,function*(){if(n(5,s=!0),o){if(yield i.tools.hasTooBigFiles(o.staged))return i.setPluginState({gitAction:0}),!1;i.promiseQueue.addTask(()=>i.gitManager.commit({message:c}).then(()=>Ia(this,void 0,void 0,function*(){n(2,c=i.settings.commitMessage),yield i.automaticsManager.setUpAutoCommitAndSync()})).finally(v))}})}function b(){n(5,s=!0),o&&i.promiseQueue.addTask(()=>i.commitAndSync(!1,!1,c).then(()=>{n(2,c=i.settings.commitMessage)}).finally(v))}function A(){return Ia(this,void 0,void 0,function*(){if(!i.gitReady){n(6,o=void 0);return}let ee=yield i.gitManager.getUnpushedCommits();if(u.forEach(De=>{var Ce,G;De&&(Na.Platform.isMobile?(De.removeClass("button-border"),De.id=="push"&&ee>0&&De.addClass("button-border")):((Ce=De.firstElementChild)===null||Ce===void 0||Ce.removeAttribute("color"),De.id=="push"&&ee>0&&((G=De.firstElementChild)===null||G===void 0||G.setAttr("color","var(--text-accent)"))))}),n(6,o=i.cachedStatus),i.lastPulledFiles&&i.lastPulledFiles!=l&&(n(7,l=i.lastPulledFiles),n(11,d={title:"",path:"",vaultPath:"",children:i.gitManager.getTreeStructure(l)})),o){let De=(Ce,G)=>Ce.vault_path.split("/").last().localeCompare($t(G.vault_path));o.changed.sort(De),o.staged.sort(De),n(9,f={title:"",path:"",vaultPath:"",children:i.gitManager.getTreeStructure(o.changed)}),n(10,h={title:"",path:"",vaultPath:"",children:i.gitManager.getTreeStructure(o.staged)})}else n(9,f=void 0),n(10,h=void 0);n(5,s=i.loading)})}function v(){a.app.workspace.trigger("obsidian-git:refresh")}function k(){n(5,s=!0),i.promiseQueue.addTask(()=>i.gitManager.stageAll({status:o}).finally(v))}function E(){n(5,s=!0),i.promiseQueue.addTask(()=>i.gitManager.unstageAll({status:o}).finally(v))}function T(){n(5,s=!0),i.promiseQueue.addTask(()=>i.push().finally(v))}function M(){n(5,s=!0),i.promiseQueue.addTask(()=>i.pullChangesFromRemote().finally(v))}function L(){new Rr(a.app,!1,i.gitManager.getRelativeVaultPath("/")).myOpen().then(ee=>{ee===!0&&i.promiseQueue.addTask(()=>i.gitManager.discardAll({status:i.cachedStatus}).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")}))},console.error)}function N(ee){Ne[ee?"unshift":"push"](()=>{u[5]=ee,n(8,u)})}function j(ee){Ne[ee?"unshift":"push"](()=>{u[0]=ee,n(8,u)})}function Y(ee){Ne[ee?"unshift":"push"](()=>{u[1]=ee,n(8,u)})}function le(ee){Ne[ee?"unshift":"push"](()=>{u[2]=ee,n(8,u)})}function fe(ee){Ne[ee?"unshift":"push"](()=>{u[3]=ee,n(8,u)})}function ae(ee){Ne[ee?"unshift":"push"](()=>{u[4]=ee,n(8,u)})}function Re(ee){Ne[ee?"unshift":"push"](()=>{x=ee,n(4,x)})}let he=()=>{n(3,y=!y),n(0,i.settings.treeStructure=y,i),i.saveSettings()};function $(ee){Ne[ee?"unshift":"push"](()=>{u[6]=ee,n(8,u)})}function V(){c=this.value,n(2,c)}let D=()=>n(2,c="");function se(ee){Ne[ee?"unshift":"push"](()=>{u[8]=ee,n(8,u)})}let Ae=()=>n(13,m=!m);function wt(ee){Ne[ee?"unshift":"push"](()=>{u[9]=ee,n(8,u)})}let _e=()=>n(12,p=!p),ut=()=>n(14,g=!g);return e.$$set=ee=>{"plugin"in ee&&n(0,i=ee.plugin),"view"in ee&&n(1,a=ee.view)},e.$$.update=()=>{e.$$.dirty[0]&24&&x&&(x.empty(),(0,Na.setIcon)(x,y?"list":"folder")),e.$$.dirty[0]&4&&n(15,r=(c.match(/\n/g)||[]).length+1||1)},[i,a,c,y,x,s,o,l,u,f,h,d,p,m,g,r,S,b,v,k,E,T,M,L,N,j,Y,le,fe,ae,Re,he,$,V,D,se,Ae,wt,_e,ut]}var $m=class extends Ye{constructor(t){super(),lt(this,t,CB,AB,ot,{plugin:0,view:1},wB,[-1,-1])}},HA=$m;var To=class extends UA.ItemView{constructor(t,n){super(t),this.plugin=n,this.hoverPopover=null}getViewType(){return yt.type}getDisplayText(){return yt.name}getIcon(){return yt.icon}onClose(){var t;return(t=this._view)==null||t.$destroy(),super.onClose()}reload(){var t;(t=this._view)==null||t.$destroy(),this._view=new HA({target:this.contentEl,props:{plugin:this.plugin,view:this}})}onOpen(){return this.reload(),super.onOpen()}};w();var Lu=class{constructor(t,n){this.statusBarEl=t;this.plugin=n;this.statusBarEl.addClass("mod-clickable"),this.statusBarEl.onClickEvent(r=>{this.plugin.switchBranch().catch(i=>n.displayError(i))})}async display(){if(this.plugin.gitReady){let t=await this.plugin.gitManager.branchInfo();t.current!=null?this.statusBarEl.setText(t.current):this.statusBarEl.empty()}else this.statusBarEl.empty()}remove(){this.statusBarEl.remove()}};w();var $a=require("obsidian");var Fo=class{constructor(t){this.plugin=t}async hasTooBigFiles(t){let n=await this.plugin.gitManager.branchInfo(),r=n.tracking?Cr(n.tracking)[0]:null;if(r){let i=await this.plugin.gitManager.getRemoteUrl(r);if(i!=null&&i.includes("github.com")){let a=t.filter(s=>{let o=this.plugin.app.vault.getAbstractFileByPath(s.vault_path);return o instanceof $a.TFile?o.stat.size>=1e8:!1});if(a.length>0)return this.plugin.displayError(`Did not commit, because following files are too big: ${a.map(s=>s.vault_path).join(`
`)}. Please remove them.`),!0}}return!1}async writeAndOpenFile(t){t!==void 0&&await this.plugin.app.vault.adapter.write(na,t);let n=!1;this.plugin.app.workspace.iterateAllLeaves(r=>{r.getDisplayText()!=""&&na.startsWith(r.getDisplayText())&&(n=!0)}),n||await this.plugin.app.workspace.openLinkText(na,"/",!0)}openDiff({aFile:t,bFile:n,aRef:r,bRef:i,event:a}){var l,c;let s=this.plugin.settings.diffStyle;$a.Platform.isMobileApp&&(s="git_unified");let o={aFile:t,bFile:n!=null?n:t,aRef:r,bRef:i};s=="split"?(l=vn(this.plugin.app,a))==null||l.setViewState({type:vr.type,active:!0,state:o}):s=="git_unified"&&((c=vn(this.plugin.app,a))==null||c.setViewState({type:wr.type,active:!0,state:o}))}async runRawCommand(){let t=this.plugin.gitManager;if(!(t instanceof Se))return;let r=await new je(this.plugin,{placeholder:"push origin master",allowEmpty:!1}).openAndGetResult();r!==void 0&&this.plugin.promiseQueue.addTask(async()=>{let i=new $a.Notice(`Running '${r}'...`,999999);try{let a=await t.rawCommand(r);a?(i.setMessage(a),window.setTimeout(()=>i.hide(),5e3)):i.hide()}catch(a){throw i.hide(),a}})}};w();var Wa=require("obsidian");var fn=require("@codemirror/view"),Va=require("@codemirror/state");w();var xe=require("@codemirror/view"),ye=require("@codemirror/state");w();var Hm="\u037C",GA=typeof Symbol=="undefined"?"__"+Hm:Symbol.for(Hm),Um=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),zA=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{},ju=class{constructor(t,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function a(s,o,l,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&o==null)return l.push(s[0]+";");for(let d in o){let p=o[d];if(/&/.test(d))a(d.split(/,\s*/).map(m=>s.map(g=>m.replace(/&/,g))).reduce((m,g)=>m.concat(g)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");a(i(d),p,u,h)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||h)&&l.push((r&&!f&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in t)a(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=zA[GA]||1;return zA[GA]=t+1,Hm+t.toString(36)}static mount(t,n,r){let i=t[Um],a=r&&r.nonce;i?a&&i.setNonce(a):i=new Gm(t,a),i.mount(Array.isArray(n)?n:[n],t)}},VA=new Map,Gm=class{constructor(t,n){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let a=VA.get(r);if(a)return t[Um]=a;this.sheet=new i.CSSStyleSheet,VA.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],t[Um]=this}mount(t,n){let r=this.sheet,i=0,a=0;for(let s=0;s<t.length;s++){let o=t[s],l=this.modules.indexOf(o);if(l<a&&l>-1&&(this.modules.splice(l,1),a--,l=-1),l==-1){if(this.modules.splice(a++,0,o),r)for(let c=0;c<o.rules.length;c++)r.insertRule(o.rules[c],i++)}else{for(;a<l;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}};var cC=require("@codemirror/language"),TB=require("@lezer/highlight"),ct=class e{constructor(t,n,r,i){this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}offset(t,n=t){return new e(this.fromA+t,this.toA+t,this.fromB+n,this.toB+n)}};function gi(e,t,n,r,i,a){if(e==r)return[];let s=Zm(e,t,n,r,i,a),o=Km(e,t+s,n,r,i+s,a);t+=s,n-=o,i+=s,a-=o;let l=n-t,c=a-i;if(!l||!c)return[new ct(t,n,i,a)];if(l>c){let f=e.slice(t,n).indexOf(r.slice(i,a));if(f>-1)return[new ct(t,t+f,i,i),new ct(t+f+c,n,a,a)]}else if(c>l){let f=r.slice(i,a).indexOf(e.slice(t,n));if(f>-1)return[new ct(t,t,i,i+f),new ct(n,n,i+f+l,a)]}if(l==1||c==1)return[new ct(t,n,i,a)];let u=fC(e,t,n,r,i,a);if(u){let[f,h,d]=u;return gi(e,t,f,r,i,h).concat(gi(e,f+d,n,r,h+d,a))}return FB(e,t,n,r,i,a)}var Mo=1e9;function FB(e,t,n,r,i,a){let s=n-t,o=a-i;if(Mo<1e9&&Math.min(s,o)>Mo*16)return Math.min(s,o)>Mo*64?[new ct(t,n,i,a)]:WA(e,t,n,r,i,a);let l=Math.ceil((s+o)/2);zm.reset(l),Vm.reset(l);let c=(d,p)=>e.charCodeAt(t+d)==r.charCodeAt(i+p),u=(d,p)=>e.charCodeAt(n-d-1)==r.charCodeAt(a-p-1),f=(s-o)%2!=0?Vm:null,h=f?null:zm;for(let d=0;d<l;d++){if(d>Mo)return WA(e,t,n,r,i,a);let p=zm.advance(d,s,o,l,f,!1,c)||Vm.advance(d,s,o,l,h,!0,u);if(p)return MB(e,t,n,t+p[0],r,i,a,i+p[1])}return[new ct(t,n,i,a)]}var Hu=class{constructor(){this.vec=[]}reset(t){this.len=t<<1;for(let n=0;n<this.len;n++)this.vec[n]=-1;this.vec[t+1]=0,this.start=this.end=0}advance(t,n,r,i,a,s,o){for(let l=-t+this.start;l<=t-this.end;l+=2){let c=i+l,u=l==-t||l!=t&&this.vec[c-1]<this.vec[c+1]?this.vec[c+1]:this.vec[c-1]+1,f=u-l;for(;u<n&&f<r&&o(u,f);)u++,f++;if(this.vec[c]=u,u>n)this.end+=2;else if(f>r)this.start+=2;else if(a){let h=i+(n-r)-l;if(h>=0&&h<this.len&&a.vec[h]!=-1)if(s){let d=a.vec[h];if(d>=n-u)return[d,i+d-h]}else{let d=n-a.vec[h];if(u>=d)return[u,f]}}}return null}},zm=new Hu,Vm=new Hu;function MB(e,t,n,r,i,a,s,o){let l=!1;return!Ga(e,r)&&++r==n&&(l=!0),!Ga(i,o)&&++o==s&&(l=!0),l?[new ct(t,n,a,s)]:gi(e,t,r,i,a,o).concat(gi(e,r,n,i,o,s))}function uC(e,t){let n=1,r=Math.min(e,t);for(;n<r;)n=n<<1;return n}function Zm(e,t,n,r,i,a){if(t==n||t==a||e.charCodeAt(t)!=r.charCodeAt(i))return 0;let s=uC(n-t,a-i);for(let o=t,l=i;;){let c=o+s,u=l+s;if(c>n||u>a||e.slice(o,c)!=r.slice(l,u)){if(s==1)return o-t-(Ga(e,o)?0:1);s=s>>1}else{if(c==n||u==a)return c-t;o=c,l=u}}}function Km(e,t,n,r,i,a){if(t==n||i==a||e.charCodeAt(n-1)!=r.charCodeAt(a-1))return 0;let s=uC(n-t,a-i);for(let o=n,l=a;;){let c=o-s,u=l-s;if(c<t||u<i||e.slice(c,o)!=r.slice(u,l)){if(s==1)return n-o-(Ga(e,o)?0:1);s=s>>1}else{if(c==t||u==i)return n-c;o=c,l=u}}}function Wm(e,t,n,r,i,a,s,o){let l=r.slice(i,a),c=null;for(;;){if(c||s<o)return c;for(let u=t+s;;){Ga(e,u)||u++;let f=u+s;if(Ga(e,f)||(f+=f==u+1?1:-1),f>=n)break;let h=e.slice(u,f),d=-1;for(;(d=l.indexOf(h,d+1))!=-1;){let p=Zm(e,f,n,r,i+d+h.length,a),m=Km(e,t,u,r,i,i+d),g=h.length+p+m;(!c||c[2]<g)&&(c=[u-m,i+d-m,g])}u=f}if(o<0)return c;s=s>>1}}function fC(e,t,n,r,i,a){let s=n-t,o=a-i;if(s<o){let l=fC(r,i,a,e,t,n);return l&&[l[1],l[0],l[2]]}return s<4||o*2<s?null:Wm(e,t,n,r,i,a,Math.floor(s/4),-1)}function WA(e,t,n,r,i,a){let s=n-t,o=a-i,l;if(s<o){let h=Wm(r,i,a,e,t,n,Math.floor(s/6),50);l=h&&[h[1],h[0],h[2]]}else l=Wm(e,t,n,r,i,a,Math.floor(o/6),50);if(!l)return[new ct(t,n,i,a)];let[c,u,f]=l;return gi(e,t,c,r,i,u).concat(gi(e,c+f,n,r,u+f,a))}function hC(e,t){for(let n=1;n<e.length;n++){let r=e[n-1],i=e[n];r.toA>i.fromA-t&&r.toB>i.fromB-t&&(e[n-1]=new ct(r.fromA,i.toA,r.fromB,i.toB),e.splice(n--,1))}}function PB(e,t,n){for(;;){hC(n,1);let r=!1;for(let i=0;i<n.length;i++){let a=n[i],s,o;(s=Zm(e,a.fromA,a.toA,t,a.fromB,a.toB))&&(a=n[i]=new ct(a.fromA+s,a.toA,a.fromB+s,a.toB)),(o=Km(e,a.fromA,a.toA,t,a.fromB,a.toB))&&(a=n[i]=new ct(a.fromA,a.toA-o,a.fromB,a.toB-o));let l=a.toA-a.fromA,c=a.toB-a.fromB;if(l&&c)continue;let u=a.fromA-(i?n[i-1].toA:0),f=(i<n.length-1?n[i+1].fromA:e.length)-a.toA;if(!u||!f)continue;let h=l?e.slice(a.fromA,a.toA):t.slice(a.fromB,a.toB);u<=h.length&&e.slice(a.fromA-u,a.fromA)==h.slice(h.length-u)?(n[i]=new ct(a.fromA-u,a.toA-u,a.fromB-u,a.toB-u),r=!0):f<=h.length&&e.slice(a.toA,a.toA+f)==h.slice(0,f)&&(n[i]=new ct(a.fromA+f,a.toA+f,a.fromB+f,a.toB+f),r=!0)}if(!r)break}return n}function OB(e,t,n){for(let r=0,i=0;i<e.length;i++){let a=e[i],s=a.toA-a.fromA,o=a.toB-a.fromB;if(s&&o||s>3||o>3){let l=i==e.length-1?t.length:e[i+1].fromA,c=a.fromA-r,u=l-a.toA,f=XA(t,a.fromA,Math.min(c,5)),h=qA(t,a.toA,Math.min(u,5)),d=a.fromA-f,p=h-a.toA;if(!s||!o){let m=Math.max(s,o),[g,y,x]=s?[t,a.fromA,a.toA]:[n,a.fromB,a.toB];d&&p&&(m>d&&t.slice(f,a.fromA)==g.slice(x-d,x)?(a=e[i]=new ct(f,f+s,a.fromB-d,a.toB-d),f=a.fromA,h=qA(t,a.toA,Math.min(l-a.toA,5))):m>p&&t.slice(a.toA,h)==g.slice(y,y+p)&&(a=e[i]=new ct(h-s,h,a.fromB+p,a.toB+p),h=a.toA,f=XA(t,a.fromA,Math.min(a.fromA-r,5))),d=a.fromA-f,p=h-a.toA)}if(d||p)a=e[i]=new ct(a.fromA-d,a.toA+p,a.fromB-d,a.toB+p);else if(s){if(!o){let m=ZA(t,a.fromA,a.toA),g,y=m<0?-1:YA(t,a.toA,a.fromA);m>-1&&(g=m-a.fromA)<=u&&t.slice(a.fromA,m)==t.slice(a.toA,a.toA+g)?a=e[i]=a.offset(g):y>-1&&(g=a.toA-y)<=c&&t.slice(a.fromA-g,a.fromA)==t.slice(y,a.toA)&&(a=e[i]=a.offset(-g))}}else{let m=ZA(n,a.fromB,a.toB),g,y=m<0?-1:YA(n,a.toB,a.fromB);m>-1&&(g=m-a.fromB)<=u&&n.slice(a.fromB,m)==n.slice(a.toB,a.toB+g)?a=e[i]=a.offset(g):y>-1&&(g=a.toB-y)<=c&&n.slice(a.fromB-g,a.fromB)==n.slice(y,a.toB)&&(a=e[i]=a.offset(-g))}r=a.toA}}return hC(e,3),e}var mi;try{mi=new RegExp("[\\p{Alphabetic}\\p{Number}]","u")}catch(e){}function dC(e){return e>48&&e<58||e>64&&e<91||e>96&&e<123}function pC(e,t){if(t==e.length)return 0;let n=e.charCodeAt(t);return n<192?dC(n)?1:0:mi?!gC(n)||t==e.length-1?mi.test(String.fromCharCode(n))?1:0:mi.test(e.slice(t,t+2))?2:0:0}function mC(e,t){if(!t)return 0;let n=e.charCodeAt(t-1);return n<192?dC(n)?1:0:mi?!yC(n)||t==1?mi.test(String.fromCharCode(n))?1:0:mi.test(e.slice(t-2,t))?2:0:0}function qA(e,t,n){if(t==e.length||!mC(e,t))return t;for(let r=t,i=t+n;;){let a=pC(e,r);if(!a)return r;if(r+=a,r>i)return t}}function XA(e,t,n){if(!t||!pC(e,t))return t;for(let r=t,i=t-n;;){let a=mC(e,r);if(!a)return r;if(r-=a,r<i)return t}}function YA(e,t,n){for(;t!=n;t--)if(e.charCodeAt(t-1)==10)return t;return-1}function ZA(e,t,n){for(;t!=n;t++)if(e.charCodeAt(t)==10)return t;return-1}var gC=e=>e>=55296&&e<=56319,yC=e=>e>=56320&&e<=57343;function Ga(e,t){return!t||t==e.length||!gC(e.charCodeAt(t-1))||!yC(e.charCodeAt(t))}function RB(e,t,n){var r;return Mo=((r=n==null?void 0:n.scanLimit)!==null&&r!==void 0?r:1e9)>>1,PB(e,t,gi(e,0,e.length,t,0,t.length))}function vC(e,t,n){return OB(RB(e,t,n),e,t)}var Bn=ye.Facet.define({combine:e=>e[0]}),qm=ye.StateEffect.define(),za=ye.StateField.define({create(e){return null},update(e,t){for(let n of t.effects)n.is(qm)&&(e=n.value);return e}});var Ua=class e{constructor(t,n,r,i,a){this.changes=t,this.fromA=n,this.toA=r,this.fromB=i,this.toB=a}offset(t,n){return t||n?new e(this.changes,this.fromA+t,this.toA+t,this.fromB+n,this.toB+n):this}get endA(){return Math.max(this.fromA,this.toA-1)}get endB(){return Math.max(this.fromB,this.toB-1)}static build(t,n,r){return wC(vC(t.toString(),n.toString(),r),t,n,0,0)}static updateA(t,n,r,i,a){return tC(eC(t,i,!0,r.length),t,n,r,a)}static updateB(t,n,r,i,a){return tC(eC(t,i,!1,n.length),t,n,r,a)}};function KA(e,t,n,r){let i=n.lineAt(e),a=r.lineAt(t);return i.to==e&&a.to==t&&e<n.length&&t<r.length?[e+1,t+1]:[i.from,a.from]}function JA(e,t,n,r){let i=n.lineAt(e),a=r.lineAt(t);return i.from==e&&a.from==t?[e,t]:[i.to+1,a.to+1]}function wC(e,t,n,r,i){let a=[];for(let s=0;s<e.length;s++){let o=e[s],[l,c]=KA(o.fromA+r,o.fromB+i,t,n),[u,f]=JA(o.toA+r,o.toB+i,t,n),h=[o.offset(-l+r,-c+i)];for(;s<e.length-1;){let d=e[s+1],[p,m]=KA(d.fromA+r,d.fromB+i,t,n);if(p>u+1&&m>f+1)break;h.push(d.offset(-l+r,-c+i)),[u,f]=JA(d.toA+r,d.toB+i,t,n),s++}a.push(new Ua(h,l,Math.max(l,u),c,Math.max(c,f)))}return a}var Du=1e3;function QA(e,t,n,r){let i=0,a=e.length;for(;;){if(i==a){let u=0,f=0;i&&({toA:u,toB:f}=e[i-1]);let h=t-(n?u:f);return[u+h,f+h]}let s=i+a>>1,o=e[s],[l,c]=n?[o.fromA,o.toA]:[o.fromB,o.toB];if(l>t)a=s;else if(c<=t)i=s+1;else return r?[o.fromA,o.fromB]:[o.toA,o.toB]}}function eC(e,t,n,r){let i=[];return t.iterChangedRanges((a,s,o,l)=>{let c=0,u=n?t.length:r,f=0,h=n?r:t.length;a>Du&&([c,f]=QA(e,a-Du,n,!0)),s<t.length-Du&&([u,h]=QA(e,s+Du,n,!1));let d=l-o-(s-a),p,[m,g]=n?[d,0]:[0,d];i.length&&(p=i[i.length-1]).toA>=c?i[i.length-1]={fromA:p.fromA,fromB:p.fromB,toA:u,toB:h,diffA:p.diffA+m,diffB:p.diffB+g}:i.push({fromA:c,toA:u,fromB:f,toB:h,diffA:m,diffB:g})}),i}function tC(e,t,n,r,i){if(!e.length)return t;let a=[];for(let s=0,o=0,l=0,c=0;;s++){let u=s==e.length?null:e[s],f=u?u.fromA+o:n.length,h=u?u.fromB+l:r.length;for(;c<t.length;){let g=t[c];if(g.toA+o>f||g.toB+l>h)break;a.push(g.offset(o,l)),c++}if(!u)break;let d=u.toA+o+u.diffA,p=u.toB+l+u.diffB,m=vC(n.sliceString(f,d),r.sliceString(h,p),i);for(let g of wC(m,n,r,f,h))a.push(g);for(o+=u.diffA,l+=u.diffB;c<t.length;){let g=t[c];if(g.fromA+o>d&&g.fromB+l>p)break;c++}}return a}var IB={scanLimit:500},bC=xe.ViewPlugin.fromClass(class{constructor(e){({deco:this.deco,gutter:this.gutter}=iC(e))}update(e){(e.docChanged||e.viewportChanged||LB(e.startState,e.state)||jB(e.startState,e.state))&&({deco:this.deco,gutter:this.gutter}=iC(e.view))}},{decorations:e=>e.deco}),Bu=ye.Prec.low((0,xe.gutter)({class:"cm-changeGutter",markers:e=>{var t;return((t=e.plugin(bC))===null||t===void 0?void 0:t.gutter)||ye.RangeSet.empty}}));function LB(e,t){return e.field(za,!1)!=t.field(za,!1)}function jB(e,t){return e.facet(Bn)!=t.facet(Bn)}var nC=xe.Decoration.line({class:"cm-changedLine"}),DB=xe.Decoration.mark({class:"cm-changedText"}),BB=xe.Decoration.mark({tagName:"ins",class:"cm-insertedLine"}),NB=xe.Decoration.mark({tagName:"del",class:"cm-deletedLine"}),rC=new class extends xe.GutterMarker{constructor(){super(...arguments),this.elementClass="cm-changedLineGutter"}};function $B(e,t,n,r,i,a){let s=n?e.fromA:e.fromB,o=n?e.toA:e.toB,l=0;if(s!=o){i.add(s,s,nC),i.add(s,o,n?NB:BB),a&&a.add(s,s,rC);for(let c=t.iterRange(s,o-1),u=s;!c.next().done;){if(c.lineBreak){u++,i.add(u,u,nC),a&&a.add(u,u,rC);continue}let f=u+c.value.length;if(r)for(;l<e.changes.length;){let h=e.changes[l],d=s+(n?h.fromA:h.fromB),p=s+(n?h.toA:h.toB),m=Math.max(u,d),g=Math.min(f,p);if(m<g&&i.add(m,g,DB),p<f)l++;else break}u=f}}}function iC(e){let t=e.state.field(za),{side:n,highlightChanges:r,markGutter:i}=e.state.facet(Bn),a=n=="a",s=new ye.RangeSetBuilder,o=i?new ye.RangeSetBuilder:null,{from:l,to:c}=e.viewport;for(let u of t){if((a?u.fromA:u.fromB)>=c)break;(a?u.toA:u.toB)>l&&$B(u,e.state.doc,a,r,s,o)}return{deco:s.finish(),gutter:o&&o.finish()}}var Ha=class extends xe.WidgetType{constructor(t){super(),this.height=t}eq(t){return this.height==t.height}toDOM(){let t=document.createElement("div");return t.className="cm-mergeSpacer",t.style.height=this.height+"px",t}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},Uu=ye.StateEffect.define({map:(e,t)=>e.map(t)}),Po=ye.StateField.define({create:()=>xe.Decoration.none,update:(e,t)=>{for(let n of t.effects)if(n.is(Uu))return n.value;return e.map(t.changes)},provide:e=>xe.EditorView.decorations.from(e)}),Nu=.01;function aC(e,t){if(e.size!=t.size)return!1;let n=e.iter(),r=t.iter();for(;n.value;){if(n.from!=r.from||Math.abs(n.value.spec.widget.height-r.value.spec.widget.height)>1)return!1;n.next(),r.next()}return!0}function HB(e,t,n){let r=new ye.RangeSetBuilder,i=new ye.RangeSetBuilder,a=e.state.field(Po).iter(),s=t.state.field(Po).iter(),o=0,l=0,c=0,u=0,f=e.viewport,h=t.viewport;for(let g=0;;g++){let y=g<n.length?n[g]:null,x=y?y.fromA:e.state.doc.length,_=y?y.fromB:t.state.doc.length;if(o<x){let S=e.lineBlockAt(o).top+c,b=t.lineBlockAt(l).top+u,A=S-b;A<-Nu?(c-=A,r.add(o,o,xe.Decoration.widget({widget:new Ha(-A),block:!0,side:-1}))):A>Nu&&(u+=A,i.add(l,l,xe.Decoration.widget({widget:new Ha(A),block:!0,side:-1})))}if(x>o+1e3&&o<f.from&&x>f.from&&l<h.from&&_>h.from){let S=Math.min(f.from-o,h.from-l);o+=S,l+=S,g--}else if(y)o=y.toA,l=y.toB;else break;for(;a.value&&a.from<o;)c-=a.value.spec.widget.height,a.next();for(;s.value&&s.from<l;)u-=s.value.spec.widget.height,s.next()}for(;a.value;)c-=a.value.spec.widget.height,a.next();for(;s.value;)u-=s.value.spec.widget.height,s.next();let d=e.contentHeight+c-(t.contentHeight+u);d<Nu?r.add(e.state.doc.length,e.state.doc.length,xe.Decoration.widget({widget:new Ha(-d),block:!0,side:1})):d>Nu&&i.add(t.state.doc.length,t.state.doc.length,xe.Decoration.widget({widget:new Ha(d),block:!0,side:1}));let p=r.finish(),m=i.finish();aC(p,e.state.field(Po))||e.dispatch({effects:Uu.of(p)}),aC(m,t.state.field(Po))||t.dispatch({effects:Uu.of(m)})}var Xm=ye.StateEffect.define({map:(e,t)=>t.mapPos(e)}),Ym=class extends xe.WidgetType{constructor(t){super(),this.lines=t}eq(t){return this.lines==t.lines}toDOM(t){let n=document.createElement("div");return n.className="cm-collapsedLines",n.textContent=t.state.phrase("$ unchanged lines",this.lines),n.addEventListener("click",r=>{let i=t.posAtDOM(r.target);t.dispatch({effects:Xm.of(i)});let{side:a,sibling:s}=t.state.facet(Bn);s&&s().dispatch({effects:Xm.of(UB(i,t.state.field(za),a=="a"))})}),n}ignoreEvent(t){return t instanceof MouseEvent}get estimatedHeight(){return 27}};function UB(e,t,n){let r=0,i=0;for(let a=0;;a++){let s=a<t.length?t[a]:null;if(!s||(n?s.fromA:s.fromB)>=e)return i+(e-r);[r,i]=n?[s.toA,s.toB]:[s.toB,s.toA]}}var GB=ye.StateField.define({create(e){return xe.Decoration.none},update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(Xm)&&(e=e.update({filter:r=>r!=n.value}));return e},provide:e=>xe.EditorView.decorations.from(e)});function sC({margin:e=3,minSize:t=4}){return GB.init(n=>zB(n,e,t))}function zB(e,t,n){let r=new ye.RangeSetBuilder,i=e.facet(Bn).side=="a",a=e.field(za),s=1;for(let o=0;;o++){let l=o<a.length?a[o]:null,c=o?s+t:1,u=l?e.doc.lineAt(i?l.fromA:l.fromB).number-1-t:e.doc.lines,f=u-c+1;if(f>=n&&r.add(e.doc.line(c).from,e.doc.line(u).to,xe.Decoration.replace({widget:new Ym(f),block:!0})),!l)break;s=e.doc.lineAt(Math.min(e.doc.length,i?l.toA:l.toB)).number}return r.finish()}var VB=xe.EditorView.styleModule.of(new ju({".cm-mergeView":{overflowY:"auto"},".cm-mergeViewEditors":{display:"flex",alignItems:"stretch"},".cm-mergeViewEditor":{flexGrow:1,flexBasis:0,overflow:"hidden"},".cm-merge-revert":{width:"1.6em",flexGrow:0,flexShrink:0,position:"relative"},".cm-merge-revert button":{position:"absolute",display:"block",width:"100%",boxSizing:"border-box",textAlign:"center",background:"none",border:"none",font:"inherit",cursor:"pointer"}})),WB=xe.EditorView.baseTheme({".cm-mergeView & .cm-scroller, .cm-mergeView &":{height:"auto !important",overflowY:"visible !important"},"&.cm-merge-a .cm-changedLine, .cm-deletedChunk":{backgroundColor:"rgba(160, 128, 100, .08)"},"&.cm-merge-b .cm-changedLine":{backgroundColor:"rgba(100, 160, 128, .08)"},"&light.cm-merge-a .cm-changedText, &light .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ee443366, #ee443366) bottom/100% 2px no-repeat"},"&dark.cm-merge-a .cm-changedText, &dark .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ffaa9966, #ffaa9966) bottom/100% 2px no-repeat"},"&light.cm-merge-b .cm-changedText":{background:"linear-gradient(#22bb2266, #22bb2266) bottom/100% 2px no-repeat"},"&dark.cm-merge-b .cm-changedText":{background:"linear-gradient(#88ff8866, #88ff8866) bottom/100% 2px no-repeat"},".cm-insertedLine, .cm-deletedLine":{textDecoration:"none"},".cm-deletedChunk":{paddingLeft:"6px","& .cm-chunkButtons":{position:"absolute",insetInlineEnd:"5px"},"& button":{border:"none",cursor:"pointer",color:"white",margin:"0 2px",borderRadius:"3px","&[name=accept]":{background:"#2a2"},"&[name=reject]":{background:"#d43"}}},".cm-collapsedLines":{padding:"5px 5px 5px 10px",cursor:"pointer","&:before":{content:'"\u299A"',marginInlineEnd:"7px"},"&:after":{content:'"\u299A"',marginInlineStart:"7px"}},"&light .cm-collapsedLines":{color:"#444",background:"linear-gradient(to bottom, transparent 0, #f3f3f3 30%, #f3f3f3 70%, transparent 100%)"},"&dark .cm-collapsedLines":{color:"#ddd",background:"linear-gradient(to bottom, transparent 0, #222 30%, #222 70%, transparent 100%)"},".cm-changeGutter":{width:"3px",paddingLeft:"1px"},"&light.cm-merge-a .cm-changedLineGutter, &light .cm-deletedLineGutter":{background:"#e43"},"&dark.cm-merge-a .cm-changedLineGutter, &dark .cm-deletedLineGutter":{background:"#fa9"},"&light.cm-merge-b .cm-changedLineGutter":{background:"#2b2"},"&dark.cm-merge-b .cm-changedLineGutter":{background:"#8f8"}}),oC=new ye.Compartment,$u=new ye.Compartment,Gu=class{constructor(t){this.revertDOM=null,this.revertToA=!1,this.revertToLeft=!1,this.measuring=-1,this.diffConf=t.diffConfig||IB;let n=[ye.Prec.low(bC),WB,VB,Po,xe.EditorView.updateListener.of(f=>{this.measuring<0&&(f.heightChanged||f.viewportChanged)&&!f.transactions.some(h=>h.effects.some(d=>d.is(Uu)))&&this.measure()})],r=[Bn.of({side:"a",sibling:()=>this.b,highlightChanges:t.highlightChanges!==!1,markGutter:t.gutter!==!1})];t.gutter!==!1&&r.push(Bu);let i=ye.EditorState.create({doc:t.a.doc,selection:t.a.selection,extensions:[t.a.extensions||[],xe.EditorView.editorAttributes.of({class:"cm-merge-a"}),$u.of(r),n]}),a=[Bn.of({side:"b",sibling:()=>this.a,highlightChanges:t.highlightChanges!==!1,markGutter:t.gutter!==!1})];t.gutter!==!1&&a.push(Bu);let s=ye.EditorState.create({doc:t.b.doc,selection:t.b.selection,extensions:[t.b.extensions||[],xe.EditorView.editorAttributes.of({class:"cm-merge-b"}),$u.of(a),n]});this.chunks=Ua.build(i.doc,s.doc,this.diffConf);let o=[za.init(()=>this.chunks),oC.of(t.collapseUnchanged?sC(t.collapseUnchanged):[])];i=i.update({effects:ye.StateEffect.appendConfig.of(o)}).state,s=s.update({effects:ye.StateEffect.appendConfig.of(o)}).state,this.dom=document.createElement("div"),this.dom.className="cm-mergeView",this.editorDOM=this.dom.appendChild(document.createElement("div")),this.editorDOM.className="cm-mergeViewEditors";let l=t.orientation||"a-b",c=document.createElement("div");c.className="cm-mergeViewEditor";let u=document.createElement("div");u.className="cm-mergeViewEditor",this.editorDOM.appendChild(l=="a-b"?c:u),this.editorDOM.appendChild(l=="a-b"?u:c),this.a=new xe.EditorView({state:i,parent:c,root:t.root,dispatchTransactions:f=>this.dispatch(f,this.a)}),this.b=new xe.EditorView({state:s,parent:u,root:t.root,dispatchTransactions:f=>this.dispatch(f,this.b)}),this.setupRevertControls(!!t.revertControls,t.revertControls=="b-to-a",t.renderRevertControl),t.parent&&t.parent.appendChild(this.dom),this.scheduleMeasure()}dispatch(t,n){if(t.some(r=>r.docChanged)){let r=t[t.length-1],i=t.reduce((s,o)=>s.compose(o.changes),ye.ChangeSet.empty(t[0].startState.doc.length));this.chunks=n==this.a?Ua.updateA(this.chunks,r.newDoc,this.b.state.doc,i,this.diffConf):Ua.updateB(this.chunks,this.a.state.doc,r.newDoc,i,this.diffConf),n.update([...t,r.state.update({effects:qm.of(this.chunks)})]);let a=n==this.a?this.b:this.a;a.update([a.state.update({effects:qm.of(this.chunks)})]),this.scheduleMeasure()}else n.update(t)}reconfigure(t){if("diffConfig"in t&&(this.diffConf=t.diffConfig),"orientation"in t){let a=t.orientation!="b-a";if(a!=(this.editorDOM.firstChild==this.a.dom.parentNode)){let s=this.a.dom.parentNode,o=this.b.dom.parentNode;s.remove(),o.remove(),this.editorDOM.insertBefore(a?s:o,this.editorDOM.firstChild),this.editorDOM.appendChild(a?o:s),this.revertToLeft=!this.revertToLeft,this.revertDOM&&(this.revertDOM.textContent="")}}if("revertControls"in t||"renderRevertControl"in t){let a=!!this.revertDOM,s=this.revertToA,o=this.renderRevert;"revertControls"in t&&(a=!!t.revertControls,s=t.revertControls=="b-to-a"),"renderRevertControl"in t&&(o=t.renderRevertControl),this.setupRevertControls(a,s,o)}let n="highlightChanges"in t,r="gutter"in t,i="collapseUnchanged"in t;if(n||r||i){let a=[],s=[];if(n||r){let o=this.a.state.facet(Bn),l=r?t.gutter!==!1:o.markGutter,c=n?t.highlightChanges!==!1:o.highlightChanges;a.push($u.reconfigure([Bn.of({side:"a",sibling:()=>this.b,highlightChanges:c,markGutter:l}),l?Bu:[]])),s.push($u.reconfigure([Bn.of({side:"b",sibling:()=>this.a,highlightChanges:c,markGutter:l}),l?Bu:[]]))}if(i){let o=oC.reconfigure(t.collapseUnchanged?sC(t.collapseUnchanged):[]);a.push(o),s.push(o)}this.a.dispatch({effects:a}),this.b.dispatch({effects:s})}this.scheduleMeasure()}setupRevertControls(t,n,r){this.revertToA=n,this.revertToLeft=this.revertToA==(this.editorDOM.firstChild==this.a.dom.parentNode),this.renderRevert=r,!t&&this.revertDOM?(this.revertDOM.remove(),this.revertDOM=null):t&&!this.revertDOM?(this.revertDOM=this.editorDOM.insertBefore(document.createElement("div"),this.editorDOM.firstChild.nextSibling),this.revertDOM.addEventListener("mousedown",i=>this.revertClicked(i)),this.revertDOM.className="cm-merge-revert"):this.revertDOM&&(this.revertDOM.textContent="")}scheduleMeasure(){if(this.measuring<0){let t=this.dom.ownerDocument.defaultView||window;this.measuring=t.requestAnimationFrame(()=>{this.measuring=-1,this.measure()})}}measure(){HB(this.a,this.b,this.chunks),this.revertDOM&&this.updateRevertButtons()}updateRevertButtons(){let t=this.revertDOM,n=t.firstChild,r=this.a.viewport,i=this.b.viewport;for(let a=0;a<this.chunks.length;a++){let s=this.chunks[a];if(s.fromA>r.to||s.fromB>i.to)break;if(s.fromA<r.from||s.fromB<i.from)continue;let o=this.a.lineBlockAt(s.fromA).top+"px";for(;n&&+n.dataset.chunk<a;)n=lC(n);n&&n.dataset.chunk==String(a)?(n.style.top!=o&&(n.style.top=o),n=n.nextSibling):t.insertBefore(this.renderRevertButton(o,a),n)}for(;n;)n=lC(n)}renderRevertButton(t,n){let r;if(this.renderRevert)r=this.renderRevert();else{r=document.createElement("button");let i=this.a.state.phrase("Revert this chunk");r.setAttribute("aria-label",i),r.setAttribute("title",i),r.textContent=this.revertToLeft?"\u21DC":"\u21DD"}return r.style.top=t,r.setAttribute("data-chunk",String(n)),r}revertClicked(t){let n=t.target,r;for(;n&&n.parentNode!=this.revertDOM;)n=n.parentNode;if(n&&(r=this.chunks[n.dataset.chunk])){let[i,a,s,o,l,c]=this.revertToA?[this.b,this.a,r.fromB,r.toB,r.fromA,r.toA]:[this.a,this.b,r.fromA,r.toA,r.fromB,r.toB],u=i.state.sliceDoc(s,Math.max(s,o-1));s!=o&&c<=a.state.doc.length&&(u+=i.state.lineBreak),a.dispatch({changes:{from:l,to:Math.min(a.state.doc.length,c),insert:u},userEvent:"revert"}),t.preventDefault()}}destroy(){this.a.destroy(),this.b.destroy(),this.measuring>-1&&(this.dom.ownerDocument.defaultView||window).cancelAnimationFrame(this.measuring),this.dom.remove()}};function lC(e){let t=e.nextSibling;return e.remove(),t}var qa=require("@codemirror/commands"),zu=require("@codemirror/search");var yi=class extends Wa.ItemView{constructor(n,r){super(n);this.plugin=r;this.refreshing=!1;this.ignoreNextModification=!1;this.navigation=!0,this.registerEvent(this.app.workspace.on("obsidian-git:refresh",()=>{this.mergeView?this.updateRefEditors().catch(console.error):this.createMergeView().catch(console.error)})),this.registerEvent(this.app.workspace.on("obsidian-git:head-change",()=>{this.mergeView?this.updateRefEditors().catch(console.error):this.createMergeView().catch(console.error)})),this.intervalRef=window.setInterval(()=>{this.mergeView&&this.updateRefEditors().catch(console.error)},30*1e3),this.registerEvent(this.app.vault.on("modify",i=>{this.state.bRef==null&&i.path===this.state.bFile&&(this.ignoreNextModification?this.ignoreNextModification=!1:this.updateModifiableEditor().catch(console.error))})),this.registerEvent(this.app.vault.on("delete",i=>{this.state.bRef==null&&i.path===this.state.bFile&&this.createMergeView().catch(console.error)})),this.registerEvent(this.app.vault.on("create",i=>{this.state.bRef==null&&i.path===this.state.bFile&&this.createMergeView().catch(console.error)})),this.registerEvent(this.app.vault.on("rename",(i,a)=>{this.state.bRef==null&&(i.path===this.state.bFile||a===this.state.bFile)&&this.createMergeView().catch(console.error)})),this.fileSaveDebouncer=(0,Wa.debounce)(i=>{let a=this.state.bFile;a&&(this.ignoreNextModification=!0,this.plugin.app.vault.adapter.write(a,i).catch(s=>this.plugin.displayError(s)))},1e3,!1)}getViewType(){return vr.type}getDisplayText(){var n;if(((n=this.state)==null?void 0:n.bFile)!=null){let r=this.state.bFile.split("/").last();return r!=null&&r.endsWith(".md")&&(r=r.slice(0,-3)),`Diff: ${r}`}return vr.name}getIcon(){return vr.icon}async setState(n,r){this.state=n,Wa.Platform.isMobile&&(this.leaf.view.titleEl.textContent=this.getDisplayText()),await super.setState(n,r),await this.createMergeView()}getState(){return this.state}onClose(){return window.clearInterval(this.intervalRef),super.onClose()}async onOpen(){return await this.createMergeView(),super.onOpen()}async gitShow(n,r){try{return await this.plugin.gitManager.show(n,r,!1)}catch(i){if(i instanceof Yt&&(i.message.includes("does not exist")||i.message.includes("unknown revision or path")||i.message.includes("exists on disk, but not in")))return"";throw i}}async bShouldBeEditable(){if(this.state.bRef!=null)return!1;let n=this.plugin.gitManager.getRelativeVaultPath(this.state.bFile);return await this.app.vault.adapter.exists(n)}async updateModifiableEditor(){if(!this.mergeView||this.refreshing)return;let n=this.mergeView.b;this.refreshing=!0;let r=await this.app.vault.adapter.read(this.state.bFile);if(r!=n.state.doc.toString()){let i=n.state.update({changes:{from:0,to:n.state.doc.length,insert:r},annotations:[Va.Transaction.remote.of(!0)]});n.dispatch(i)}this.refreshing=!1}async updateRefEditors(){if(!this.mergeView||this.refreshing)return;let n=this.mergeView.a,r=this.mergeView.b;this.refreshing=!0;let i=await this.gitShow(this.state.aRef,this.state.aFile),a;if(this.state.bRef!=null&&(a=await this.gitShow(this.state.bRef,this.state.bFile)),i!=n.state.doc.toString()){let s=n.state.update({changes:{from:0,to:n.state.doc.length,insert:i}});n.dispatch(s)}if(a!=null&&a!=r.state.doc.toString()){let s=r.state.update({changes:{from:0,to:r.state.doc.length,insert:a}});r.dispatch(s)}this.refreshing=!1}async createMergeView(){var n,r,i;if((n=this.state)!=null&&n.aFile&&((r=this.state)!=null&&r.bFile)&&!this.refreshing&&this.plugin.gitManager){this.refreshing=!0,(i=this.mergeView)==null||i.destroy();let a=this.containerEl.children[1];a.empty(),this.contentEl.addClass("git-split-diff-view"),this.bIsEditable=await this.bShouldBeEditable();let s=await this.gitShow(this.state.aRef,this.state.aFile),o;if(this.state.bRef!=null)o=await this.gitShow(this.state.bRef,this.state.bFile);else{let p=this.plugin.gitManager.getRelativeVaultPath(this.state.bFile);await this.app.vault.adapter.exists(p)?o=await this.app.vault.adapter.read(p):o=""}let l=[(0,fn.lineNumbers)(),(0,zu.highlightSelectionMatches)(),(0,fn.drawSelection)(),fn.keymap.of([...qa.standardKeymap,qa.indentWithTab]),(0,qa.history)(),(0,zu.search)(),fn.EditorView.lineWrapping],c=this,u=fn.ViewPlugin.define(p=>({update(m){if(m.docChanged&&!m.transactions.some(g=>g.annotation(Va.Transaction.remote))){let g=p.state.doc.toString();c.fileSaveDebouncer(g)}}})),f={doc:s,extensions:[...l,fn.EditorView.editable.of(!1),Va.EditorState.readOnly.of(!0)]},h=[...l];this.bIsEditable?h.push(u):h.push(fn.EditorView.editable.of(!1),Va.EditorState.readOnly.of(!0));let d={doc:o,extensions:h};a.addClasses(["cm-s-obsidian","mod-cm6","markdown-source-view","cm-content"]),this.mergeView=new Gu({b:d,a:f,diffConfig:{scanLimit:this.bIsEditable?1e3:1e4},parent:a}),this.refreshing=!1}}};var Vu=class extends ke.Plugin{constructor(){super(...arguments);this.tools=new Fo(this);this.state={gitAction:0,loading:!1,offlineMode:!1};this.gitReady=!1;this.promiseQueue=new au(this);this.loading=!1;this.intervalsToClear=[];this.lineAuthoringFeature=new iu(this)}setPluginState(n){var r;this.state=Object.assign(this.state,n),(r=this.statusBar)==null||r.display()}async updateCachedStatus(){var n,r;return this.cachedStatus=await this.gitManager.status(),this.cachedStatus.conflicted.length>0?(this.localStorage.setConflict(!0),await((n=this.branchBar)==null?void 0:n.display())):(this.localStorage.setConflict(!1),await((r=this.branchBar)==null?void 0:r.display())),this.cachedStatus}async refresh(){if(!this.gitReady)return;let n=this.app.workspace.getLeavesOfType(yt.type),r=this.app.workspace.getLeavesOfType(an.type);(this.settings.changedFilesInStatusBar||n.some(i=>{var a;return!((a=i.isDeferred)!=null&&a)})||r.some(i=>{var a;return!((a=i.isDeferred)!=null&&a)}))&&(this.loading=!0,this.app.workspace.trigger("obsidian-git:view-refresh"),await this.updateCachedStatus().catch(i=>this.displayError(i)),this.loading=!1,this.app.workspace.trigger("obsidian-git:view-refresh"))}refreshUpdatedHead(){this.lineAuthoringFeature.refreshLineAuthorViews()}async onload(){console.log("loading "+this.manifest.name+" plugin: v"+this.manifest.version),uo.plugin=this,this.localStorage=new fu(this),this.localStorage.migrate(),await this.loadSettings(),await this.migrateSettings(),this.settingsTab=new zc(this.app,this),this.addSettingTab(this.settingsTab),this.localStorage.getPluginDisabled()||(this.registerStuff(),this.app.workspace.onLayoutReady(()=>this.init({fromReload:!1}).catch(n=>this.displayError(n))))}onExternalSettingsChange(){this.reloadSettings().catch(n=>this.displayError(n))}async reloadSettings(){let n=JSON.stringify(this.settings);await this.loadSettings();let r=JSON.stringify(this.settings);n!==r&&(this.log("Reloading settings"),this.unloadPlugin(),await this.init({fromReload:!0}),this.app.workspace.getLeavesOfType(yt.type).forEach(i=>{var a;if(!((a=i.isDeferred)!=null&&a))return i.view.reload()}),this.app.workspace.getLeavesOfType(an.type).forEach(i=>{var a;if(!((a=i.isDeferred)!=null&&a))return i.view.reload()}))}registerStuff(){this.registerEvent(this.app.workspace.on("obsidian-git:refresh",()=>{this.refresh().catch(n=>this.displayError(n))})),this.registerEvent(this.app.workspace.on("obsidian-git:head-change",()=>{this.refreshUpdatedHead()})),this.registerEvent(this.app.workspace.on("file-menu",(n,r,i)=>{this.handleFileMenu(n,r,i)})),this.registerEvent(this.app.workspace.on("active-leaf-change",n=>{this.onActiveLeafChange(n)})),this.registerEvent(this.app.vault.on("modify",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerEvent(this.app.vault.on("delete",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerEvent(this.app.vault.on("create",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerEvent(this.app.vault.on("rename",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerView(yt.type,n=>new To(n,this)),this.registerView(an.type,n=>new Ao(n,this)),this.registerView(wr.type,n=>new hi(n,this)),this.registerView(vr.type,n=>new yi(n,this)),this.addRibbonIcon("git-pull-request","Open Git source control",async()=>{var i;let n=this.app.workspace.getLeavesOfType(yt.type),r;n.length===0?(r=(i=this.app.workspace.getRightLeaf(!1))!=null?i:this.app.workspace.getLeaf(),await r.setViewState({type:yt.type})):r=n.first(),await this.app.workspace.revealLeaf(r),this.app.workspace.trigger("obsidian-git:refresh")}),this.registerHoverLinkSource(yt.type,{display:"Git View",defaultMod:!0}),this.lineAuthoringFeature.onLoadPlugin(),this.setRefreshDebouncer(),vk(this)}setRefreshDebouncer(){var n;(n=this.debRefresh)==null||n.cancel(),this.debRefresh=(0,ke.debounce)(()=>{this.settings.refreshSourceControl&&this.refresh().catch(console.error)},this.settings.refreshSourceControlTimer,!0)}async addFileToGitignore(n){return await this.app.vault.adapter.append(this.gitManager.getRelativeVaultPath(".gitignore"),`
`+this.gitManager.getRelativeRepoPath(n.path,!0)),this.refresh()}handleFileMenu(n,r,i){this.gitReady&&this.settings.showFileMenu&&r&&(this.settings.showFileMenu&&i=="file-explorer-context-menu"&&(n.addItem(a=>{a.setTitle("Git: Stage").setIcon("plus-circle").setSection("action").onClick(s=>{this.promiseQueue.addTask(async()=>{r instanceof ke.TFile?await this.gitManager.stage(r.path,!0):await this.gitManager.stageAll({dir:this.gitManager.getRelativeRepoPath(r.path,!0)}),this.displayMessage(`Staged ${r.path}`)})})}),n.addItem(a=>{a.setTitle("Git: Unstage").setIcon("minus-circle").setSection("action").onClick(s=>{this.promiseQueue.addTask(async()=>{r instanceof ke.TFile?await this.gitManager.unstage(r.path,!0):await this.gitManager.unstageAll({dir:this.gitManager.getRelativeRepoPath(r.path,!0)}),this.displayMessage(`Unstaged ${r.path}`)})})}),n.addItem(a=>{a.setTitle("Git: Add to .gitignore").setIcon("file-x").setSection("action").onClick(s=>{this.addFileToGitignore(r).catch(o=>this.displayError(o))})})),i=="git-source-control"&&n.addItem(a=>{a.setTitle("Git: Add to .gitignore").setIcon("file-x").setSection("action").onClick(s=>{this.addFileToGitignore(r).catch(o=>this.displayError(o))})}))}async migrateSettings(){this.settings.mergeOnPull!=null&&(this.settings.syncMethod=this.settings.mergeOnPull?"merge":"rebase",this.settings.mergeOnPull=void 0,await this.saveSettings()),this.settings.autoCommitMessage===void 0&&(this.settings.autoCommitMessage=this.settings.commitMessage,await this.saveSettings()),this.settings.gitPath!=null&&(this.localStorage.setGitPath(this.settings.gitPath),this.settings.gitPath=void 0,await this.saveSettings()),this.settings.username!=null&&(this.localStorage.setPassword(this.settings.username),this.settings.username=void 0,await this.saveSettings())}unloadPlugin(){var n,r;this.gitReady=!1,this.app.workspace.trigger("obsidian-git:refresh"),this.lineAuthoringFeature.deactivateFeature(),this.automaticsManager.unload(),(n=this.branchBar)==null||n.remove(),(r=this.statusBar)==null||r.remove(),this.gitManager.unload(),this.promiseQueue.clear();for(let i of this.intervalsToClear)window.clearInterval(i);this.intervalsToClear=[],this.debRefresh.cancel()}onunload(){this.unloadPlugin(),console.log("unloading "+this.manifest.name+" plugin")}async loadSettings(){let n=await this.loadData();n==null&&(n={showedMobileNotice:!0}),this.settings=L2(Rn,n)}async saveSettings(){var n;(n=this.settingsTab)==null||n.beforeSaveSettings(),await this.saveData(this.settings)}get useSimpleGit(){return ke.Platform.isDesktopApp}async init({fromReload:n=!1}){var r;if(this.settings.showStatusBar){let i=this.addStatusBarItem();this.statusBar=new su(i,this),this.intervalsToClear.push(window.setInterval(()=>{var a;return(a=this.statusBar)==null?void 0:a.display()},1e3))}try{this.useSimpleGit?(this.gitManager=new Se(this),await this.gitManager.setGitInstance()):this.gitManager=new bn(this);let i=await this.gitManager.checkRequirements();switch(i){case"missing-git":this.displayError(`Cannot run git command. Trying to run: '${this.localStorage.getGitPath()||"git"}' .`);break;case"missing-repo":new ke.Notice("Can't find a valid git repository. Please create one via the given command or clone an existing repo.",1e4);break;case"valid":if(this.gitReady=!0,this.setPluginState({gitAction:0}),ke.Platform.isDesktop&&this.settings.showBranchStatusBar){let a=this.addStatusBarItem();this.branchBar=new Lu(a,this),this.intervalsToClear.push(window.setInterval(()=>{var s;return void((s=this.branchBar)==null?void 0:s.display().catch(console.error))},6e4))}await((r=this.branchBar)==null?void 0:r.display()),this.lineAuthoringFeature.conditionallyActivateBySettings(),this.app.workspace.trigger("obsidian-git:refresh"),!n&&this.settings.autoPullOnBoot&&this.promiseQueue.addTask(()=>this.pullChangesFromRemote()),this.automaticsManager=new fo(this),await this.automaticsManager.init();break;default:this.log("Something weird happened. The 'checkRequirements' result is "+i)}}catch(i){this.displayError(i),console.error(i)}}async createNewRepo(){try{await this.gitManager.init(),new ke.Notice("Initialized new repo"),await this.init({fromReload:!0})}catch(n){this.displayError(n)}}async cloneNewRepo(){let r=await new je(this,{placeholder:"Enter remote URL"}).openAndGetResult();if(r){let i="Vault Root",a=await new je(this,{options:this.gitManager instanceof bn?[i]:[],placeholder:"Enter directory for clone. It needs to be empty or not existent.",allowEmpty:this.gitManager instanceof bn}).openAndGetResult();if(a==null)return;if(a===i&&(a="."),a=(0,ke.normalizePath)(a),a==="/"&&(a="."),a==="."){let f=await new je(this,{options:["NO","YES"],placeholder:`Does your remote repo contain a ${this.app.vault.configDir} directory at the root?`,onlySelection:!0}).openAndGetResult();if(f===void 0){new ke.Notice("Aborted clone");return}else if(f==="YES"){let h="DELETE ALL YOUR LOCAL CONFIG AND PLUGINS";if(await new je(this,{options:["Abort clone",h],placeholder:`To avoid conflicts, the local ${this.app.vault.configDir} directory needs to be deleted.`,onlySelection:!0}).openAndGetResult()===h)await this.app.vault.adapter.rmdir(this.app.vault.configDir,!0);else{new ke.Notice("Aborted clone");return}}}let s=await new je(this,{placeholder:"Specify depth of clone. Leave empty for full clone.",allowEmpty:!0}).openAndGetResult(),o;if(s!==""&&(o=parseInt(s),isNaN(o))){new ke.Notice("Invalid depth. Aborting clone.");return}new ke.Notice(`Cloning new repo into "${a}"`);let l=this.settings.basePath,c=a&&a!==".";c&&(this.settings.basePath=a);try{await this.gitManager.clone(r,a,o),new ke.Notice("Cloned new repo."),new ke.Notice("Please restart Obsidian"),c&&await this.saveSettings()}catch(u){this.displayError(u),this.settings.basePath=l,await this.saveSettings()}}}async isAllInitialized(){return this.gitReady||await this.init({fromReload:!0}),this.gitReady}async pullChangesFromRemote(){if(!await this.isAllInitialized())return;let n=await this.pull();if(await this.automaticsManager.setUpAutoCommitAndSync(),n!==!1){if(n||this.displayMessage("Pull: Everything is up-to-date"),this.gitManager instanceof Se){let r=await this.updateCachedStatus();r.conflicted.length>0&&(this.displayError(`You have conflicts in ${r.conflicted.length} ${r.conflicted.length==1?"file":"files"}`),await this.handleConflict(r.conflicted))}this.app.workspace.trigger("obsidian-git:refresh"),this.setPluginState({gitAction:0})}}async commitAndSync(n,r=!1,i){!await this.isAllInitialized()||(this.settings.syncMethod=="reset"&&this.settings.pullBeforePush&&await this.pull(),!await this.commit({fromAuto:n,requestCustomMessage:r,commitMessage:i}))||(this.settings.syncMethod!="reset"&&this.settings.pullBeforePush&&await this.pull(),this.settings.disablePush||(await this.remotesAreSet()&&await this.gitManager.canPush()?await this.push():this.displayMessage("No commits to push")),this.setPluginState({gitAction:0}))}async commit({fromAuto:n,requestCustomMessage:r=!1,onlyStaged:i=!1,commitMessage:a,amend:s=!1}){if(!await this.isAllInitialized())return!1;try{let o=this.localStorage.getConflict(),l,c,u;if(this.gitManager instanceof Se){if(await this.mayDeleteConflictFile(),c=await this.updateCachedStatus(),c.conflicted.length==0&&(o=!1),n&&c.conflicted.length>0)return this.displayError(`Did not commit, because you have conflicts in ${c.conflicted.length} ${c.conflicted.length==1?"file":"files"}. Please resolve them and commit per command.`),await this.handleConflict(c.conflicted),!1;l=[...c.changed,...c.staged]}else{if(n&&o)return this.displayError("Did not commit, because you have conflicts. Please resolve them and commit per command."),!1;if(o)await this.mayDeleteConflictFile(),c=await this.updateCachedStatus(),l=[...c.changed,...c.staged];else{let f=this.gitManager;i?l=await f.getStagedFiles():(u=await f.getUnstagedFiles(),l=u.map(({filepath:h})=>({vault_path:this.gitManager.getRelativeVaultPath(h)})))}}if(await this.tools.hasTooBigFiles(l))return this.setPluginState({gitAction:0}),!1;if(l.length!==0||o){let f=a!=null?a:a=n?this.settings.autoCommitMessage:this.settings.commitMessage;if(n&&this.settings.customMessageOnAutoBackup||r){!this.settings.disablePopups&&n&&new ke.Notice("Auto backup: Please enter a custom commit message. Leave empty to abort");let p=await new ou(this).openAndGetResult();if(p!=null&&p!=""&&p!="...")f=p;else return this.setPluginState({gitAction:0}),!1}let h;i?h=await this.gitManager.commit({message:f,amend:s}):h=await this.gitManager.commitAll({message:f,status:c,unstagedFiles:u,amend:s}),this.gitManager instanceof Se&&await this.updateCachedStatus();let d=!1;h===void 0&&(d=!0,h=l.length),await this.automaticsManager.setUpAutoCommitAndSync(),this.displayMessage(`Committed${d?" approx.":""} ${h} ${h==1?"file":"files"}`)}else this.displayMessage("No changes to commit");return this.app.workspace.trigger("obsidian-git:refresh"),!0}catch(o){return this.displayError(o),!1}}async push(){if(!await this.isAllInitialized()||!await this.remotesAreSet())return!1;let n=this.localStorage.getConflict();try{this.gitManager instanceof Se&&await this.mayDeleteConflictFile();let r;if(this.gitManager instanceof Se&&(r=await this.updateCachedStatus()).conflicted.length>0)return this.displayError(`Cannot push. You have conflicts in ${r.conflicted.length} ${r.conflicted.length==1?"file":"files"}`),await this.handleConflict(r.conflicted),!1;if(this.gitManager instanceof bn&&n)return this.displayError("Cannot push. You have conflicts"),!1;this.log("Pushing....");let i=await this.gitManager.push();return i!==void 0&&(i>0?this.displayMessage(`Pushed ${i} ${i==1?"file":"files"} to remote`):this.displayMessage("No commits to push")),this.setPluginState({offlineMode:!1}),this.app.workspace.trigger("obsidian-git:refresh"),!0}catch(r){return r instanceof ia?this.handleNoNetworkError(r):this.displayError(r),!1}}async pull(){if(!await this.remotesAreSet())return!1;try{this.log("Pulling....");let n=await this.gitManager.pull()||[];return this.setPluginState({offlineMode:!1}),n.length>0&&(this.displayMessage(`Pulled ${n.length} ${n.length==1?"file":"files"} from remote`),this.lastPulledFiles=n),n.length}catch(n){return this.displayError(n),!1}}async fetch(){if(await this.remotesAreSet())try{await this.gitManager.fetch(),this.displayMessage("Fetched from remote"),this.setPluginState({offlineMode:!1}),this.app.workspace.trigger("obsidian-git:refresh")}catch(n){this.displayError(n)}}async mayDeleteConflictFile(){let n=this.app.vault.getAbstractFileByPath(na);n&&(this.app.workspace.iterateAllLeaves(r=>{var i;r.view instanceof ke.MarkdownView&&((i=r.view.file)==null?void 0:i.path)==n.path&&r.detach()}),await this.app.vault.delete(n))}async stageFile(n){return await this.isAllInitialized()?(await this.gitManager.stage(n.path,!0),this.displayMessage(`Staged ${n.path}`),this.app.workspace.trigger("obsidian-git:refresh"),this.setPluginState({gitAction:0}),!0):!1}async unstageFile(n){return await this.isAllInitialized()?(await this.gitManager.unstage(n.path,!0),this.displayMessage(`Unstaged ${n.path}`),this.app.workspace.trigger("obsidian-git:refresh"),this.setPluginState({gitAction:0}),!0):!1}async switchBranch(){var i;if(!await this.isAllInitialized())return;let n=await this.gitManager.branchInfo(),r=await new Fu(this,n.branches).openAndGetReslt();if(r!=null)return await this.gitManager.checkout(r),this.displayMessage(`Switched to ${r}`),await((i=this.branchBar)==null?void 0:i.display()),r}async switchRemoteBranch(){var a;if(!await this.isAllInitialized())return;let n=await this.selectRemoteBranch()||"",[r,i]=Cr(n);if(i!=null&&r!=null)return await this.gitManager.checkout(i,r),this.displayMessage(`Switched to ${n}`),await((a=this.branchBar)==null?void 0:a.display()),n}async createBranch(){var r;if(!await this.isAllInitialized())return;let n=await new je(this,{placeholder:"Create new branch"}).openAndGetResult();if(n!=null)return await this.gitManager.createBranch(n),this.displayMessage(`Created new branch ${n}`),await((r=this.branchBar)==null?void 0:r.display()),n}async deleteBranch(){var i;if(!await this.isAllInitialized())return;let n=await this.gitManager.branchInfo();n.current&&n.branches.remove(n.current);let r=await new je(this,{options:n.branches,placeholder:"Delete branch",onlySelection:!0}).openAndGetResult();if(r!=null){let a=!1;if(!await this.gitManager.branchIsMerged(r)){let o=await new je(this,{options:["YES","NO"],placeholder:"This branch isn't merged into HEAD. Force delete?",onlySelection:!0}).openAndGetResult();if(o!=="YES")return;a=o==="YES"}return await this.gitManager.deleteBranch(r,a),this.displayMessage(`Deleted branch ${r}`),await((i=this.branchBar)==null?void 0:i.display()),r}}async remotesAreSet(){return this.settings.updateSubmodules||(await this.gitManager.branchInfo()).tracking?!0:(new ke.Notice("No upstream branch is set. Please select one."),await this.setUpstreamBranch())}async setUpstreamBranch(){let n=await this.selectRemoteBranch();return n==null?(this.displayError("Aborted. No upstream-branch is set!",1e4),this.setPluginState({gitAction:0}),!1):(await this.gitManager.updateUpstreamBranch(n),this.displayMessage(`Set upstream branch to ${n}`),this.setPluginState({gitAction:0}),!0)}async discardAll(){await this.gitManager.discardAll({status:this.cachedStatus}),new ke.Notice("All local changes have been discarded. New files remain untouched.")}async handleConflict(n){this.localStorage.setConflict(!0);let r;n!==void 0&&(r=["# Conflicts","Please resolve them and commit them using the commands `Git: Commit all changes` followed by `Git: Push`","(This file will automatically be deleted before commit)","[[#Additional Instructions]] available below file list","",...n.map(i=>{let a=this.app.vault.getAbstractFileByPath(i);return a instanceof ke.TFile?`- [[${this.app.metadataCache.fileToLinktext(a,"/")}]]`:`- Not a file: ${i}`}),`
# Additional Instructions
I strongly recommend to use "Source mode" for viewing the conflicted files. For simple conflicts, in each file listed above replace every occurrence of the following text blocks with the desired text.

\`\`\`diff
<<<<<<< HEAD
    File changes in local repository
=======
    File changes in remote repository
>>>>>>> origin/main
\`\`\``]),await this.tools.writeAndOpenFile(r==null?void 0:r.join(`
`))}async editRemotes(){if(!await this.isAllInitialized())return;let n=await this.gitManager.getRemotes(),i=await new je(this,{options:n,placeholder:"Select or create a new remote by typing its name and selecting it"}).openAndGetResult();if(i){let a=await this.gitManager.getRemoteUrl(i),o=await new je(this,{initialValue:a}).openAndGetResult();if(o)return await this.gitManager.setRemote(i,o),i}}async selectRemoteBranch(){let n=await this.gitManager.getRemotes(),r;n.length===0&&(r=await this.editRemotes(),r==null&&(n=await this.gitManager.getRemotes()));let i=new je(this,{options:n,placeholder:"Select or create a new remote by typing its name and selecting it"}),a=r!=null?r:await i.openAndGetResult();if(a){this.displayMessage("Fetching remote branches"),await this.gitManager.fetch(a);let s=await this.gitManager.getRemoteBranches(a);return await new je(this,{options:s,placeholder:"Select or create a new remote branch by typing its name and selecting it"}).openAndGetResult()}}async removeRemote(){if(!await this.isAllInitialized())return;let n=await this.gitManager.getRemotes(),i=await new je(this,{options:n,placeholder:"Select a remote"}).openAndGetResult();i&&await this.gitManager.removeRemote(i)}onActiveLeafChange(n){var s,o;let r=n==null?void 0:n.view;if(!(r!=null&&r.getState().file)&&!(r instanceof hi||r instanceof yi))return;let i=this.app.workspace.getLeavesOfType(yt.type).first(),a=this.app.workspace.getLeavesOfType(an.type).first();if((s=i==null?void 0:i.view.containerEl.querySelector("div.nav-file-title.is-active"))==null||s.removeClass("is-active"),(o=a==null?void 0:a.view.containerEl.querySelector("div.nav-file-title.is-active"))==null||o.removeClass("is-active"),(n==null?void 0:n.view)instanceof hi||(n==null?void 0:n.view)instanceof yi){let l=n.view.state.bFile;this.lastDiffViewState=n.view.getState();let c;i&&n.view.state.aRef=="HEAD"?c=i.view.containerEl.querySelector(`div.staged div.nav-file-title[data-path='${l}']`):i&&n.view.state.aRef==""?c=i.view.containerEl.querySelector(`div.changes div.nav-file-title[data-path='${l}']`):a&&(c=a.view.containerEl.querySelector(`div.nav-file-title[data-path='${l}']`)),c==null||c.addClass("is-active")}else this.lastDiffViewState=void 0}handleNoNetworkError(n){this.state.offlineMode?this.log("Encountered network error, but already in offline mode"):this.displayError("Git: Going into offline mode. Future network errors will no longer be displayed.",2e3),this.setPluginState({gitAction:0,offlineMode:!0})}displayMessage(n,r=4*1e3){var i;(i=this.statusBar)==null||i.displayMessage(n.toLowerCase(),r),this.settings.disablePopups||(!this.settings.disablePopupsForNoChanges||!n.startsWith("No changes"))&&new ke.Notice(n,5*1e3),this.log(n)}displayError(n,r=10*1e3){var a;if(n instanceof Os.UserCanceledError){new ke.Notice("Aborted");return}let i;n instanceof Error?i=n:i=new Error(String(n)),this.setPluginState({gitAction:0}),new ke.Notice(i.message,r),console.error(`${this.manifest.id}:`,i.stack),(a=this.statusBar)==null||a.displayMessage(i.message.toLowerCase(),r)}log(...n){console.log(`${this.manifest.id}:`,...n)}};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.9.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)

feather-icons/dist/feather.js:
  (*!
    Copyright (c) 2016 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  *)
*/

/* nosourcemap */